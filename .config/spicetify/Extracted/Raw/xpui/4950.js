"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[4950,456,2824],{34950:(e,t,a)=>{a.r(t),a.d(t,{AdsNpv:()=>Fe,default:()=>we});var n=a(10226),i=a(88737),s=a(22889),r=a(4572),c=a(50959),d=a(39505),l=a(10761);var o=a(17676),m=a(80626),u=a(69736),x=a(85648),v=a(24982),j=a(11527);const h=({item:e,variant:t="bodyMediumBold",semanticColor:a="textBase",className:n})=>{const i=e.isPodcastAd?x.ag.get("ad-formats.npv.header.podcast-context"):x.ag.get("ad-formats.npv.header.music-context");return(0,j.jsx)("div",{className:n,children:(0,j.jsx)(v.R,{children:(0,j.jsx)(u.x,{variant:t,semanticColor:a,children:i})},i)})};var g=a(97013),f=a(40235);const p=({menu:e,onClick:t})=>(0,j.jsx)(f.y,{menu:e,children:(0,j.jsx)(g.z,{size:g.q.xs,"aria-label":x.ag.get("more"),onClick:t})});var C=a(88308),I=a(57028),k=a(24071);function b(){const e=(0,k.s4)();return{linkUbiEvent:function({adId:t,ubiEventId:a,product:n,format:i,requestId:s}){e.send((0,I.F)({ad_id:t,ad_request_id:s,ad_format:i,content_type:n,ubi_event_id:a}))}}}var N=a(6807),_=a(14892),y=a(35869),T=a(21165),A=a(94948),E=a(26193),P=a(45438);const U=({item:e,spec:t,contextTrack:a})=>{const n=(0,y.I0)(),i=(0,m.$P)(),{linkUbiEvent:s}=b(),c=`${(0,r.Cy)(a)}_${(0,r.C4)(a)}`;return(0,j.jsx)(_.s,{role:"menuitem",testid:"about-this-ad-context-menu-item",leadingIcon:(0,j.jsx)(T.W,{size:"small"}),"aria-label":x.ag.get("ad-formats.dsa.aboutThisAd"),onClick:()=>{n((0,E.w9)()),n((0,A.Xc)(e));const d=t.contextMenuFactory({identifier:e.metadata?.lineitem_id,reason:c}).triggerDsaFactory().hitUiNavigate({destination:"/context_menu"}),{interactionId:l}=i.logInteraction(d);s({adId:e.adId,requestId:e.requestId,ubiEventId:l,format:(0,r.Cy)(a),product:(0,r.C4)(a)})},divider:"before",children:x.ag.get("ad-formats.dsa.aboutThisAd")})},B=(0,c.memo)((function(e){return(0,j.jsx)(P.JL,{value:"about-this-ad",children:(0,j.jsx)(U,{...e})})})),M=(0,c.memo)((function({item:e,spec:t,contextTrack:a}){const n=(0,m.$P)(),{linkUbiEvent:i}=b(),s=`${(0,r.Cy)(a)}_${(0,r.C4)(a)}`;return(0,c.useEffect)((()=>{(()=>{const c=n.logImpression(t.contextMenuFactory({identifier:e.metadata?.lineitem_id,reason:s}).impression());i({adId:e.adId,requestId:e.requestId,format:(0,r.Cy)(a),product:(0,r.C4)(a),ubiEventId:c})})()}),[]),(0,j.jsx)(P.JL,{value:"ad",children:(0,j.jsxs)(N.v,{children:[(0,j.jsx)(P.JL,{value:"ad-title",children:(0,j.jsx)(_.s,{role:"menuitem",testid:"ad-title-context-menu-item",divider:"after",disabled:!0,children:e.metadata.advertiser})}),(0,j.jsx)(B,{item:e,spec:t,contextTrack:a})]})})}));var V=a(37797),F=a(30456),w=a(12824);const D="JiMklw0itqYJ1aE76Vi8",q=({item:e})=>(0,j.jsxs)("div",{className:D,children:[(0,j.jsx)(w.ContextAdTitle,{item:e,surface:"AD_NPV"}),(0,j.jsx)(F.ContextAdSubtitle,{item:e,surface:"AD_NPV"})]}),J="NYcvpWpgvQYZploOD6rI",O="OpXrpghZvv_w9ygosJFP",z=({item:e,spec:t})=>{const a=(0,n.W6)(o.gdK,{loadingValue:!1}),i=(0,C.qv)(),s=(0,m.$P)(),{linkUbiEvent:c}=b(),d=`${(0,r.Cy)(e)}_${(0,r.C4)(e)}`;return(0,j.jsxs)("div",{className:J,children:[(0,j.jsx)(q,{item:e}),(0,j.jsxs)("div",{className:O,children:[(0,j.jsx)(V.fI,{item:e}),a&&i?.isDsaEligible&&(0,j.jsx)("div",{"data-testid":"PanelHeader_AdContextMenuButton",children:(0,j.jsx)(p,{menu:(0,j.jsx)(M,{item:i,contextTrack:e,spec:t}),onClick:()=>{if(i){const a=t.infoContainerFactory().contextMenuButtonFactory({identifier:i.metadata?.lineitem_id,reason:d}).hitUiNavigate({destination:"/context_menu"}),{interactionId:n}=s.logInteraction(a);c({adId:i.adId,requestId:i.requestId,format:(0,r.Cy)(e),product:(0,r.C4)(e),ubiEventId:n})}}})})]})]})};var R=a(85781);const S=({item:e,context:t,index:a})=>t?(0,j.jsx)(R.zZ,{context:t,item:e,index:a}):null;var Z=a(85039);const K="UhO5sUnZ2AoTQjzRdVvw",L=({url:e})=>(0,j.jsx)("div",{className:K,children:(0,j.jsx)(Z.Ee,{testid:"cover-art-image",loading:"lazy",src:e})}),Q=({item:e,visualEnhancementUrl:t})=>(0,j.jsx)(L,{item:e,url:t}),W=e=>(0,j.jsx)(j.Fragment,{}),Y="pvAyLo3KN8QP7KxQtiub",X="r4EqB8Z5_aywMW_8I84P",$=e=>{const{item:t}=e,a=t?.metadata?.["ad.canvas.type"];return"video"===a?(0,j.jsx)(W,{...e}):(0,j.jsx)(Q,{...e})},H=e=>(0,j.jsxs)("div",{className:Y,children:[(0,j.jsx)("div",{className:X}),(0,j.jsx)($,{...e})]}),G="YwDjV6Zkmx7E1lOIi3up",ee="NTBclKVVTAhscebU_AIg",te="tD84X2SD0IicMx3osK8a",ae="lnZe3svuaFIiW5ZFInSS",ne=({item:e,spec:t,currentPanel:a,canvasVisualEnhancementUrl:n})=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(h,{item:e,className:ee}),(0,j.jsx)(H,{item:e,visualEnhancementUrl:n,currentPanel:a,spec:t}),(0,j.jsx)("div",{className:te,children:(0,j.jsx)(z,{item:e,currentPanel:a,spec:t})})]}),ie=({item:e,spec:t,context:a,index:n,currentPanel:i})=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(h,{item:e,className:G}),(0,j.jsx)(S,{item:e,context:a,index:n}),(0,j.jsx)("div",{className:ae,children:(0,j.jsx)(z,{item:e,currentPanel:i,spec:t})})]}),se=e=>{const{item:t}=e,a=(0,n.W6)(o.URs,{loadingValue:!1}),i=t?.metadata?.["ad.canvas.type"],s="image"===i||"video"===i,r=t.metadata?.["ad.canvas.url"];return!!(a&&s&&"image"===i&&r)?(0,j.jsx)(ne,{...e,canvasVisualEnhancementUrl:r}):(0,j.jsx)(ie,{...e})};var re=a(82187),ce=a.n(re),de=a(36353),le=a(16601),oe=a(97345),me=a(94260),ue=a(64420),xe=a(45514),ve=a(14302),je=a(60046);const he="mJucukPuB6OTWgaD4MZk",ge="i3o8ABclZov7rz8zzKYP",fe=(0,c.lazy)((()=>a.e(5382).then(a.bind(a,25382)))),pe=({item:e,backgroundColor:t,className:a})=>{const n=(0,y.I0)(),{url:i,buttonMessage:s,tagline:d}=(0,r.B7)(e),l=s||x.ag.get("ad-formats.learnMore");if(!i)return null;const o=ce()(he,a),m=(0,ue.p)(i);return(0,j.jsx)(je.default,{to:m,"data-testid":"ad-companion-card",className:o,onClick:()=>{n((0,ve.nX)(xe.T.COMPANION_CARD,xe.A.AD_NPV))},children:(0,j.jsx)(le.w,{style:{backgroundColor:t},className:ge,onClickHint:x.ag.get("ad-formats.learnMore"),variant:"tinted",horizontalGap:de.g4,id:e.uri,title:(0,j.jsx)(oe.g,{variant:"mestoBold","data-testid":"ad-companion-card-tagline",children:d||l}),trailing:(0,j.jsx)(c.Suspense,{fallback:(0,j.jsx)(me.V,{}),children:d?(0,j.jsx)(fe,{buttonText:l,clickUrl:m,onClick:()=>{n((0,ve.nX)(xe.T.CTA_BUTTON,xe.A.AD_NPV))}}):(0,j.jsx)(me.V,{semanticColor:"textBase"})})})})},Ce="axYKJRFEPoYl_JdDwH_k",Ie="e4ACuMrLPlskS8z9M_V3",ke="PZ89K8ONeOzgmwmcZRfJ",be="M7UVXKPsARIM71fmtSUG",Ne="HKhLNVB5OsH5osqax9lk",_e="i_7T75rV7Rj7AyykwrCf",ye="aEy4eegLkO7SLgOqnQMJ",Te="na5oNvZD9KtuYIUiIUZg",Ae="_7QFCuyjgT6BwUe1JJVL",Ee="g1fyNwi0G98CTbv9v4We",Pe=({item:e,context:t,index:a,currentPanel:n,spec:i})=>{const s=(e=>{const t=(0,y.v9)((e=>e.ads?.vto));return"audio"===e?.mediaType||!t?.isMinimized})(e),r="portrait"===e.videoOrientation,c=r&&!s?ke:Ce,d=r&&!s?be:Ie,l=ce()(Ae,{[Ee]:r}),o=ce()(ye,{[Te]:r});return(0,j.jsxs)("div",{className:l,children:[(0,j.jsx)(h,{item:e,className:c}),s?(0,j.jsx)(S,{item:e,context:t,index:a}):(0,j.jsxs)("div",{className:_e,children:[r&&(0,j.jsx)("div",{className:Ne}),(0,j.jsx)("div",{className:o,children:(0,j.jsx)(R.t,{})})]}),(0,j.jsx)("div",{className:d,children:(0,j.jsx)(z,{item:e,currentPanel:n,spec:i})})]})},Ue="nqGBR5FksbL2ECk2pwi9",Be="vl6_GKpJYFTBMMj0Jnos",Me="p3X2EfF_IQHyI2bNxBYQ",Ve="qUsBVzhWK68O_ZpxUM1J",Fe=({item:e,context:t,index:a,currentPanel:u})=>{const{logoImage:x}=(0,r.B7)(e),{spec:v,UBIFragment:h}=(0,m.fU)(i.l,{}),g=((e=null,t=0,a=d.peG)=>{const[n,i]=(0,c.useState)(a),s=(0,l.b)(e,a,"colorDark");return(0,c.useEffect)((()=>{setTimeout((()=>{i(s)}),t)}),[t,s]),n})((0,s.Hk)(e)?x:e?.images[0].url||x,600),f=(0,n.W6)(o.O2h,{loadingValue:!1});return(0,j.jsx)("div",{className:Ue,children:(0,j.jsxs)(h,{spec:v,children:[(0,j.jsx)("div",{className:Be,children:(0,j.jsx)("div",{className:Me,children:(0,s.Hk)(e)?(0,j.jsx)(Pe,{item:e,spec:v,index:a,currentPanel:u,context:t}):(0,j.jsx)(se,{item:e,context:t,index:a,currentPanel:u,spec:v})})}),(0,j.jsx)(pe,{item:e,className:Ve,...f&&{backgroundColor:g}})]})})},we=Fe},1826:(e,t,a)=>{a.d(t,{Q:()=>o});var n=a(50959),i=a(10306),s=a(69736),r=a(11317),c=a(60046),d=a(24982),l=a(11527);const o=({uri:e,title:t,clickUrl:a,onClick:o,variant:m,semanticColor:u,testid:x="context-ad-link"})=>{const v=(0,n.useMemo)((()=>(0,r.EC)(a)?.toURLPath(!0)),[a]);let j;return v?j=(0,l.jsx)(c.default,{to:v,dir:"auto","data-testid":x,children:t}):a&&(j=(0,l.jsx)(i.h,{href:a,"data-testid":x,onClick:o,semanticColor:u,standalone:!0,dir:"auto",children:t})),(0,l.jsx)(d.R,{title:t,children:(0,l.jsx)(s.x,{as:"p",variant:m,semanticColor:u,dir:"auto",children:j||t})},e)}},30456:(e,t,a)=>{a.r(t),a.d(t,{ContextAdSubtitle:()=>l,default:()=>o});var n=a(35869),i=a(4572),s=a(45514),r=a(14302),c=a(1826),d=a(11527);const l=({item:e,variant:t="bodyMedium",semanticColor:a="textSubdued",surface:l})=>{const{subtitle:o,url:m}=(0,i.B7)(e),u=(0,n.I0)();return(0,d.jsx)(c.Q,{testid:"context-item-info-ad-subtitle",title:o,variant:t,semanticColor:a,uri:e.uri,clickUrl:m,onClick:()=>{u((0,r.nX)(s.T.ADVERTISER_SUBTITLE,s.A[l]))}})},o=l},12824:(e,t,a)=>{a.r(t),a.d(t,{ContextAdTitle:()=>l,default:()=>o});var n=a(35869),i=a(1826),s=a(4572),r=a(45514),c=a(14302),d=a(11527);const l=({item:e,surface:t,variant:a="titleSmall",semanticColor:l="textBase"})=>{const o=(0,n.I0)(),{title:m,url:u}=(0,s.B7)(e);return m?(0,d.jsx)(i.Q,{title:m,variant:a,semanticColor:l,uri:e.uri,clickUrl:u,onClick:()=>{o((0,c.nX)(r.T.ADVERTISER_TITLE,r.A[t]))}}):null},o=l}}]);
//# sourceMappingURL=4950.js.map