"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7704],{86966:(e,t,s)=>{s.d(t,{X:()=>u});var a=s(59496),n=s(84875),i=s.n(n),r=s(80935),o=s(31921),c=s(87458),l=s(4637);const u=(0,a.memo)((({children:e,isLoading:t,showAll:s})=>{const n=(0,a.useCallback)((({columnCount:t})=>(0,l.jsx)(l.Fragment,{children:s?e:Array.isArray(e)&&e.filter(((e,s)=>s<t))})),[e,s]);return Array.isArray(e)&&0===e.length?null:(0,l.jsxs)("section",{className:c.Z.skeletonShelf,"data-testid":"skeleton-shelf",children:[(0,l.jsx)("div",{className:c.Z.header,children:(0,l.jsx)("div",{className:c.Z.topRow,children:(0,l.jsx)("div",{className:c.Z.titleWrapper,children:(0,l.jsx)(o.C,{as:"span",charCount:25,className:c.Z.title,isLoading:t})})})}),(0,l.jsx)(r.T,{className:i()(c.Z.shelfGrid,{[c.Z.showAll]:s}),render:n})]})}))},72098:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>Ot,SKELETON_SHELVES_COUNT:()=>Bt,SKELETON_SHORTCUTS_COUNT:()=>Ut,default:()=>Jt});var a=s(59496),n=s(84875),i=s.n(n),r=s(31752),o=s(97533),c=s(26443),l=s(13803),u=s(94190),d=s(35916),m=s(31921);const h="view-homeShortcutsGrid-shortcuts",g="sLw5dxB32cAxVxqiar7J",p="view-homeShortcutsGrid-grid",x="view-homeShortcutsGrid-shortcutLink",j="view-homeShortcutsGrid-shortcut",f="view-homeShortcutsGrid-draggable",y="view-homeShortcutsGrid-imageContainer",v="view-homeShortcutsGrid-imageWrapper",C="DqAHiYCkcPCcDorezUKI",S="view-homeShortcutsGrid-image",k="view-homeShortcutsGrid-main",_="view-homeShortcutsGrid-nameWrapper",b="view-homeShortcutsGrid-name",N="EzRmGRncgnv1zFgF4dqE",w="bPmmKmSPLKMhtJSaUJRX",E="vpQWUBWS_lXRLZMRJT7w",I="GSv7K805J9Jw7LB9tn2A",T="view-homeShortcutsGrid-PlayButtonContainer",A="s9c9x_mJq197U2hBzGtV",D="zUf7jtv9GPOKC1jYO5TO",L="T8QLel3PoQTgJUpGYj7Q";var M=s(4637);const P=(0,a.memo)((({isLoading:e})=>{const t=(0,d.h)("shimmer");return(0,M.jsx)("div",{className:y,children:(0,M.jsx)("div",{ref:t,className:i()(v,{[L]:e})})})})),U=(0,a.memo)((({isLoading:e})=>(0,M.jsx)("div",{className:i()(j,D),"data-testid":"skeleton-shortcut",children:(0,M.jsxs)("div",{className:f,children:[(0,M.jsx)(P,{isLoading:e}),(0,M.jsx)("div",{className:k,children:(0,M.jsx)(m.C,{as:"p",variant:"balladBold",className:N,isLoading:e})})]})}))),B=(0,a.memo)((({shortcutCount:e})=>(0,M.jsxs)("section",{className:h,children:[(0,M.jsx)("div",{className:g,children:(0,M.jsx)(m.C,{as:"h2",variant:"alto",charCount:25,isLoading:!0})}),(0,M.jsx)("div",{className:p,children:[...new Array(e).keys()].slice(0,6).map(((e,t)=>(0,M.jsx)(U,{isLoading:!0},t)))})]})));var O=s(29360),H=s(84274),F=s(37902),J=s(21843),R=s(64402),q=s(60527),W=s(30549),z=s(91006),Z=s(29929),Y=s(56993),Q=s(11892),X=s(45627),G=s(2988),K=s(43030),V=s(70952),$=s(58485),ee=s(12171),te=s(62520);const se="AaXwi9LLckdsxNwrosnQ",ae="yX31EzBkHzNooefkSvT3",ne="wZUOa8gqS7gAuIJqv80Q",ie="KYe4m_4IXlE1quZCFGuz",re="r3BoQJS7ivHbIM2SBSiq",oe="rRldspwHsrgo8DsecR2Q",ce=(0,a.forwardRef)((({linkUri:e,loggedIn:t,onClick:s},a)=>{const n=(0,ee.jh)(),i=(0,te.T)();return(0,M.jsx)("div",{className:se,ref:a,children:(0,M.jsxs)("div",{className:(0,X.Mg)("invertedLight",ae),children:[(0,M.jsx)("video",{autoPlay:!i,loop:!0,muted:!0,playsInline:!0,className:`${ne} ${ie}`,src:(0,$.g)("videos/SW23_Entry_Points_Announce_Desktop_Box_Left.webm"),"aria-hidden":"true"}),(0,M.jsx)("video",{autoPlay:!i,loop:!0,muted:!0,playsInline:!0,className:`${ne} ${re}`,src:(0,$.g)("videos/SW23_Entry_Points_Announce_Desktop_Box_Right.webm"),"aria-hidden":"true"}),(0,M.jsx)(G.D,{as:"h2",variant:"brio",semanticColor:"textBase",className:oe,children:t?l.ag.get("shared.wrapped-banner.title"):l.ag.get("shared.wrapped-banner.title-loggedout")}),(0,M.jsx)(G.D,{as:"p",variant:n===ee.Uo.SMALL?"mesto":"ballad",semanticColor:"textBase",children:t?l.ag.get("shared.wrapped-banner.body"):l.ag.get("shared.wrapped-banner.body-loggedout")}),(0,M.jsx)(K.D,{colorSet:"invertedDark",iconTrailing:V.T,href:e,target:"_blank",size:n===ee.Uo.SMALL?"small":"medium",onClick:s,children:l.ag.get("shared.wrapped-banner.button")})]})})})),le=()=>{const e=(0,Q.g)(),{spec:t,logger:s}=(0,W.fU)(Y.e,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),n=(0,a.useMemo)((()=>t.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[t]),i=(0,W.Wi)(n),r="https://spotify.com/wrapped",o=(0,a.useCallback)((()=>{s.logInteraction(n.hitUiNavigate({destination:r}))}),[s,n]);return(0,M.jsx)(ce,{linkUri:r,loggedIn:!e,onClick:o,ref:i})};var ue=s(68906);const de=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var me=s(54940),he=s(15487),ge=s(67327),pe=s(10594),xe=s(25225),je=s(93005),fe=s(25561),ye=s(15585);const ve=({spec:e,section:t,index:s})=>{const n=(0,o.W6)(me.tyH,{loadingValue:!1})?je.N:fe.q;return(0,a.useMemo)((()=>t.sectionItems.items.some((e=>(0,ye.d)(e.content)))),[t.sectionItems])?(0,M.jsx)(W.Nh,{spec:e.shelvesFactory(),children:(0,M.jsx)(n,{total:t.sectionItems.totalCount,seeAllUri:t.uri,pageId:t.uri,title:t.data.title?.text??"",index:s,id:t.uri,children:t.sectionItems.items.map(ye.x).filter((e=>!!e))})}):null};var Ce=s(51999);const Se=({spec:e,section:t,index:s})=>(0,M.jsx)(W.Nh,{spec:e.shelvesFactory(),children:(0,M.jsx)(Ce.default,{title:t.data.title?.text??void 0,showAll:!1,index:s})});var ke=s(99789),_e=s(22616),be=s(5830),Ne=s(11874),we=s(73982),Ee=s(75706),Ie=s(46721),Te=s(84373),Ae=s(23458),De=s(67674),Le=s(49425),Me=s(80786),Pe=s(64832),Ue=s(90179),Be=s(51009),Oe=s(93058);const He=a.memo((function({index:e,item:t,image:s,showPlayButton:n,extraContent:o,playInsteadOfNavigating:c=!1,onContextMenu:l=(()=>{}),onTouchStart:u=(()=>{}),onTouchEnd:d=(()=>{})}){const m=(0,r.s0)(),h=(0,Be.o)(),{setColorFromUri:g,resetColor:p,clearColor:y}=(0,Me.WQ)(),v=(0,Ae.G3)(t.uri,t.release_date,t.resume_point?.resume_position_ms,t.resume_point?.fully_played),{spec:C,logger:S}=(0,W.fU)(Ee.createDesktopShortcutsPlayNavCardEventFactory,{data:{position:e,uri:t.uri}}),{isPlaying:E,isActive:I,togglePlay:D}=(0,De.n)({uri:t.uri},{featureIdentifier:"home",referrerIdentifier:"home"}),L=(0,Ie.EC)(t.uri),P=(0,Ue.k)({type:"link",uri:t.uri}),U=(0,a.useCallback)((()=>{h({targetUri:t.uri,intent:E?"pause":"play",type:"click"});const e=C.playButtonFactory();let s;s=E?e.hitPause({itemToBePaused:t.uri}):I?e.hitResume({itemToBeResumed:t.uri}):e.hitPlay({itemToBePlayed:t.uri});const a=S.logInteraction(s);D({loggingParams:a})}),[I,E,t.uri,S,h,C,D]),B=(0,a.useCallback)((()=>{h({targetUri:t.uri,intent:"navigate",type:"click"});const e=C.hitUiNavigate({destination:t.uri});S.logInteraction(e)}),[t.uri,S,h,C]),O=(0,a.useCallback)((()=>{if(c)return void U();let e;B(),L&&(e=L.toURLPath(!0));const t=P?(0,Le.is)(e||""):e;t&&m(t)}),[c,B,L,P,U,m]),H=(0,a.useCallback)((()=>{g(t.uri)}),[t.uri,g]);(0,a.useEffect)((()=>()=>{y()}),[y]);const F=(0,W.Wi)(C),J=(0,Pe.O)([t.uri],t.name);return(0,M.jsx)("div",{ref:F,className:j,onContextMenu:l,onTouchStart:u,onTouchEnd:d,onMouseEnter:H,onMouseLeave:p,children:(0,M.jsxs)("div",{className:f,draggable:!0,onDragStart:J,children:[s,(0,M.jsxs)("div",{className:k,children:[(0,M.jsxs)("div",{className:_,children:[(0,M.jsxs)("div",{className:b,children:[v&&(0,M.jsx)(Ae.Rd,{className:w}),(0,M.jsx)(Oe.Link,{to:t.uri,onClick:B,title:t.name,children:(0,M.jsx)(G.D,{as:"p",variant:"balladBold",className:N,children:t.name})})]}),o||null]}),n&&(0,M.jsx)("div",{className:i()(T,{[A]:E}),children:(0,M.jsx)(Te.f,{isPlaying:E,onClick:U})})]}),(0,M.jsx)("div",{onClick:O,className:x})]})})})),Fe=a.memo((function(e){const t={uri:"spotify:app:history",name:l.ag.get("collection.sort.recently-played"),images:[]};return(0,M.jsx)(He,{...e,index:8,item:t,image:(0,M.jsx)("div",{className:y,children:(0,M.jsx)("div",{className:i()(v,C),children:(0,M.jsx)(we.a,{size:"large"})})})})}));var Je=s(21062),Re=s(48699),qe=s(5615),We=s(23355),ze=s(27815),Ze=s(73449),Ye=s(74390),Qe=s(5779),Xe=s(80110),Ge=s(70933),Ke=s(33622);const Ve=(0,a.memo)((function({item:e}){const t=(0,Xe._)(e.uri),s=e.duration_ms??0,{isPlaying:a,isActive:n}=(0,Ke.$o)(e.uri),[i]=(0,Ge.z)(1e4,(t=>t.item?.uri===e.uri)),r=e.resume_point?.resume_position_ms??0,o=a||n?i:r,c=Math.round(100/(s/o)),l=t===Qe.Om.YES,u=s&&o>0;return l||u?(0,M.jsxs)("div",{className:E,children:[l?(0,M.jsx)(Ze.E,{iconSize:16,semanticColor:"textSubdued"}):null,u?(0,M.jsx)(Ye.k,{className:I,value:c,semanticColor:"essentialBase"}):null]}):null}));var $e=s(64351),et=s(59737);const tt=(0,a.memo)((function({images:e=[],fallbackIcon:t=Je.U}){const s=(0,et.X)(e);return(0,M.jsx)("div",{className:y,children:(0,M.jsx)("div",{className:v,children:(0,M.jsx)($e.E,{className:S,src:s?.url,loading:"lazy",testid:"shortcut-image",children:(0,M.jsx)(t,{"aria-hidden":!0})})})})}));var st=s(21039),at=s(28316),nt=s(94564),it=s(52361),rt=s(15613);const ot=a.memo((function(e){return(0,Ie.zO)(e.item.uri)?(0,M.jsx)(He,{...e,image:(0,M.jsx)(tt,{images:e.item.images,fallbackIcon:Je.U}),showPlayButton:e.showPlayButton}):(0,pe.xn)(e.item.uri)?(0,M.jsx)(ze._,{menu:(0,M.jsx)(pe.XL,{}),children:(0,M.jsx)(He,{...e,image:(0,M.jsx)(tt,{images:e.item.images,fallbackIcon:Je.U}),playInsteadOfNavigating:!0})}):(0,M.jsx)(ze._,{menu:(0,M.jsx)(it.X,{uri:e.item.uri}),children:(0,M.jsx)(He,{...e,image:(0,M.jsx)(tt,{images:e.item.images,fallbackIcon:Je.U})})})})),ct=a.memo((function(e){return(0,M.jsx)(ze._,{menu:(0,M.jsx)(st.Y,{uri:e.item.uri}),children:(0,M.jsx)(He,{...e,image:(0,M.jsx)(tt,{images:e.item.images,fallbackIcon:Re.c})})})})),lt=a.memo((function(e){return(0,M.jsx)(ze._,{menu:(0,M.jsx)(at.m,{uri:e.item.uri}),children:(0,M.jsx)(He,{...e,image:(0,M.jsx)(tt,{images:e.item.images,fallbackIcon:qe.a})})})})),ut=a.memo((function(e){return(0,M.jsx)(ze._,{menu:(0,M.jsx)(rt.M,{uri:e.item.uri}),children:(0,M.jsx)(He,{...e,image:(0,M.jsx)(tt,{images:e.item.images,fallbackIcon:We.J}),showPlayButton:!1})})})),dt=a.memo((function(e){return e.item.podcast?(0,M.jsx)(ut,{index:e.index,shouldSetBackgroundColor:e.shouldSetBackgroundColor,item:e.item.podcast,showPlayButton:e.showPlayButton}):(0,M.jsx)(ze._,{menu:(0,M.jsx)(nt.k,{uri:e.item.uri}),children:(0,M.jsx)(He,{...e,image:(0,M.jsx)(tt,{images:e.item.images,fallbackIcon:We.J}),extraContent:(0,M.jsx)(Ve,{...e})})})}));var mt=s(25677),ht=s(42299);const gt="J6UEDIqMSJhYlwGoeUZB",pt="ZjFf4lVC48DSryAjP9qB",xt=a.memo((function(e){const t=(0,ht.x)(),s={...e.item,...t};return(0,M.jsx)(He,{...e,item:s,image:(0,M.jsx)(tt,{images:e.item.images,children:(0,M.jsx)("div",{className:gt,children:(0,M.jsx)(mt.P,{iconSize:32,className:pt})})})})}));var jt=s(56067),ft=s(91502),yt=s(81648);const vt=e=>{if(null!==e&&"object"==typeof e){const{type:t,name:s}=e;return t===Ne.p.YOUR_EPISODES&&"string"==typeof s}return!1},Ct=(e,t,s)=>{const a=2*Math.ceil(s.length/2)-1;return t<Math.min(7,a)},St=a.memo((function({title:e,tagline:t,items:s}){const{fetchMultipleColors:n}=(0,Me.WQ)(),i=!(0,jt.k)(),r=e??(()=>{const e=(new Date).getHours();let t=l.ag.get("home.evening");return e>=5&&e<12?t=l.ag.get("home.morning"):e>=12&&e<18&&(t=l.ag.get("home.afternoon")),t})(),c=(0,o.W6)(me.T1_),u=(0,ft.wW)(),d=(0,o.W6)(me.uS3)&&u;return(0,a.useEffect)((()=>{const e=s?.map(Me.lh)||[];n(e)}),[s,n]),i||!s?.length?null:(0,M.jsxs)("section",{className:h,"aria-label":r,children:[!c&&(0,M.jsx)(yt.r,{title:r,titleVariant:"alto",tagline:t}),(0,M.jsxs)("div",{className:p,children:[s.filter(((e,t)=>vt(e)||!e.error)).filter(d?Ct:(e,t)=>t<6).map(((e,t)=>{if(vt(e))return(0,M.jsx)(xt,{index:t,item:e,showPlayButton:!0,shouldSetBackgroundColor:0===t},`${t}-${e.uri}`);const s=function(e){const t=((0,Ie.EC)(e)||{}).type;switch(t){case Ie.JM.ARTIST:return lt;case Ie.JM.ALBUM:case Ie.JM.COLLECTION_ALBUM:return ct;case Ie.JM.PLAYLIST:case Ie.JM.PLAYLIST_V2:return ot;case Ie.JM.SHOW:return ut;case Ie.JM.EPISODE:return dt;case Ie.JM.COLLECTION:return ot;default:return console.warn(`Unable to resolve entity shortcut from ${e} of type "${t||"unknown"}"`),ut}}(e.uri);return(0,M.jsx)(s,{index:t,item:e,showPlayButton:!(0,_e.T)(e.formatListAttributes),shouldSetBackgroundColor:0===t},`${t}-${e.uri}`)})),d&&(0,M.jsx)(Fe,{showPlayButton:!1,shouldSetBackgroundColor:!1})]})]})})),kt=e=>(0,M.jsx)(ke.L,{onError:e=>{(0,be.vK)(e,"HomeShortcutsGrid")},children:(0,M.jsx)(St,{...e})});var _t=s(27141);const bt=({spec:e,greeting:t,section:s})=>(0,M.jsx)(W.Nh,{spec:e.shortcutsFactory(),children:(0,M.jsx)(kt,{items:s.sectionItems.items.map(_t.lh),title:t??void 0})});var Nt=s(8268);const wt=({spec:e,greeting:t,section:s,index:a})=>{const n=(0,pe._n)();switch(s.data?.__typename){case"HomeGenericSectionData":return(0,M.jsx)(ve,{spec:e,section:(0,Nt.f)(s,s.data),index:a});case"HomeShortsSectionData":return(0,M.jsx)(bt,{spec:e,greeting:t,section:(0,Nt.f)(s,s.data)});case"HomeRecentlyPlayedSectionData":return(0,M.jsx)(Se,{spec:e,section:(0,Nt.f)(s,s.data),index:a});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{if(!n)return null;const e=(0,Nt.f)(s,s.data),{data:t,sectionItems:a}=e,i=a.items[0];if("PlaylistResponseWrapper"===i.content.__typename&&"Playlist"===i.content.data.__typename){const{data:e}=i.content;return(0,M.jsx)(pe.KE,{uri:pe.rv,shelfTitle:t.title?.text??"",title:e.name,description:e.description??""})}return null}case"HomeFeatureActivationSectionDataV2":return(0,M.jsx)(ge.ZP,{features:(0,ge.rJ)(s.sectionItems.items),showAll:!1,uri:s.uri});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,xe._)(s.data),null}},Et=({spec:e,greeting:t,container:s})=>{const{spec:n,logger:i}=(0,W.fU)(ue.createDesktopHomeFeatureActivationShelfEventFactory,{}),r=((e,t)=>t?[e.sections.items[0],de,...e.sections.items.slice(1)]:e.sections.items)(s,(0,o.W6)(me.iiT,{loadingValue:!1}));return(0,a.useEffect)((()=>{(0,he.wW)()&&i.logImpression(n.impressionElementFactory().impression())}),[n,i]),(0,M.jsx)(M.Fragment,{children:r.map(((s,a)=>(0,M.jsx)(wt,{spec:e,greeting:t,section:s,index:a},`${a}-${s.uri}`)))})};var It=s(94410),Tt=s(86966);const At=(0,a.memo)((({cardCount:e})=>(0,M.jsx)(Tt.X,{isLoading:!0,children:[...new Array(e).keys()].map(((e,t)=>(0,M.jsx)(It.A,{isLoading:!0},t)))})));var Dt=s(86862),Lt=s(67804);const Mt=()=>(0,o.W6)(me.Jw1)===me.pFI.ONHOME?(0,M.jsx)(Lt.w,{children:(0,M.jsx)(Dt.M,{onSearch:!1})}):null;var Pt=s(90965);const Ut=6,Bt=6,Ot=6,Ht=(0,a.memo)((({shortcutCount:e,shelfCount:t,cardCount:s})=>(0,M.jsx)("section",{"data-testid":"home-page",children:(0,M.jsx)("div",{className:Pt.Z.home,children:(0,M.jsxs)("div",{className:i()(Pt.Z.content,"contentSpacing"),children:[(0,M.jsx)(B,{shortcutCount:e}),[...new Array(t).keys()].map(((e,t)=>(0,M.jsx)(At,{cardCount:s},t)))]})})}))),Ft=({spec:e})=>{(0,H.z)("home");const{subfeedId:t=null}=(0,r.UO)(),{data:s,error:a,loading:n}=(0,z.b3)({timeZone:(0,Z.UE)(),sp_t:(0,R.vQ)("sp_t")??"",facet:t},{cacheTime:Z.us,staleTime:Z.fS}),c=(0,o.W6)(me._dp);if(n)return(0,M.jsx)(Ht,{shortcutCount:Ut,shelfCount:Bt,cardCount:Ot});if(null!==a)return(0,M.jsx)(O.h,{hasError:!0,errorMessage:l.ag.get("error.generic")});const u=s?.home;return"HomeResponsePayload"!==u?.__typename||0===u.sectionContainer.sections.totalCount||0===u.sectionContainer.sections.items.length?(0,M.jsx)(O.h,{hasError:!0,errorMessage:l.ag.get("error.generic")}):(0,M.jsx)("section",{"data-testid":"home-page",children:(0,M.jsx)("div",{className:Pt.Z.home,children:(0,M.jsxs)("div",{className:i()(Pt.Z.content,"contentSpacing"),children:[c&&(0,M.jsx)(le,{}),(0,M.jsx)(Et,{spec:e,greeting:u.greeting?.text??null,container:u.sectionContainer})]})})})},Jt=()=>{const{spec:e}=(0,W.fU)(c.createDesktopHomeEventFactory,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,o.W6)(me.ygs),s=(0,J.S)(t),n=(0,Ue.k)({type:"locale",uri:"home"});return(0,M.jsx)(W.Nh,{spec:e,children:(0,M.jsxs)(F.q,{config:s,children:[(0,M.jsx)(u.$,{children:(0,q.nW)({i18n:l.ag,shouldLocalize:n})}),(0,M.jsx)(a.Suspense,{fallback:null,children:(0,M.jsx)(Mt,{})}),(0,M.jsx)(Ft,{spec:e})]})})}},8268:(e,t,s)=>{function a(e,t){return{...e,data:t}}s.d(t,{f:()=>a})},8890:(e,t,s)=>{s.d(t,{Pd:()=>r,Wm:()=>i,i9:()=>n});var a=s(13803);const n=["artists","albums","episodes","genres","playlists","podcasts","audiobooks","tracks","users","topResults","podcastAndEpisodes"],i={artists:()=>a.ag.get("search.title.artists"),albums:()=>a.ag.get("search.title.albums"),playlists:()=>a.ag.get("search.title.playlists"),podcasts:()=>a.ag.get("search.title.shows"),episodes:()=>a.ag.get("search.title.episodes"),audiobooks:()=>a.ag.get("search.title.audiobooks"),users:()=>a.ag.get("search.title.profiles"),genres:()=>a.ag.get("search.title.genres-and-moods"),tracks:()=>a.ag.get("search.title.tracks"),podcastAndEpisodes:()=>a.ag.get("search.title.podcast-and-shows"),topResults:()=>a.ag.get("search.row.top-results")},r=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"]},86862:(e,t,s)=>{s.d(t,{M:()=>I});var a=s(59496),n=s(84875),i=s.n(n),r=s(55411),o=s(31752),c=s(85830),l=s(7962),u=s(2988),d=s(77485),m=s(90643),h=s(62109),g=s(46721),p=s(13803),x=s(96377),j=s(2885),f=s(30549),y=s(71568),v=s(3199);const C="main-topBar-searchBar",S="x-searchInput-searchInputSearchIcon",k="x-searchInput-searchInputInput",_="x-searchInput-searchInputOnSearch",b="x-searchInput-searchInputClearButton",N="x-searchInput-searchInputIconContainer",w="x-searchInput=searchInputClearIcon";var E=s(4637);const I=a.memo((function({isSearchChipsEnabled:e=!1,onSearch:t=!0,onClick:s}){const n=(0,o.TH)(),I=(0,o.s0)(),T=(0,a.useRef)(null),A=(0,a.useRef)(null),D=(0,r.I0)(),[{category:L,query:M},P]=(0,v.l)(),[U,B]=(0,a.useState)(M),O=!!L,H=(0,j.Mi)(),F=n.pathname.startsWith("/recent-searches"),J=O||F,{spec:R,logger:q}=(0,f.fU)(h.createDesktopSearchInputEventFactory,{}),W=(0,c.y1)(((t,s,a)=>{let n;if(a){const{interactionId:e}=q.logInteraction(a);n=e}e?P(t,L,!1,n):P(t,null,s,n),H.current&&(H.current.scrollTop=0)}),200),z=(0,a.useCallback)(((e=!1)=>{T.current!==document.activeElement&&(A.current=document.activeElement,T.current&&T.current.focus()),e&&T.current?.select()}),[]);(0,x.eY)(x.O4.SHOW_SEARCH,(()=>z(!0)));const Z=n.pathname.startsWith("/search");(0,a.useEffect)((()=>{!J&&t&&Z&&(e&&M||z())}),[M,z,n.key,t,Z,J,e]),(0,a.useEffect)((()=>{B(Z?M:"")}),[Z,M]);return(0,E.jsxs)("div",{className:i()(C,{[_]:!t}),children:[(0,E.jsx)("form",{onSubmit:e=>{e.preventDefault(),U&&q.logInteraction(R.keyStrokeSearch());const t=(0,g.EC)(U);if(t?.type===g.JM.AD){const e=(0,g.HB)(t.id);if(t.id===e)return;D((0,y.HI)(t.id))}else t?I(t.toURLPath(!0),{state:{preventMoveFocus:!0}}):U||I("/search",{state:{preventMoveFocus:!0}});U&&H.current?.querySelector("h1, h2, h3, h4")?.focus()},role:"search",children:(0,E.jsx)(u.D,{variant:"mesto",as:"input",style:{color:l.Snx},ref:T,className:i()(k),value:U,maxLength:800,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const t=e.currentTarget.value,s=R.keyStrokeChangeSearchQuery({searchQueryString:t});B(t),W(t,J,s)},onKeyDown:e=>{if("Escape"===e.key)if(U){const e=R.hitTextClear();B(""),W("",J,e)}else T.current&&T.current.blur(),A.current instanceof HTMLElement&&A.current.focus()},placeholder:t?p.ag.get("search.search-for-label"):p.ag.get("navbar.search"),onFocus:()=>{e||!J&&t||W(U,J,null)},"data-testid":"search-input",onClick:s})}),(0,E.jsxs)("div",{className:N,children:[(0,E.jsx)("span",{className:S,children:(0,E.jsx)(d.j,{className:w,"aria-hidden":!0,iconSize:16})}),U&&(0,E.jsx)("button",{className:b,onClick:()=>{T.current&&T.current.focus();const e=R.hitTextClear();B(""),W("",J,e)},"aria-label":p.ag.get("search.a11y.clear-input"),children:(0,E.jsx)(m.k,{className:w,iconSize:16})})]})]})}))},3199:(e,t,s)=>{s.d(t,{l:()=>o});var a=s(59496),n=s(31752),i=s(8890);const r=e=>i.i9.find((t=>t===e));function o(){const e=(0,n.s0)(),t=(0,n.bS)("/search/:query"),s=(0,n.bS)("/search/:query/:category"),i=(0,a.useCallback)((function(t,s,a,n){const i=n?{interactionId:n,preventMoveFocus:!0}:{preventMoveFocus:!0},r=["/search"];t&&(r.push(encodeURIComponent(t)),s&&r.push(s));const o=r.join("/");e(o,a?{state:i}:{state:i,replace:!0})}),[e]);return[{query:function(e){try{return decodeURIComponent(e)}catch{return e}}(t?.params.query??s?.params?.query??""),category:r(s?.params.category)},i]}},42299:(e,t,s)=>{s.d(t,{x:()=>a.x});var a=s(24786)},90965:(e,t,s)=>{s.d(t,{Z:()=>a});const a={home:"main-home-home",content:"main-home-content"}}}]);
//# sourceMappingURL=home-v2.js.map