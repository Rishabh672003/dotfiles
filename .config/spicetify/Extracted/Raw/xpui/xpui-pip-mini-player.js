"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3667],{79481:(e,t,i)=>{i.r(t),i.d(t,{PiPMiniPlayer:()=>Kt});var s=i(30758),a=i(97500),n=i.n(a),l=i(81987),r=i(72191),c=i(11808),o=i(8059),u=i(12783),d=i(6313),m=i(90250),g=i(29184),h=i(95141),p=i(42470),x=i(68244),k=i(74322),C=i(22413),v=i(9829),j=i(99744),N=i(67275),b=i(53830),f=i(36485);const y=({uri:e,spec:t,logger:i})=>{const a=(0,s.useRef)(e);a.current=e;const n=(0,j.z)(),l=(0,s.useMemo)((()=>t.playerControlsFactory()),[t]),r=(0,s.useCallback)((e=>{let t=null;"pause"===e?t=l.playPauseButtonFactory().hitPause({itemToBePaused:a.current}):"resume"===e&&(t=l.playPauseButtonFactory().hitResume({itemToBeResumed:a.current})),t&&i.logInteraction(t)}),[i,l]),c=(0,s.useCallback)((e=>{const t=l.likeButtonFactory(),s=e?t.hitLike({itemToBeLiked:a.current}):t.hitRemoveLike({itemNoLongerLiked:a.current});i.logInteraction(s)}),[i,l]),o=(0,s.useCallback)((()=>{const e=n.getState();if(!e)return;const t=l.previousButtonFactory().hitSkipToPrevious(S(e));i.logInteraction(t)}),[i,n,l]),u=(0,s.useCallback)((()=>{const e=n.getState();if(!e)return;const t=l.nextButtonFactory().hitSkipToNext(S(e));i.logInteraction(t)}),[i,n,l]),d=(0,s.useCallback)((e=>{const t=l.repeatButtonFactory();let s=null;switch(e){case N.p.REPEAT_TRACK:s=t.hitRepeatOneEnable();break;case N.p.REPEAT_CONTEXT:s=t.hitRepeatEnable();break;case N.p.REPEAT_NONE:s=t.hitRepeatDisable();break;default:(0,f.k)(e)}s&&i.logInteraction(s)}),[i,l]),m=(0,s.useCallback)((e=>{const t=e?"shuffle":"linear",s=e?"linear":"shuffle",n=l.shuffleButtonFactory({uri:a.current}).hitSelectShuffleMode({previousMode:s,selectedMode:t});i.logInteraction(n)}),[i,l]),g=(0,s.useCallback)((e=>{const t=l.volumeMuteButtonFactory();i.logInteraction("muted"===e?t.hitMutePlayback():t.hitUnmutePlayback())}),[i,l]),h=(0,s.useCallback)((e=>{const t=l.volumeBarFactory();i.logInteraction(t.hitSetVolume({newVolumePercentage:w(e)}))}),[i,l]),p=(0,s.useCallback)((e=>{const t=l.volumeBarFactory();i.logInteraction(t.dragSetVolume({newVolumePercentage:w(e)}))}),[i,l]),x=(0,s.useCallback)((e=>{const t=l.seekBackwardButtonFactory();i.logInteraction(t.hitSeekByTime({msSeekedOffset:e}))}),[i,l]);return{onClickSeekForward:(0,s.useCallback)((e=>{const t=l.seekForwardButtonFactory();i.logInteraction(t.hitSeekByTime({msSeekedOffset:e}))}),[i,l]),onClickSeekBack:x,onClickPlayPause:r,onClickLike:c,onClickSkipPrevious:o,onClickSkipNext:u,onClickRepeat:d,onClickShuffle:m,onClickVolumeButton:g,onClickVolumeBar:h,onDragVolumeBar:p,onClickShare:(0,s.useCallback)((()=>{const e=l.shareButtonFactory({uri:a.current});i.logInteraction(e.hitCopyToClipboard())}),[i,l]),onClickProgressBar:(0,s.useCallback)((e=>{const t=l.progressBarFactory();i.logInteraction(t.hitSeekToTime({msToSeekTo:e}))}),[i,l]),onDragProgressBar:(0,s.useCallback)((e=>{const t=l.progressBarFactory();i.logInteraction(t.dragSeekToTime({msToSeekTo:e}))}),[i,l])}};function S(e){return{itemToBeSkipped:e.item?.uri||"",positionMs:(0,b.s)(e)??-1,totalContentMs:e.duration??-1}}function w(e){return Math.floor(100*e)}var B=i(5159),L=i(10115),P=i(471),T=i(95421),E=i(95339);const M="d_srhjvwD_GUA3bcCWe4",R="Y1sIRIE9_S2jPP9L89qs",D="lcyebQsHz0j8IkDXTAlB",_="enGtDaA6WTTvIFhZz1wz",z="iKzG3nPAIAbL5CZAbKJU",F="Kj0qWPCL3_VrCWRyNrMD",I="Jo4RE0VhDecfPElNZucO";var A=i(86070);let U=function(e){return e.xs="small",e.sm="medium",e.md="large",e}({});const V=({item:e,spec:t,logger:i,size:s=U.xs,className:a})=>{const l=e.uri,r=(0,P.X)(),c=(0,o.L)(),u=c?.context,{shouldShowFeedbackControls:d}=(0,v.d)(u),{onClickLike:m}=y({uri:l,spec:t,logger:i});return(0,E.v)(e)&&u?r&&(0,L.N)(e)?(0,A.jsx)("div",{className:I,children:(0,A.jsx)(B.o,{contextUri:e.metadata?.context_uri,id:e.uid??void 0,uri:e.uri,isActive:!0})}):(0,A.jsxs)("div",{className:F,children:[(0,A.jsx)(C.a,{context:u,item:e}),(0,A.jsx)(k.b,{size:d?U.xs:s,uri:l,onClick:m,className:n()(D,a),isMiniPlayer:!0})]}):(0,T.p)(e)?(0,A.jsx)(x.b,{size:s,uri:l,onClick:m,className:n()(D,a),condensed:!0}):null};var W=i(80091),K=i(19159),Z=i(63135),q=i(72091);const O="yb0n1ZOvcsGEP6MtzpHw",H="wigNir143xMt4ihKMqrK",Q="jbCLA5mslXPNLClPNh8h",G="srBfv7LB0I9QnzxBpeTV",Y="NZlJ5gYuUaWvALQ2gGfg",J="CsqhW5xDG4TO3VV20IZJ";const X=({item:e,onClick:t,className:i})=>{const{spec:s,logger:a}=(0,q.r)(r.w,{}),c=(0,l.NC)(K.fZ_),o=(0,d.XX)(e),x=(0,Z.N)(e)?o?.title:e.name,k=(0,Z.N)(e)?o?.subtitle:e.name,C=(0,W.K)(),v=function(e){switch(e){case"SMALL":return{title:"bodySmall",subtitle:"marginal"};case"MEDIUM":return{title:"bodyMedium",subtitle:"bodySmall"};default:return{title:"titleSmall",subtitle:"bodySmall"}}}(C.vertical),j="SMALL"===C.vertical;return(0,A.jsxs)("div",{className:n()(O,i),children:[(0,A.jsx)("div",{className:G,children:(0,A.jsx)(h.r,{title:x,children:(0,A.jsx)(u.E,{"data-testid":"context-item-info-title",as:"div",variant:v.title,className:G,dir:"auto",children:(0,A.jsx)(g.R,{item:e,onClick:t,adUrl:o?.url,children:x})})},e.uri)}),(0,A.jsx)(p.l,{className:J,item:e,size:"DEFAULT"===C.vertical?"small":"xsmall",variant:"DEFAULT"===C.vertical?"bodySmall":"marginal",enableVideoButton:!0}),(0,A.jsx)("div",{className:Y,children:(0,A.jsx)(h.r,{title:k,children:(0,A.jsx)(u.E,{"data-testid":"context-item-info-subtitles",as:"div",variant:v.subtitle,className:Y,semanticColor:"textSubdued",children:(0,A.jsx)(m.n,{item:e,onClick:t})})},e.uri)}),c&&!j&&(0,A.jsx)("div",{className:H,children:(0,A.jsx)("div",{className:Q,children:(0,A.jsx)(V,{item:e,spec:s,logger:a,size:U.sm})})})]})};var $=i(9856),ee=i.n($);const te=()=>!0===ee().getParser(window.navigator.userAgent).satisfies({chrome:">=123"}),ie=()=>{te()&&window.focus()};var se=i(9183),ae=i(43830),ne=i(45346),le=i(16288),re=i(56906),ce=i(23679),oe=i(62943);const ue="U7qJ1UbUI0C76xXqYVQY",de="wSLUJtAztEeB6cSHzEjf",me="ivh1pWB_obHbkRTZRwlA",ge="CppZQsRDE7tQVl_Uo22Y";i(46915),i(6487);const he={title:"bodyMediumBold",subtitle:"bodySmall"},pe={title:"titleSmall",subtitle:"bodyMedium"},xe=s.memo((()=>{const{openURLWithSessionTransfer:e}=(0,ce.L)(),t="SMALL"===(0,W.K)().vertical?he:pe,i=(0,l.NC)(oe.rW),a=(0,re.D)("loggedin_upgrade_button"),r=(0,se.Zp)(),o=(0,le.k)(),{url:d,isExternal:m}=o,g=(0,ne.W)(),h=(0,s.useCallback)((()=>{g({intent:"upgrade-to-premium",type:"click"}),!1===m?r("/premium"):e(a(d),"_blank")}),[g,m,d,r,e,a]);return(0,A.jsx)("div",{className:ue,children:(0,A.jsxs)("div",{className:n()({"circular-sp-vietnamese":i},de),children:[(0,A.jsx)(u.E,{variant:t.title,dir:"auto",className:me,children:c.Ru.get("web-player.pip-mini-player.upsell.title")}),(0,A.jsx)(u.E,{variant:t.subtitle,semanticColor:"textSubdued",children:c.Ru.get("web-player.pip-mini-player.upsell.subtitle")}),(0,A.jsx)("div",{className:ge,children:(0,A.jsx)(ae.$,{onClick:h,size:"small",children:c.Ru.get("web-player.pip-mini-player.upsell.cta-button")})})]})})}));var ke=i(10642),Ce=i(59996);const ve="document-pip-hover-element",je="document-pip-cover-art",Ne="document-pip-cover-art-placeholder",be="transparent";var fe=i(2983),ye=i(40223);function Se(e,t,i,s){try{if(!e)return i;const a=getComputedStyle(e);if(!a)return i;const n=a.getPropertyValue(t),l=parseInt(n.replace(s,""),10);return isNaN(l)?i:l}catch(e){return i}}var we=i(578),Be=i(57276),Le=i(60656),Pe=i(63051),Te=i(80913);const Ee="wF7I8x6BNoB5TCxuQM6p",Me="mTVLkxm92ETj9KUKj6We",Re="_ZzrZWfp7kDAE2lh9_Wc",De="Z7EJBI5IBlrJ1ze7IeeW",_e="v5BmE36Bbgt7MSjmR6Xc",ze="CAQW4b5xnSED1cuM6jcp",Fe="GSgApqjTNqV1hBpu3zeT",Ie="cRGZivJEkNn8_Q7kaHpT",Ae="jOhwShRZLQkG51TckxOL",Ue="AfV1a_jkmN7Ep4mov4u7",Ve="QrDtnomlujlNGYbhYEFQ",We="Jgem6BNDvKfWTBl3cX4W",Ke="ePoosDhdXDFF4p3vqKLd",Ze="QGE_nRKg4bMbNKF_e7PM",qe="ddMrU_P5vADrfZCD5KQP",Oe="x591ODwZ11KBAWKS6SiE",He="yyE7Kg8ClZLrYU03bSoA",Qe="GJYNq4mAAnZScLzJPrZb",Ge="mBYWBXnQ_1G3IS2q0zUM",Ye="F7RVFhPYBKleXl4ulrwe",Je="Q4qOSqJZ_dfNRxOBhsGE",Xe="hix4I_WU5iQPehn_m5h2",$e="gOpH1qSy5WZp_dGqBjSO",et="PT1fq5tYcn_AwRaa9lMP",tt="UcW0bdBtSQ60yaHfqFTZ",it="ZK4XA3z4XzH6DMcdYXyD",st="n27_MzjcYZUgWjy4wq11",at="NNo0U9gSqfdEkMNRe7L5",nt="_qgiaHxpNpK4FwjsivLg",lt="NfbgGBP_R1q9ZWBqAhKR",rt="OgA_m69O0KD1G_KiwGhr",ct="kLzqAxcrC1M5jXBiRWDj",ot="i5G23HYRyUDFXy1dnr5C";const ut=({item:e,imageUrl:t})=>{const i=(0,ke.iz)(e),s=(0,A.jsx)(Be._,{className:Oe,src:t,loading:"eager",testid:je,children:(0,A.jsx)("div",{className:He,children:(0,A.jsx)(we.s,{size:"xlarge",type:e.type,"data-testid":Ne})})});return i.url?(0,A.jsx)(Ce.N,{className:qe,to:i.url,children:s}):s},dt=()=>{const{item:e,context:t}=(0,o.L)()??{},i=(0,s.useMemo)((()=>(0,Te.h)(e?.images??void 0,{desiredSize:640})),[e?.images,640]),a=(0,Pe.l)(),r=(0,l.NC)(K.a4n),{isYourDJNarrator:c}=(0,ye.CV)(),u=(0,s.useRef)(null),d=(0,s.useCallback)((()=>{if(!u.current)return;const e=u.current?.children[0];if(!e)return;const{offsetWidth:t,offsetHeight:i}=u.current;let s=Math.min(t,i);s=Math.min(s,640),1===Se(e,"--extra-padding",0,"")&&(s-=Math.max(Math.min(.1*s,64),12)),e.width=e.height=s}),[]),m=(0,Le.ox)();(0,s.useEffect)((()=>(m?.addEventListener("resize",d),()=>{m?.removeEventListener("resize",d)})),[d,m]);const g=e&&function(e){return"video"===e.mediaType||"mixed"===e.mediaType}(e),h=(0,Z.N)(e);let p=!g;!g||!a&&r||(p=!0);const x=(0,s.useMemo)((()=>p&&!h&&te()),[h,p]);let k;k=c?(0,A.jsx)(fe.aU,{}):h?(0,A.jsx)(ut,{item:e,imageUrl:i}):(0,A.jsx)(Be._,{className:Oe,src:i,loading:"eager",testid:je,children:(0,A.jsx)("div",{className:He,children:(0,A.jsx)(we.s,{size:"xlarge",type:e?.type,"data-testid":Ne})})});const C=(0,s.useCallback)((()=>{x&&ie()}),[x]),v=(0,s.useCallback)((e=>{"Enter"===e.key&&C()}),[C]);return e&&t&&p?(0,A.jsx)("div",{className:n()(Ke,{[Ze]:x}),ref:e=>{u.current=e,d()},role:"button",tabIndex:x?0:-1,onClick:C,onKeyDown:v,children:k}):null};var mt=i(72420),gt=i(69438),ht=i(43178),pt=i(39733),xt=i(19287),kt=i(91947),Ct=i(7703),vt=i(91654);const jt=()=>(0,A.jsx)("svg",{width:"7",height:"8",viewBox:"0 0 7 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:_e,children:(0,A.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.37397 1.94965C6.60829 1.71534 6.60829 1.33544 6.37397 1.10113C6.13966 0.866812 5.75976 0.866812 5.52544 1.10113L3.47461 3.15196L1.42422 1.10157C1.18991 0.86726 0.81001 0.86726 0.575695 1.10158C0.341381 1.33589 0.341381 1.71579 0.575695 1.9501L2.62608 4.00049L0.575696 6.05087C0.341381 6.28519 0.341381 6.66509 0.575696 6.8994C0.81001 7.13372 1.18991 7.13372 1.42422 6.8994L3.47461 4.84902L5.52544 6.89985C5.75976 7.13416 6.13966 7.13416 6.37397 6.89985C6.60829 6.66554 6.60829 6.28564 6.37397 6.05132L4.32314 4.00049L6.37397 1.94965Z",fill:"#912616"})}),Nt=s.memo((()=>"SMALL"!==(0,W.K)().vertical?(0,A.jsx)(mt.U,{}):(0,A.jsx)(gt.M,{}))),bt=({className:e})=>{const{setVideoPlayerUIFlag:t}=(0,xt.d)(),{onClick:i}=(0,Ct.D)({}),a=(0,s.useCallback)((()=>{t(kt.n.documentPip,!1),i()}),[t,i]),l=(0,pt.mv)();return(0,A.jsxs)("div",{style:{display:"var(--mini-player-drag-display)"},className:n()(e,Re),children:[(0,A.jsx)("button",{className:De,onClick:a,children:l.operatingSystem===vt.f.macOS?(0,A.jsx)(jt,{}):(0,A.jsx)(ht.M,{size:"xsmall",className:_e})}),(0,A.jsx)(Nt,{}),(0,A.jsx)("div",{className:ze})]})};var ft=i(35606),yt=i(8159),St=i(90405),wt=i(87485),Bt=i(61544),Lt=i(80784);const Pt=({onClick:e,item:t,className:i})=>(0,A.jsx)("div",{className:n()(z,i),children:(0,A.jsx)(Lt.w,{sharingInfo:null,uri:t.uri,onClick:e,size:"small",interactionData:{type:"click",intent:"share"},disableTooltip:!0,ariaLabel:(0,Bt.gH)(t.uri)?c.Ru.get("context-menu.copy-episode-link"):c.Ru.get("context-menu.copy-track-link")})});var Tt=i(18013),Et=i(86204),Mt=i(82101);const Rt=s.memo((({item:e,spec:t,logger:i})=>{const s=e.uri,{onClickPlayPause:a,onClickSkipPrevious:r,onClickSkipNext:c,onClickRepeat:o,onClickShuffle:u,onClickVolumeButton:d,onClickVolumeBar:m,onDragVolumeBar:g,onClickSeekBack:h,onClickSeekForward:p,onClickShare:x}=y({uri:s,spec:t,logger:i}),k=(0,l.NC)(K.fZ_),C=(0,W.K)(),v=(0,yt.YQ)(g,500,{leading:!1,trailing:!0});if(!s)return null;const j=(0,Z.N)(e),N=function(e){if((0,T.p)(e)||(0,Mt.d)(e))return"audio"===e.mediaType||"mixed"===e.mediaType;return!1}(e),b="SMALL"===C.vertical,f="DEFAULT"===C.vertical,S="SMALL"===C.horizontal;if(j)return b?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(St.xJ,{onClick:a,className:M}),(0,A.jsx)(St.v3,{onClick:p,className:M})]}):f?(0,A.jsx)(St.v3,{onClick:p,className:M}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(St.hC,{onClick:h,className:M}),(0,A.jsx)(St.xJ,{onClick:a,className:M}),(0,A.jsx)(St.v3,{onClick:p,className:M}),(0,A.jsx)(wt.M,{mode:wt.V.SHOW_SLIDER_ON_HOVER,sliderSize:80,sliderDirection:"vertical",onToggleMuteClick:d,onVolumeBarClick:m,onVolumeBarDrag:v,className:M})]});const w=f&&!S;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:et,children:!b&&k?(0,A.jsx)(Pt,{item:e,onClick:x,className:M}):(0,A.jsx)("div",{className:R,children:(0,A.jsx)(V,{item:e,spec:t,logger:i,className:M})})}),b&&k&&(0,A.jsx)("div",{className:ct,children:(0,A.jsx)(Pt,{item:e,onClick:x,className:M})}),N?(0,A.jsx)(St.hC,{onClick:h,className:n()(tt,M)}):(0,A.jsx)("div",{className:n()(it,M),children:(0,A.jsx)(Et.w,{renderEnabled:()=>(0,A.jsx)(Tt.a,{size:"small",withSnackbar:!1}),renderDisabled:()=>(0,A.jsx)(St.uP,{onClick:u})})}),(0,A.jsx)(St.dQ,{onClick:r,className:n()(st,M)}),(0,A.jsx)(St.xJ,{iconSize:w?"medium":"small",onClick:a,className:n()(M,_)}),(0,A.jsx)(St.$K,{onClick:c,className:n()(at,M,{[nt]:N})}),N?(0,A.jsx)(St.v3,{onClick:p,className:n()(ot,M)}):(0,A.jsx)(St.s_,{onClick:o,className:n()(lt,M)}),(0,A.jsx)(wt.M,{mode:wt.V.SHOW_SLIDER_ON_HOVER,sliderSize:80,sliderDirection:"vertical",onToggleMuteClick:d,onVolumeBarClick:m,onVolumeBarDrag:v,className:n()(rt,M)})]})}));var Dt=i(48701);const _t=s.memo((({item:e,spec:t,logger:i,onDragEnd:a,onDragStart:n})=>{const l=e.uri,{onClickProgressBar:r,onDragProgressBar:c}=y({uri:l,spec:t,logger:i}),o=(0,s.useCallback)(((e,t)=>{switch(t){case"drag":return c(e);case"hit":return r(e);default:return(0,f.k)(t)}}),[r,c]);return(0,A.jsx)(Dt.x,{isPreview:!1,onChange:o,onDragStart:n,onDragEnd:a,timerPlacement:"above"})}));function zt(e){if(!e)return null;return{width:e.innerWidth,height:e.innerHeight}}var Ft=i(31252);var It=i(80454),At=i(2435);var Ut=i(95114),Vt=i(73015),Wt=i(48905);const Kt=(0,s.memo)((()=>{const e=(0,s.useRef)(null),{item:t,context:i}=(0,o.L)()??{},a=640,u=(0,l.NC)(K.Ln9),d=(0,l.NC)(K.rWU),m=(0,s.useMemo)((()=>(0,Te.h)(t?.images??void 0,{desiredSize:a})),[t?.images,a]),g=(0,It.z)(m,be),h=(0,l.NC)(K.a4n);((e,t)=>{const i=(0,At.o)((e=>e?.nextItems?.[0]),((e,t)=>e?.uri===t?.uri)),a=(0,s.useMemo)((()=>(0,Te.h)(i?.images??void 0,{desiredSize:e})),[i?.images,e]);(0,It.z)(a,t)})(a,be);const{spec:p,logger:x}=(0,q.r)(r.w,{});(({spec:e,logger:t})=>{const i=(0,Le.ox)(),a=(0,s.useRef)(null);null===a.current&&(a.current=zt(i)),(0,Ft.s)((()=>{const s=zt(i);null!==s&&null!==a.current&&(t.logInteraction(e.dragUiResize2d({startWidthPx:a.current.width,startHeightPx:a.current.height,endWidthPx:s.width,endHeightPx:s.height})),a.current=s)}),{throttleTime:500,leading:!1,trailing:!0})})({logger:x,spec:p}),(({spec:e,logger:t,pipWindow:i})=>{(0,s.useEffect)((()=>{if(!i)return;const s=s=>{if(s.currentTarget===i){const i=e.windowControlsFactory().closeButtonFactory().hitUiHide();t.logInteraction(i)}};return i.addEventListener("pagehide",s),()=>{i.removeEventListener("pagehide",s)}}),[t,i,e])})({logger:x,spec:p,pipWindow:window.documentPictureInPicture?.window??null});const{setVideoPlayerUIFlag:k}=(0,xt.d)(),[C,v]=(0,s.useState)("");(0,s.useLayoutEffect)((()=>{v(Me)}),[]);const j=function(){const e=(0,Le.ox)(),[t,i]=(0,s.useState)(!1);return(0,Ft.s)((()=>{const t=zt(e);null!==t&&(t.width<=300&&t.height<=300?i(!0):i(!1))}),{throttleTime:500,leading:!1,trailing:!0}),t}();(0,s.useEffect)((()=>{h&&k(kt.n.documentPip,!0)}),[h,k]);const{enqueueSnackbar:N}=(0,Vt.d)(),b=(0,s.useCallback)((e=>{var t;(t=e.target)&&"object"==typeof t&&"nodeName"in t&&"A"===t.nodeName&&"_blank"!==e.target.target&&(te()?ie():N(c.Ru.get("web-player.pip-mini-player.snackbar.link-opened-in-main-window")))}),[N]);((e,t)=>{const i=(0,Le.ox)(),a=t??i;(0,s.useEffect)((()=>{e&&a&&(a.document.title=e)}),[e,a])})(c.Ru.get("web-player.pip-mini-player.window-title"));const f=(0,s.useRef)(null),y=(0,l.NC)(K.HYy),S=(0,Wt.t)(p,y),[w,B]=(0,s.useState)(!1),[L,P]=(0,s.useState)(!1),T=(0,s.useRef)(null),E=(0,s.useRef)(null),M=(0,s.useCallback)((()=>{B(!0),T.current&&clearTimeout(T.current),T.current=setTimeout((()=>{B(!1);const e=Se(f.current,"--mouse-active-over-controls-fadeout-timeout",300,"ms");E.current&&clearTimeout(E.current),E.current=setTimeout((()=>{E.current=null}),e)}),1e3)}),[]),R=(0,s.useCallback)((()=>{E.current||B(!1)}),[]),D=(0,s.useCallback)((()=>{P(!0)}),[]),_=(0,s.useCallback)((()=>{P(!1)}),[]);if(!t||!i)return null;const z={"--background-color":g,"--background-image-url":`url(${m})`,"--background-image-width":"640px","--background-image-height":"640px",display:"var(--mini-player-display)"},F=function(e){return"video"===e.mediaType||"mixed"===e.mediaType}(t),I=(0,Z.N)(t);return!u&&!I&&j?(0,A.jsx)(xe,{}):(0,A.jsx)(Ut.n,{domRootRef:e,children:(0,A.jsxs)("div",{ref:f,className:n()("encore-dark-theme","encore-small-devices-theme",{"circular-sp-vietnamese":d},Ee),style:{"--mini-player-display":"none","--mini-player-drag-display":"none"},children:[(0,A.jsx)(bt,{}),(0,A.jsxs)("div",{className:n()(Ie,Ae),style:z,ref:S,children:[(0,A.jsx)("div",{className:n()(Ue,{[Ve]:!F}),"data-testid":"pip-hover-element",children:(0,A.jsx)("div",{className:We,id:"document-pip-main-container",children:(0,A.jsx)(dt,{})})}),(0,A.jsx)(X,{item:t,className:$e,onClick:b}),(0,A.jsxs)("div",{className:n()("encore-over-media-set",Qe,{[Xe]:w||L,[Je]:(0,Z.N)(t)}),dir:"ltr","data-testid":ve,onMouseEnter:M,onMouseMove:M,onMouseLeave:R,children:[(0,A.jsx)("div",{className:n()(Ge),dir:"ltr",children:(0,A.jsx)(Rt,{item:t,spec:p,logger:x})}),(0,A.jsx)("div",{className:n()(Ye),dir:"ltr",children:(0,A.jsx)(_t,{item:t,spec:p,logger:x,onDragEnd:_,onDragStart:D})})]})]}),(0,A.jsx)("div",{className:C,children:(0,A.jsx)(ft.B,{fadeIn:!1})}),(0,A.jsx)("div",{ref:e,className:Fe})]})})}))}}]);
//# sourceMappingURL=xpui-pip-mini-player.js.map