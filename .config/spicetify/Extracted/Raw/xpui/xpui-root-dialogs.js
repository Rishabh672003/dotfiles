"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1206],{98582:(e,t,s)=>{s.d(t,{h:()=>u});var a=s(30758),r=s(11808),n=s(66416),i=s(65183),o=s(96264),l=s(95302),c=s(6576),d=s(86070);const u=a.memo((function({uri:e}){const{spec:t}=(0,c.o)(e);return(0,d.jsx)(l.pZ,{value:"generic",children:(0,d.jsx)(n.W,{children:(0,d.jsx)(o.h,{divider:"before",children:(0,d.jsx)(i.m,{spec:t,uri:e,displayText:r.Ru.get("context-menu.copy-generic-link")})})})})}))},8048:(e,t,s)=>{s.d(t,{a:()=>h});var a=s(97500),r=s.n(a),n=s(17652),i=s(12783),o=s(11808);const l="main-editImage-buttonContainer",c="main-editImageButton-image",d="main-editImageButton-overlay",u="main-editImageButton-rounded",m="main-editImageButton-icon",g="main-editImageButton-copy";var p=s(86070);const h=function({overlay:e=!1,rounded:t=!1,onClick:s}){return(0,p.jsx)("div",{className:l,children:(0,p.jsx)("button",{"data-testid":"edit-image-button",className:r()(c,{[u]:t,[d]:e}),"aria-haspopup":"true",onClick:s,type:"button",children:(0,p.jsxs)("div",{className:r()(m,"icon"),children:[(0,p.jsx)(n.G,{size:"xlarge","aria-hidden":"true"}),(0,p.jsx)(i.E,{variant:"bodyMedium",className:g,children:o.Ru.get("choose_photo")})]})})})}},69626:(e,t,s)=>{s.d(t,{u:()=>l,i:()=>o});var a=s(30758);const r="main-imagePicker-fileInput";var n=s(86070);const i={accept:"image/.jpg, image/.jpeg, image/.png"};let o=function(e){return e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e}({});const l=function({onChange:e,onError:t,isOpen:s=!1,minImageWidth:l=0,minImageHeight:c=0,maxImageWidth:d=1e4,maxImageHeight:u=1e4,maxFileSizeMB:m=1/0,...g}){const p=a.useRef(null),h={...i,...g};(0,a.useEffect)((()=>{p.current&&s&&p.current.click()}),[p,s]);const b=1048576*m;return(0,n.jsx)("input",{...h,type:"file","data-testid":"image-file-picker",ref:p,className:r,onChange:async function(s){const a=s.target,[r]=Array.from(a.files||[]),n=await async function(e){const t=await function(e){return new Promise(((t,s)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>{t(a.result?.toString()??"")},a.onerror=e=>s(e)}))}(e),[s,a]=await function(e){return new Promise(((t,s)=>{const a=new Image;a.onload=()=>{const{width:e,height:s}=a;t([e,s])},a.src=e,a.onerror=e=>s(e)}))}(t);return{imageFile:e,imageDataUrl:t,imageWidth:s,imageHeight:a}}(r);try{await async function(e){if(!["image/jpg","image/jpeg","image/png"].includes(e.imageFile.type))throw o.IMAGE_TYPE_NOT_SUPPORTED;if(e.imageWidth<l||e.imageHeight<c)throw o.IMAGE_TOO_SMALL;if(e.imageWidth>d||e.imageHeight>u)throw o.IMAGE_TOO_BIG;if(e.imageFile.size>b)throw o.FILE_TOO_BIG}(n),e(n)}catch(e){if("string"!=typeof e||!Object.values(o).includes(e))throw e;t(e)}}})}},65277:(e,t,s)=>{s.d(t,{z:()=>m});var a=s(97500),r=s.n(a),n=s(12783),i=s(68637);const o="pIZVZOfjnJGth1BcoA1E",l="ZBBTIITnUdwh05dCI0tm",c="sz8Nwj2lvhOZxDwYWRQr",d="jjPsW7vuG9xH9qhEGL3I";var u=s(86070);const m=({message:e,isErrorMessage:t=!1})=>e?(0,u.jsx)("div",{role:"alert",children:(0,u.jsx)("div",{className:r()(o,{[l]:t}),children:(0,u.jsxs)(n.E,{as:"p",variant:"marginal",className:c,children:[(0,u.jsx)(i.b,{size:"small",className:d,"aria-hidden":"true"}),e]})})}):null},46243:(e,t,s)=>{s.d(t,{M:()=>u});var a=s(30758),r=s(97500),n=s.n(r),i=s(81987);var o=s(19159);const l="JCoroLSoJO7iJzBU1n2W",c="aOxbsZDBlepfQptv_EfI";var d=s(86070);const u=({children:e,isOpen:t,onRequestClose:s,className:r,animated:u=!1,shouldCloseOnEsc:m=!0,shouldCloseOnBackdropClick:g=!0,...p})=>{const h=(0,a.useRef)(null);var b;!function(e,t,s){(0,a.useEffect)((()=>{const a=t.current,r=t=>{t.preventDefault(),e&&s&&s()};return a?.addEventListener("cancel",r),()=>{a?.removeEventListener("cancel",r)}}),[t,s,e])}(m,h,s),b=h,(0,a.useEffect)((()=>{const e=b.current;return()=>{e?.close()}}),[b]);const R=(0,i.NC)(o.rWU);return(0,a.useEffect)((()=>{t?h.current?.showModal():h.current?.close()}),[t]),(0,d.jsx)("dialog",{ref:h,className:n()(l,r,{"circular-sp-vietnamese":R,[c]:u}),onClick:e=>{const t=e.target;t instanceof HTMLElement&&"DIALOG"===t.nodeName&&g&&s?.()},...p,children:e})}},97079:(e,t,s)=>{s.r(t),s.d(t,{RootDialogs:()=>dd});var a=s(30758),r=s(41978),n=s(81987),i=s(71306),o=s(12783),l=s(43178),c=s(11808),d=s(91543),u=s(67889);const m="tJeH2W2to1A7d9tWBRoi",g="oNjdJbGQ9ypf7KR0nYJW",p="ibrRlYShsgThsh8VNS8Q",h="Yl9jzsnP8e_5i9me3h7H",b="vxBybZOmHdDF_nmLE4sa";var R=s(86070);const x=(0,a.memo)((function(){const e=(0,r.wA)(),{isOpen:t}=(0,r.d4)((e=>e.aboutRecs)),s=(0,a.useCallback)((()=>{e((0,d.oK)())}),[e]),n=`https://about-recommendations.spotify.com/?bg=${i.wdA.substr(1)}&hideHeader=true`;return(0,R.jsx)(u.A,{animated:!0,isOpen:t,onRequestClose:s,contentLabel:c.Ru.get("context-menu.about-recommendations"),children:(0,R.jsxs)("div",{className:m,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleMedium",semanticColor:"textBase",className:g,children:c.Ru.get("context-menu.about-recommendations")}),(0,R.jsx)("div",{className:p,children:(0,R.jsx)("iframe",{className:h,title:c.Ru.get("context-menu.about-recommendations"),src:n})}),(0,R.jsx)("button",{"aria-label":c.Ru.get("close_button_action"),className:b,onClick:s,children:(0,R.jsx)(l.M,{size:"medium"})})]})})}));var y=s(53851),f=s(30171),E=s(97500),v=s.n(E),k=s(43830);const C=({className:e})=>(0,R.jsxs)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:[(0,R.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",fill:"#E22134",rx:"7.467"}),(0,R.jsx)("path",{fill:"#fff",d:"M6.143 12V4.437h-1.28c-.15.79-.907 1.387-1.995 1.419v1.003h1.813V12h1.462zm5.092-5.13c0 .82-.65 1.343-1.386 1.343-.758 0-1.387-.512-1.387-1.344 0-.81.64-1.333 1.387-1.333.736 0 1.386.533 1.386 1.333zm-4 4.874c.384.245 1.12.416 1.75.416 2.56 0 3.893-1.61 3.893-4.341 0-2.4-1.397-3.542-2.997-3.542-1.611 0-2.859 1.088-2.859 2.635 0 1.59 1.227 2.539 2.603 2.539.853 0 1.514-.363 1.802-.843-.074 1.397-.96 2.261-2.453 2.261-.512 0-1.067-.16-1.355-.32l-.384 1.195z"}),(0,R.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",stroke:"#fff",strokeWidth:"1.067",rx:"7.467"})]});function j(e,t,s,a){if(s<=0||a<=0||a>1)return{height:-1,width:-1,parentHeight:e,parentWidth:t};const r=e*t,n=1/a*s,i=Math.sqrt(r/n);return{height:i,width:i*s,parentHeight:e,parentWidth:t}}var w=s(57276);const N="SVnAziPF2z_cgAGrp6He",S="miG_SXrw265mkozdEHrJ",O="RWLySPhsOTyK2EsAGUgx",_="X_vuuyeQDD6IWI4aIE6k",T="VdyeU78LKQdX8Dclnfxr",I="Z12I3N4OnNvzRSNKOeUn",A="IDHZCFcj1ynmYu6Sm5SR",L="UmY163JiUcgJt2MKNyGW",D="SYKOtPBDhPSs6zGwbk6A";var M=s(32994);const U={[M.E.XSMALL]:I,[M.E.SMALL]:I,[M.E.MEDIUM]:A,[M.E.LARGE]:L,[M.E.XLARGE]:L},P=({image:e,title:t,description:s,primaryButton:a,secondaryButton:r,renderExtraInfo:n,style:i,className:o,size:l=M.E.SMALL})=>{const c="string"==typeof t?(0,R.jsx)("h2",{className:O,children:t}):(0,R.jsx)("div",{className:O,children:t});let d,u;return s&&(d="string"==typeof s?(0,R.jsx)("p",{className:_,children:s}):(0,R.jsx)("div",{className:_,children:s})),r&&(u=(0,R.jsx)("div",{className:D,children:r})),(0,R.jsxs)("div",{className:v()(`${N} ${U[l]}`,o),style:i,"data-testid":"dialog-root",children:[e&&(0,R.jsx)("div",{className:T,children:(0,R.jsx)(w._,{loading:"lazy",src:e})}),(0,R.jsxs)("div",{className:S,children:[c,d,a,u,n&&n()]})]})},B="dzS9k6yn4XzF3jWcS3W2",F="ezHLQVkVclgu_n15ybG6",W="gQ3lUcmizympex29IHL7",V="VDUUJg30Ewzy9OP54arn",G={[M.E.SMALL]:1,[M.E.MEDIUM]:.72,[M.E.LARGE]:1.82},z={[M.E.SMALL]:0,[M.E.MEDIUM]:600,[M.E.LARGE]:1024},H=({image:e,onConfirm:t,backgroundColor:s})=>{const r=(e=>Object.keys(z).reverse().find((t=>e>=z[t]?t:null)))(window.innerWidth),{width:n,height:i,parentHeight:o}=function(e,t){const[s,r]=(0,a.useState)((()=>j(window.innerHeight,window.innerWidth,e,t))),n=(0,a.useRef)(),i=(0,a.useCallback)((()=>{r(j(window.innerHeight,window.innerWidth,e,t))}),[e,t]);return(0,a.useEffect)((()=>(n.current||(r(j(window.innerHeight,window.innerWidth,e,t)),window.addEventListener("resize",i),n.current=!0),()=>{n.current&&(r(j(window.innerHeight,window.innerWidth,e,t)),window.removeEventListener("resize",i),n.current=!1)})),[e,t,i]),s}(G[r],.3333333333333333),l=s?{backgroundColor:s}:{},d=((e,t,s,a)=>e===M.E.SMALL?{width:"100vw",height:"100vh"}:e===M.E.MEDIUM&&a<750||e===M.E.LARGE&&a<520?{width:"inherit",height:"inherit"}:{width:`${Math.ceil(t)}px`,height:`${Math.ceil(s)}px`})(r,n,i,o),u=(0,R.jsxs)("span",{children:[(0,R.jsx)("span",{className:F,children:c.Ru.get("age.restriction.explicitContent")}),(0,R.jsx)(C,{className:W})]}),m=(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:t,children:c.Ru.get("age.restriction.continue")});return(0,R.jsx)(P,{className:v()(B,{[V]:1===G[r]}),style:{...d,...l},image:e,title:c.Ru.get("age.restriction.confirmAge"),description:u,primaryButton:m,size:r})},K="J2uBhFKAVeDnSUb6Diq_",q="dlCbZFZLaxVOGbVUleiV",Q=()=>{const e=(0,r.wA)(),{image:t,backgroundColor:s,providerUrl:a}=(0,r.d4)((({ageRestriction:e})=>({image:"",backgroundColor:e.dialog.backgroundColor,providerUrl:e.dialog.providerUrl})),((e,t)=>e.image===t.image&&e.backgroundColor===t.backgroundColor&&e.providerUrl===t.providerUrl));return(0,R.jsxs)("div",{className:K,children:[(0,R.jsx)(H,{image:t,onConfirm:()=>{window.location.assign(a)},backgroundColor:s}),(0,R.jsx)("div",{className:q,children:(0,R.jsx)(f.H,{onClick:()=>{e((0,y.Rb)())},children:c.Ru.get("close")})})]})},Y=()=>{const e=(0,r.wA)(),t=(0,r.d4)((({ageRestriction:e})=>e.isOpen));return(0,R.jsx)(u.A,{animated:!0,onRequestClose:()=>{e((0,y.Rb)())},contentLabel:c.Ru.get("age.restriction.confirmAge"),isOpen:t,children:(0,R.jsx)(Q,{})})};var Z=s(21953),$=s(90751),J=s(73015),X=s(7939),ee=s(46361),te=s(21596);const se="main-keyboardShortcutsHelpModal-container",ae="gPDYH11Cr1B2ZtS9z0P8",re="IIQWD0tGOaagAN9uP_4h",ne="LdrQgiV3Kav0IR6Oqsej",ie=(0,a.memo)((function(){const e=(0,r.wA)(),{user:t}=(0,r.d4)(X.Ht),{name:s,uri:n,isOpen:i}=(0,r.d4)((({ui:e})=>e.blockUserDialog)),{enqueueSnackbar:l}=(0,J.d)(),d=(0,te.A9)(),m=(0,a.useCallback)((async()=>{if(t&&n)try{await(0,ee.rn)(d,{currentUserUri:t?.uri,uri:n}),e((0,$.xF)()),l(c.Ru.get("feedback.block-user"))}catch(t){throw e((0,$.xF)()),t}}),[t,n,d,e,l]),g=(0,a.useCallback)((()=>{e((0,$.xF)())}),[e]),p=(0,a.useCallback)((()=>{e((0,$.xF)())}),[e]);return(0,R.jsx)(u.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:p,contentLabel:c.Ru.get("block-user.dialog.title",s),isOpen:i,children:(0,R.jsxs)("div",{className:se,children:[(0,R.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",className:ae,children:c.Ru.get("block-user.dialog.title",s)}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",className:re,paddingBottom:Z.lT,children:c.Ru.get("block-user.dialog.description",s)}),(0,R.jsxs)("div",{className:v()("encore-light-theme",ne),children:[(0,R.jsx)(f.H,{buttonSize:f.H.md,onClick:g,children:c.Ru.get("block-user.dialog.cancel")}),(0,R.jsx)(k.$,{onClick:m,buttonSize:k.$.md,children:c.Ru.get("block-user.dialog.block")})]})]})})}));var oe=s(9183),le=s(61544),ce=s(76174),de=s(45346),ue=s(42947);const me=(0,a.memo)((function(){const e=(0,r.wA)(),t=(0,de.W)(),{removeFolder:s}=(0,ue.Z)(),n=(0,oe.Zp)(),i=(0,oe.zy)(),{uri:o,onDeleteCallback:l}=(0,r.d4)((({ui:e})=>e.deleteFolderDialog)),d=(0,a.useCallback)((()=>{e((0,$.c$)())}),[e]),u=(0,a.useCallback)((()=>{o&&(t({targetUri:o,intent:"delete-folder",type:"click",itemIdSuffix:"delete"}),s(o),d(),(0,le.o_)(o)?.toURLPath().endsWith(i.pathname)&&n("/",{replace:!0}),l&&l())}),[o,t,s,d,i.pathname,l,n]);return(0,R.jsx)(ce.T,{"aria-label":c.Ru.get("folder.delete-header"),titleText:c.Ru.get("folder.delete-header"),onConfirm:u,onClose:d,confirmText:c.Ru.get("contextmenu.delete"),confirmLabel:c.Ru.get("folder.delete-header"),cancelText:c.Ru.get("queue.cancel-button")})}));var ge=s(62720),pe=s(42299);const he={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},be=/[&<>"']/g,Re=RegExp(be.source);const xe=Object.values(he);RegExp(`${xe.join("|")}`,"g"),RegExp(`${xe.join("|")}`);const ye=(0,a.memo)((function({uri:e}){const t=(0,oe.Zp)(),s=(0,oe.zy)(),n=(0,r.wA)(),i=(0,de.W)(),[,o]=(0,ge.A)(e),l=(0,pe.J)(e),d=(0,a.useCallback)((()=>{i({targetUri:e,intent:"delete-playlist",type:"click",itemIdSuffix:"delete"}),o(!1),n((0,$._P)()),(0,le.B2)(e,s.pathname)&&t("/",{replace:!0})}),[i,e,o,n,s.pathname,t]),u=(0,a.useCallback)((()=>{n((0,$._P)())}),[n]);return l&&(0,R.jsx)(ce.T,{"aria-label":c.Ru.get("playlist.delete",l.name),titleText:c.Ru.get("playlist.delete-title",l.name),descriptionText:c.Ru.get("playlist.delete-description",(m=l.name,m&&Re.test(m)?m.replace(be,(e=>e in he?he[e]:e)):m)),onConfirm:d,onClose:u,confirmText:c.Ru.get("contextmenu.delete"),confirmLabel:c.Ru.get("playlist.delete",l.name),cancelText:c.Ru.get("queue.cancel-button"),allowHTML:!0});var m})),fe=()=>{const e=(0,r.d4)((e=>e.ui.deletePlaylistDialog.uri));return e?(0,R.jsx)(ye,{uri:e}):null},Ee=(0,a.lazy)((async()=>{const{AboutSpotifyModal:e}=await s.e(8493).then(s.bind(s,6918));return{default:e}})),ve=(0,a.lazy)((async()=>await s.e(8493).then(s.bind(s,24485))));function ke(){return(0,R.jsxs)(a.Suspense,{fallback:null,children:[(0,R.jsx)(Ee,{}),(0,R.jsx)(ve,{})]})}var Ce=s(42551),je=s(35293),we=s(48604);const Ne="main-duplicateTrackModal-container",Se="main-duplicateTrackModal-title",Oe="main-duplicateTrackModal-description",_e="main-duplicateTrackModal-buttonContainer",Te=(0,Ce.Mz)((e=>e.duplicateTracks),(e=>{const t=!!e.uri;return{...e,onlyOneTrack:t,uris:t&&e.uri?[e.uri]:e.uris}})),Ie=(0,a.memo)((function(){const e=(0,r.wA)(),t=(0,we.m)(),{isOpen:s,playlistName:n,playlistUri:i,uris:l=[],onlyOneTrack:d,position:m={after:"end"},newUris:g=[]}=(0,r.d4)(Te),p=g?.length,h=!d&&p,b=(0,a.useCallback)((()=>{h&&t.add(i,g,m),e((0,je.Qo)())}),[t,h,g,m,i,e]),x=(0,a.useCallback)((()=>{t.add(i,l,m),e((0,je.Qo)())}),[t,l,m,i,e]),y=(0,a.useCallback)((()=>{e((0,je.Qo)())}),[e]);let E;return E=h?c.Ru.get("duplicate.tracks.someAlreadyAddedDescription",n):d?c.Ru.get("duplicate.tracks.oneAlreadyAdded",n):c.Ru.get("duplicate.tracks.allAlreadyAdded",n),(0,R.jsx)(u.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:y,contentLabel:c.Ru.get("duplicate.tracks.alreadyAdded"),isOpen:s,children:(0,R.jsxs)("div",{className:Ne,children:[(0,R.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",className:Se,children:h?c.Ru.get("duplicate.tracks.someAlreadyAdded"):c.Ru.get("duplicate.tracks.alreadyAdded")}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",className:Oe,paddingBottom:Z.lT,children:E}),(0,R.jsxs)("div",{className:v()("encore-light-theme",_e),children:[(0,R.jsx)(f.H,{onClick:x,children:h?c.Ru.get("duplicate.tracks.addAll"):c.Ru.get("duplicate.tracks.addAnyway")}),(0,R.jsx)(k.$,{onClick:b,children:h?c.Ru.get("duplicate.tracks.addNewOnes"):c.Ru.get("duplicate.tracks.dontAdd")})]})]})})}));var Ae=s(53107),Le=s(7062),De=s(54316),Me=s(22807),Ue=s(15596),Pe=s(8461),Be=s(55388),Fe=s(91654),We=s(89956),Ve=s(21233),Ge=s(58591),ze=s(89734),He=s(23679),Ke=s(72091);const qe=()=>{const e=(0,oe.Zp)(),t=(0,r.wA)(),s=(0,oe.zy)(),a=(0,r.d4)((e=>e.ui.history.canGoBack)),n=(0,r.d4)((e=>e.ui.history.canGoForward)),{createPlaylist:i}=(0,Ge.A)(),{createFolder:o}=(0,ue.Z)(),{openURL:l,openURLWithSessionTransfer:d}=(0,He.L)(),{spec:u,logger:m}=(0,Ke.r)(Le.r,{data:{uri:(0,le.o_)(s.pathname)?.toURI()??""},parentAbsoluteLocation:{locations:[]}});return(0,Be.x)(Pe.W.CREATE_NEW_PLAYLIST,(async()=>{await i()})),(0,Be.x)(Pe.W.CREATE_NEW_FOLDER,(async()=>{await o(c.Ru.get("playlist.default_folder_name"),{before:"start"})})),(0,Be.x)(Pe.W.BROWSE_BACKWARD,(()=>{a&&e(-1)})),(0,Be.x)(Pe.W.BROWSE_FORWARD,(()=>{n&&e(1)})),(0,Be.x)(Pe.W.LOGOUT,(()=>{t((0,ze.wH)())})),(0,Be.x)(Pe.W.SHOW_ABOUT,(()=>{t((0,De.Uu)())})),(0,Be.x)(Pe.W.SHOW_PREFERENCES,(()=>{e("/preferences")})),(0,Be.x)(Pe.W.SHOW_SEARCH,(()=>{/\/search(\/.*|)$/.test(s.pathname)||e("/search",{state:{preventMoveFocus:!0}})})),(0,Be.x)(Pe.W.SHOW_ACCOUNT,(()=>{d("https://spotify.com/account/overview/")})),(0,Be.x)(Pe.W.SHOW_COMMUNITY,(()=>{d("https://community.spotify.com/")})),(0,Be.x)(Pe.W.SHOW_HELP,(()=>{d("https://support.spotify.com/")})),(0,Be.x)(Pe.W.SHOW_LICENSES,(()=>{t((0,Me.FS)())})),(0,Be.x)(Pe.W.SHOW_LICENSING_INFORMATION,(()=>{l("https://www.spotify.com/int/legal/licensing-info/")})),(0,Be.x)(Pe.W.SHOW_SCTA_INFORMATION,(()=>{l("https://www.spotify.com/int/legal/specified-commercial-transactions")})),(0,Be.x)(Pe.W.ENTER_FULLSCREEN,(()=>{m.logInteraction(u.fullscreenButtonFactory().hitUiReveal()),t((0,$.Kk)())})),(0,Be.x)(Pe.W.LEAVE_FULLSCREEN,(()=>{m.logInteraction(u.fullscreenButtonFactory().hitUiHide()),t((0,$.DH)())})),(0,Be.x)(Pe.W.SET_PLATFORM_EMULATION_AUTO,(()=>{(0,Ue.O)((0,We.My)(),(0,Ve.D)())})),(0,Be.x)(Pe.W.SET_PLATFORM_EMULATION_MACOS,(()=>{(0,Ue.O)((0,We.My)(),Fe.f.macOS)})),(0,Be.x)(Pe.W.SET_PLATFORM_EMULATION_WINDOWS,(()=>{(0,Ue.O)((0,We.My)(),Fe.f.Windows)})),(0,Be.x)(Pe.W.SET_PLATFORM_EMULATION_LINUX,(()=>{(0,Ue.O)((0,We.My)(),Fe.f.Linux)})),null};var Qe=s(41361),Ye=s(34122),Ze=s(9856),$e=s.n(Ze);const Je="main-keyboardShortcutsHelpModal-container",Xe="main-keyboardShortcutsHelpModal-header",et="main-keyboardShortcutsHelpModal-closeBtn",tt="main-keyboardShortcutsHelpModal-sectionsContainer",st="main-keyboardShortcutsHelpModal-sections",at="main-keyboardShortcutsHelpModal-sectionHeading",rt="main-keyboardShortcutsHelpModal-sectionItem",nt="main-keyboardShortcutsHelpModal-sectionItemName",it="main-keyboardShortcutsHelpModal-key",ot=e=>{switch(e){case"mod":return"macOS"===$e().getParser(window.navigator.userAgent).getOSName()?"⌘":"Ctrl";case"command":return"⌘";case"alt":return"macOS"===$e().getParser(window.navigator.userAgent).getOSName()?"⌥":"Alt";case"shift":case"ctrl":case"space":return e[0].toUpperCase()+e.slice(1);case"up":return"↑";case"right":return"→";case"down":return"↓";case"left":return"←";default:return e.toUpperCase()}},lt=(0,a.memo)((function({children:e}){return(0,R.jsx)(o.E,{as:"kbd",variant:"bodyMedium",className:it,children:ot(e)})})),ct=({combinations:e})=>(0,R.jsx)(R.Fragment,{children:e.map(((t,s)=>{const r=t.split("+");return(0,R.jsxs)(a.Fragment,{children:[r.map((e=>(0,R.jsx)(lt,{children:e},e))),s<e.length-1&&(0,R.jsxs)(o.E,{variant:"bodyMedium",children:[" ",c.Ru.get("keyboard.shortcuts.or")," "]})]},t)}))}),dt=({shortcuts:e,sectionTitle:t})=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(o.E,{as:"h2",className:at,variant:"titleSmall",children:t}),(0,R.jsx)("ul",{children:e.map((e=>e.enabled?(0,R.jsxs)("li",{className:rt,children:[(0,R.jsx)(o.E,{variant:"bodyMedium",className:nt,children:e.description}),(0,R.jsx)(ct,{combinations:Ye.gO[e.action]})]},e.action):null))})]}),ut=(0,a.memo)((function(){const e=(0,Ye.dr)(),t=(0,r.wA)(),s=(0,r.d4)((e=>e.ui.keyboardShortcutsHelpModal.isOpen)),n=(0,a.useCallback)((()=>{t((0,$.wi)(!1))}),[t]),i=e.employee.filter((e=>e.enabled));return(0,R.jsx)(u.A,{isOpen:s,onRequestClose:n,contentLabel:c.Ru.get("keyboard.shortcuts.help.heading"),children:(0,R.jsxs)("div",{className:Je,children:[(0,R.jsxs)("div",{className:Xe,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleMedium",children:c.Ru.get("keyboard.shortcuts.help.heading")}),(0,R.jsx)("button",{"aria-label":c.Ru.get("close"),className:et,onClick:n,children:(0,R.jsx)(Qe.A,{width:18,height:18,fill:"currentColor"})}),(0,R.jsxs)(o.E,{variant:"bodyMedium",as:"p",children:[c.Ru.get("keyboard.shortcuts.help.subheading.press")," ",(0,R.jsx)(ct,{combinations:Ye.gO.OPEN_HELP})," ",c.Ru.get("keyboard.shortcuts.help.subheading.toToggle")]})]}),(0,R.jsx)("div",{className:tt,children:(0,R.jsxs)("div",{className:st,tabIndex:0,children:[(0,R.jsx)(dt,{shortcuts:e.basic,sectionTitle:c.Ru.get("keyboard.shortcuts.section.basic")}),(0,R.jsx)(dt,{shortcuts:e.playback,sectionTitle:c.Ru.get("keyboard.shortcuts.section.playback")}),(0,R.jsx)(dt,{shortcuts:e.navigation,sectionTitle:c.Ru.get("keyboard.shortcuts.section.navigation")}),(0,R.jsx)(dt,{shortcuts:e.layout,sectionTitle:c.Ru.get("keyboard.shortcuts.section.layout")}),i.length>0?(0,R.jsx)(dt,{shortcuts:i,sectionTitle:"Employee"}):null]})})]})})}));var mt=s(82129);const gt="ABD0FGjBGqGZG33bP7Lc",pt="iV_SwHyMafiGlMDhlcB5",ht="gMEKhUL8rKx7DhSDUVk7",bt="Z0v7BXnINL5FxFXjQIzE",Rt=a.memo((function({playlistUri:e}){const t=(0,r.wA)(),s=(0,oe.Zp)(),n=(0,de.W)(),[i,l]=(0,ge.A)(e),d=(0,r.d4)(X.Ht).user,m=(0,pe.J)(e),{removeMember:g}=(0,mt.x)(e),p=m?.permissions?.isPrivate,h=m?.canAdd,b=(0,a.useCallback)((()=>{d?.id&&(n({intent:"playlisting",type:"click"}),i&&p&&l(!1),g(d?.id),t((0,$.mE)()),s("/"))}),[d?.id,n,i,p,g,t,s,l]),x=(0,a.useCallback)((()=>{t((0,$.mE)())}),[t]),y=c.Ru.get("leave-playlist.dialog.leave");let E=c.Ru.get("leave-playlist.dialog.private-description");return p||(E=h?c.Ru.get("leave-playlist.dialog.public-contributor-description"):c.Ru.get("leave-playlist.dialog.public-listener-description")),(0,R.jsx)(u.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:x,contentLabel:y,isOpen:!0,children:(0,R.jsxs)("div",{className:gt,children:[(0,R.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",className:pt,children:c.Ru.get("leave-playlist.dialog.title")}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",className:ht,paddingBottom:Z.lT,children:E}),(0,R.jsxs)("div",{className:v()("encore-light-theme",bt),children:[(0,R.jsx)(f.H,{onClick:x,children:c.Ru.get("leave-playlist.dialog.cancel")}),(0,R.jsx)(k.$,{onClick:b,children:y})]})]})})})),xt=a.memo((function(){const{isOpen:e,playlistUri:t}=(0,r.d4)((e=>e.ui.leavePlaylistDialog));return t&&e?(0,R.jsx)(Rt,{playlistUri:t}):null}));var yt=s(84492),ft=s(57262),Et=s(16288),vt=s(19159);const kt=e=>(0,R.jsx)("img",{alt:"Zara Larsson",src:(0,yt.b)("images/zara-larsson-singles.png"),...e});var Ct=s(32594),jt=s(14467);const wt="m7yI2BjDd8Jfq4bwU_IT",Nt="A0uXWh53dpxhad3t59v_",St="jN93nx_3NxRM0qYmOmjB",Ot="x_mFp6qsLw0AgSON4gdy",_t="aS3WvPBqyZdP1S28pn6r",Tt="FvaVPD0bBm4QOZEKRYOm",It="nRjGqzP1Yyg9utpJtFEG",At="lljaf1wMpxMQY1AVr1sf",Lt="Mhj98HFd0jXE916R2Ggz",Dt="TicfIwifH276e2046RzG",Mt="ONMHZOOfFwfCPGr5rKNp",Ut="ZQ94gWpWwDhhvQ7bRv9S",Pt="DNkhD0rW2qSWeBj4HBIZ",Bt=a.memo((function(){const e=(0,r.wA)(),t=(0,r.d4)((e=>e.ui.loginToListenDialog.isOpen)),s=(0,de.W)();s({intent:"navigate",type:"view"});const n=(0,a.useCallback)((()=>{s({intent:"close",type:"click"}),e((0,$.k0)())}),[e,s]),i=(0,oe.Zp)(),l=(0,Et.k)(),{url:d,isExternal:m}=l,g=(0,a.useCallback)((t=>{s({intent:"upgrade-to-premium",type:"click"}),e((0,$.k0)()),t?!1===m?i("/premium"):window.open(d,"_blank"):window.open(jt.zd,"_blank")}),[s,e,d,m,i]);return(0,R.jsx)(ft.u,{property:vt.StW,renderOldExperience:()=>(0,R.jsx)(u.A,{animated:!0,isOpen:t,className:It,overlayClassName:At,contentLabel:c.Ru.get("mwp.d2p.modal.title"),onRequestClose:n,children:(0,R.jsxs)("div",{className:wt,children:[(0,R.jsx)("div",{className:Tt,children:(0,R.jsx)(kt,{className:Nt})}),(0,R.jsxs)("div",{className:`${Tt}`,children:[(0,R.jsx)("div",{className:St,children:(0,R.jsx)(Ct.T,{color:"var(--spice-text)",height:"23"})}),(0,R.jsx)(o.E,{as:"h1",variant:"titleMedium",children:c.Ru.get("mwp.d2p.modal.title")}),(0,R.jsx)(o.E,{as:"p",variant:"bodyMedium",children:c.Ru.get("mwp.d2p.modal.description")}),(0,R.jsx)(k.$,{onClick:g.bind(null,!0),className:`${Ot}`,children:c.Ru.get("mwp.d2p.modal.cta")}),(0,R.jsx)(f.H,{onClick:n,className:`${Ot} ${_t}`,children:c.Ru.get("mwp.d2p.modal.dismiss")})]})]})}),renderNewExperience:()=>(0,R.jsx)(u.A,{animated:!0,isOpen:t,className:It,overlayClassName:At,contentLabel:c.Ru.get("mwp.d2p.modal.title"),onRequestClose:n,children:(0,R.jsxs)("div",{className:`${wt} ${Lt}`,children:[(0,R.jsx)("div",{className:`${Tt} ${Pt}`,children:(0,R.jsx)("img",{alt:c.Ru.get("midyear.cta"),src:(0,yt.b)("images/mid-year.png")})}),(0,R.jsxs)("div",{className:`${Tt}`,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleMedium",children:c.Ru.get("midyear.title")}),(0,R.jsx)(o.E,{as:"p",variant:"bodyMedium",children:c.Ru.get("midyear.intro")}),(0,R.jsx)(k.$,{onClick:g.bind(null,!1),className:`${Ot} ${Dt}`,children:c.Ru.get("midyear.cta")}),(0,R.jsx)(f.H,{onClick:n,className:`${Ot} ${_t} ${Mt}`,children:c.Ru.get("mwp.d2p.modal.dismiss")}),(0,R.jsx)(o.E,{as:"p",className:Ut,variant:"marginal",dangerouslySetInnerHTML:{__html:c.Ru.get("midyear.terms",{help_link:"https://www.spotify.com/legal/premium-promotional-offer-terms/"})}})]})]})})})})),Ft=a.memo((function(){return(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(Bt,{})})}));var Wt=s(42154),Vt=s(23938),Gt=s(33999),zt=s(86685),Ht=s(38273),Kt=s(79303);const qt="Gq0nmqrHqipmGwpzAmPM",Qt="SlF1l98yxyaNXDn4clyB",Yt=()=>{const e=(0,r.wA)(),t=(0,oe.Zp)(),s=(0,Kt.s)(),a=(0,zt.j)(),{isOpen:n}=(0,r.d4)((e=>e.ui.learnMorePersonalizedRecommendationsModal)),i=()=>{e(Ht.r8.actions.close()),s.logInteraction(a.cancelButtonFactory().hitUiHide())};return(0,R.jsx)(u.A,{isOpen:n,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:i,contentLabel:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),animated:!0,children:(0,R.jsx)(Wt.Q,{className:qt,dialogTitle:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),"aria-label":c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),body:(0,R.jsxs)("div",{className:Qt,children:[(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body")}),(0,R.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body-missing-features-intro")}),(0,R.jsxs)(Vt.b,{as:"ul",children:[(0,R.jsx)(Gt.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-1")}),(0,R.jsx)(Gt.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-2")}),(0,R.jsx)(Gt.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-3")})]}),(0,R.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body-persistent-features-intro")}),(0,R.jsx)(Vt.b,{condensed:!0,as:"ul",children:(0,R.jsx)(Gt.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-1")})})]}),footer:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f.H,{onClick:i,size:"small",condensed:!0,children:c.Ru.get("web-player.settings.personalized-recommendations.modal-cancel")}),(0,R.jsx)(k.$,{onClick:()=>{t("/preferences?highlight=dsa"),e(Ht.r8.actions.close()),s.logInteraction(a.goToSettingsButtonFactory().hitUiNavigate({destination:"/preferences"}))},size:"small",colorSet:"invertedLight",children:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-confirm")})]}),legal:(0,R.jsx)(o.E,{variant:"marginal",semanticColor:"textBase",as:"p",children:c.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-disclaimer")})})})};var Zt=s(55171);const $t=()=>{const e=(0,r.wA)(),t=(0,Kt.s)(),s=(0,Zt.H)(),{isOpen:a,onConfirm:n}=(0,r.d4)((e=>e.ui.turnOffPersonalizedRecommendationsModal)),i=()=>{e(Ht.UU.actions.close()),t.logInteraction(s.cancelButtonFactory().hitUiHide())};return(0,R.jsx)(u.A,{isOpen:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:i,contentLabel:c.Ru.get("web-player.settings.personalized-recommendations.modal-header"),animated:!0,children:(0,R.jsx)(Wt.Q,{className:qt,dialogTitle:c.Ru.get("web-player.settings.personalized-recommendations.modal-header"),"aria-label":c.Ru.get("web-player.settings.personalized-recommendations.modal-header"),body:(0,R.jsxs)("div",{className:Qt,children:[(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body")}),(0,R.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-intro")}),(0,R.jsxs)(Vt.b,{as:"ul",children:[(0,R.jsx)(Gt.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-1")}),(0,R.jsx)(Gt.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-2")}),(0,R.jsx)(Gt.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-3")})]}),(0,R.jsx)(o.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-intro")}),(0,R.jsx)(Vt.b,{condensed:!0,as:"ul",children:(0,R.jsx)(Gt.K,{condensed:!0,semanticColor:"textSubdued",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-1")})})]}),footer:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f.H,{onClick:i,size:"small",condensed:!0,children:c.Ru.get("web-player.settings.personalized-recommendations.modal-cancel")}),(0,R.jsx)(k.$,{onClick:()=>{n(),e(Ht.UU.actions.close()),t.logInteraction(s.turnOffPersonalizedRecommendationsButtonFactory().hitSettingDisable())},size:"small",colorSet:"invertedLight",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-confirm")})]}),legal:(0,R.jsx)(o.E,{variant:"marginal",semanticColor:"textBase",as:"p",children:c.Ru.get("web-player.settings.personalized-recommendations.modal-delay-disclaimer")})})})};var Jt=s(90498),Xt=s(88311),es=s(8048),ts=s(32572),ss=s(69626),as=s(67307),rs=s(65277),ns=s(45729),is=s(4977),os=s(76727),ls=s(39796),cs=s(66416),ds=s(83542);const us="main-playlistEditDetailsModal-container",ms="main-playlistEditDetailsModal-content",gs="main-playlistEditDetailsModal-header",ps="main-playlistEditDetailsModal-closeBtn",hs="main-playlistEditDetailsModal-albumCover",bs="main-playlistEditDetailsModal-imageLoadingContainer",Rs="main-playlistEditDetailsModal-imageChangeButton",xs="main-playlistEditDetailsModal-imageDropDownContainer",ys="main-playlistEditDetailsModal-imageDropDownButton",fs="main-playlistEditDetailsModal-textElement",Es="main-playlistEditDetailsModal-textElementError",vs="main-playlistEditDetailsModal-textElementInfo",ks="main-playlistEditDetailsModal-title",Cs="main-playlistEditDetailsModal-textElementLabel",js="main-playlistEditDetailsModal-description",ws="main-playlistEditDetailsModal-titleInput",Ns="main-playlistEditDetailsModal-titleInputWithPadding",Ss="main-playlistEditDetailsModal-descriptionTextarea",Os="main-playlistEditDetailsModal-save",_s="main-playlistEditDetailsModal-disclaimer",Ts="main-playlistEditDetailsModal-characterCounter",Is="main-playlistEditDetailsModal-titleCharacterCounter",As="main-playlistEditDetailsModal-descriptionCharacterCounter",Ls="main-playlistEditDetailsModal-insertLinkButton",Ds=({openImagePicker:e,onRemoveImage:t})=>(0,R.jsx)("div",{className:xs,children:(0,R.jsx)(ls.b,{menu:(0,R.jsxs)(cs.W,{children:[(0,R.jsx)(ds.D,{role:"menuitem",onClick:e,leadingIcon:(0,R.jsx)(ns.d,{semanticColor:"textSubdued",size:"small"}),children:c.Ru.get("playlist.edit-details.change-photo")}),(0,R.jsx)(ds.D,{role:"menuitem",onClick:t,leadingIcon:(0,R.jsx)(is.x,{semanticColor:"textSubdued",size:"small"}),children:c.Ru.get("playlist.edit-details.remove-photo")})]}),children:(0,R.jsxs)("button",{className:ys,type:"button",children:[(0,R.jsx)(os.x,{size:"small","aria-hidden":"true"}),(0,R.jsx)("span",{className:"hidden-visually",children:c.Ru.get("edit_photo")})]})})});var Ms=s(88068);const Us=({onClick:e})=>(0,R.jsx)("button",{title:"Insert link",className:Ls,onClick:e,children:(0,R.jsx)(Ms.b,{size:"small","aria-hidden":"true"})});var Ps=s(79133),Bs=s.n(Ps);const Fs=({className:e,usedCharacters:t,maxCharacters:s,isVisible:a=!0})=>{const r=s-t,{ariaLive:n,ariaAtomic:i}=function(e){let t,s;return e<=20?(t="assertive",s=!0):e<=60?(t="polite",s=!1):e<=70?(t="polite",s=!0):(t="off",s=!0),{ariaLive:t,ariaAtomic:s}}(r);return(0,R.jsx)("span",{className:v()(Ts,e,{"hidden-visually":!a}),"aria-label":c.Ru.get("character-counter"),"aria-live":n,"aria-atomic":i,children:`${t}/${s}`})};var Ws=s(39692);const Vs=(0,a.forwardRef)((function({autoFocus:e,handleOnChange:t,playlistDescription:s,maxNumCharacters:r=300},n){const i=(0,a.useMemo)((()=>`text-input-${(0,Ws.Yu)(8)}`),[]),l=r-20,[d,u]=(0,a.useState)(!1),m=Bs()(s).length;return(0,a.useEffect)((()=>{e&&"function"!=typeof n&&n?.current?.select()}),[e,n]),(0,R.jsxs)("div",{className:js,children:[(0,R.jsx)(o.E,{htmlFor:i,as:"label",variant:"marginalBold",className:Cs,children:c.Ru.get("playlist.edit-details.description-label")}),(0,R.jsx)("textarea",{ref:n,"data-testid":"playlist-edit-details-description-input",autoFocus:e,className:v()(fs,Ss,{[vs]:d}),onChange:e=>{const s=t(Bs()(e.target.value).slice(0,r).join(""));u(!!s)},placeholder:c.Ru.get("playlist.edit-details.description-placeholder"),value:s}),(0,R.jsx)(Fs,{className:As,maxCharacters:r,usedCharacters:m,isVisible:m>=l})]})}));var Gs=function(e){return e.CONTAINS_NEW_LINE="CONTAINS_NEW_LINE",e.CONTAINS_HTML="CONTAINS_HTML",e.SAVE_WARNING="SAVE_WARNING",e.OFFLINE_WARNING="OFFLINE_WARNING",e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e.IMAGE_FILE_UPLOAD_FAILED="IMAGE_FILE_UPLOAD_FAILED",e.NAME_REQUIRED="NAME_REQUIRED",e.UPDATE_DETAILS_FAILED="UPDATE_DETAILS_FAILED",e.IMAGE_INVALID_JPG="IMAGE_INVALID_JPG",e}(Gs||{});const zs={type:"info",code:Gs.CONTAINS_NEW_LINE,get message(){return c.Ru.get("playlist.edit-details.error.description-breaks")}},Hs={type:"info",code:Gs.CONTAINS_HTML,get message(){return c.Ru.get("playlist.edit-details.error.invalid-html")}},Ks={type:"info",code:Gs.SAVE_WARNING,get message(){return c.Ru.get("playlist.edit-details.error.unsaved-changes")}},qs={type:"info",code:Gs.OFFLINE_WARNING,get message(){return c.Ru.get("playlist.edit-details.error.no-internet")}},Qs={type:"error",code:Gs.FILE_TOO_BIG,get message(){return c.Ru.get("playlist.edit-details.error.file-size-exceeded",10)}},Ys={type:"error",code:Gs.IMAGE_TOO_SMALL,get message(){return c.Ru.get("playlist.edit-details.error.too-small",300,300)}},Zs={type:"error",code:Gs.IMAGE_TOO_BIG,get message(){return c.Ru.get("playlist.edit-details.error.too-big",1e4,1e4)}},$s={type:"error",code:Gs.IMAGE_TYPE_NOT_SUPPORTED,get message(){return c.Ru.get("playlist.edit-details.error.image-type-not-supported")}},Js={type:"error",code:Gs.IMAGE_FILE_UPLOAD_FAILED,get message(){return c.Ru.get("playlist.edit-details.error.file-upload-failed")}},Xs={type:"error",code:Gs.NAME_REQUIRED,get message(){return c.Ru.get("playlist.edit-details.error.missing-name")}},ea={type:"error",code:Gs.UPDATE_DETAILS_FAILED,get message(){return c.Ru.get("playlist.edit-details.error.failed-to-save")}},ta=({autoFocus:e,handleOnChange:t,maxNumCharacters:s=100,playlistName:r,onSubmit:n})=>{const[i,l]=(0,a.useState)(!1),d=(0,a.useMemo)((()=>`text-input-${(0,Ws.Yu)(8)}`),[]),u=s-10,m=Bs()(r).length,g=m>=u,p=(0,a.useRef)(null);return(0,a.useEffect)((()=>{e&&p.current?.select()}),[e]),(0,R.jsxs)("div",{className:ks,children:[(0,R.jsx)(o.E,{as:"label",htmlFor:d,variant:"marginalBold",className:Cs,children:c.Ru.get("playlist.edit-details.name-label")}),(0,R.jsx)("input",{"data-testid":"playlist-edit-details-name-input",id:d,autoFocus:e,ref:p,type:"text",className:v()(fs,ws,{[Ns]:g,[Es]:i}),onKeyDown:e=>{"Enter"===e.key&&n()},onChange:e=>{const a=t(Bs()(e.target.value).slice(0,s).join(""));l(!!a)},placeholder:c.Ru.get("playlist.edit-details.name-placeholder"),value:r}),(0,R.jsx)(Fs,{isVisible:g,maxCharacters:s,usedCharacters:m,className:Is})]})};var sa=s(53044);const aa={name:"",description:"",image:void 0,loading:!1,message:null,hasWarnedAboutUnsavedChanges:!1};function ra(e){return{type:"setPlaylistDescription",data:e}}function na(e){return{type:"setLoading",data:e}}function ia(e){return{type:"setMessage",data:e}}function oa(e,t){switch(t.type){case"setImageData":return{...e,loading:!1,image:{width:sa.B.SMALL,height:sa.B.SMALL,url:t.data}};case"removeImage":return{...e,loading:!1,imageToken:null,image:void 0};case"setImageToken":return{...e,imageToken:t.data};case"setPlaylistName":return{...e,name:t.data};case"setPlaylistDescription":return{...e,description:t.data};case"setLoading":return{...e,loading:t.data,message:null};case"setHasWarnedAboutUnsavedChanges":return{...e,hasWarnedAboutUnsavedChanges:t.data};case"setMessage":return{...e,loading:!1,message:t.data};case"reset":return{...aa,name:t.data.name,description:t.data.description,image:t.data.image};default:return e}}var la=s(52608);const ca=/[\b\f\n\r\t\v\0]/,da=/<[bi]/i,ua=({isOpen:e,isImagePickerOpen:t,focusedElement:s,name:n,description:i,image:d,uri:m,onClose:g})=>{i=(e=>{const t=document.createElement("textarea");return t.innerHTML=e,t.value})(i);const{uploadImage:p,updateDetails:h}=(0,mt.x)(m),[b,x]=function({name:e,description:t,image:s}){const[r,n]=(0,a.useReducer)(oa,{...aa,name:e,description:t,image:s});return[r,n]}({name:n,description:i,image:d}),[y,f]=(0,as.p)(),E=!(0,la.n)(),v=(0,a.useRef)(null),C=(0,r.d4)((e=>"1"===e.session.productState?.["playlist-annotations-markup"]));(0,a.useEffect)((()=>{x(ia(E?qs:null))}),[E,x]),(0,a.useEffect)((()=>{t&&f()}),[t,f]);const j=(0,a.useCallback)((()=>{x({type:"removeImage"})}),[x]),w=(e=!1)=>{const t=null===b.imageToken,s=b.imageToken;!(n!==b.name||i!==b.description||s||t)||b.hasWarnedAboutUnsavedChanges||e?(x(function(e){return{type:"reset",data:e}}({name:n,description:i,image:d})),g()):(x(ia(Ks)),x({type:"setHasWarnedAboutUnsavedChanges",data:!0}))};async function N(){if(!b.loading)if(0!==b.name.length){x(na(!0));try{await async function(){const e={};n!==b.name&&(e.name=b.name);i!==b.description&&(e.description=b.description);b.imageToken?e.imageUploadToken=await b.imageToken:null===b.imageToken&&(e.imageUploadToken=null);e.image=b.image,await h(e)}(),x(na(!1));w(!0)}catch{x(ia(ea))}}else x(ia(Xs))}return(0,R.jsx)(u.A,{isOpen:e,onRequestClose:()=>{w()},contentLabel:c.Ru.get("playlist.edit-details.title"),children:(0,R.jsxs)("div",{"data-testid":"playlist-edit-details-modal",className:us,children:[(0,R.jsxs)("div",{className:gs,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleSmall",children:c.Ru.get("playlist.edit-details.title")}),(0,R.jsx)("button",{className:ps,onClick:()=>{w()},children:(0,R.jsx)(l.M,{size:"small","aria-label":c.Ru.get("close")})})]}),b.message&&(0,R.jsx)(rs.z,{isErrorMessage:"error"===b.message.type,message:b.message.message}),C?(0,R.jsx)(Us,{onClick:function(){if(!v.current)return;const{selectionStart:e,selectionEnd:t}=v.current,s=b.description.substring(e,t);let a=s;const r=!!(0,le.o_)(a);!a.startsWith("http://")&&!a.startsWith("https://")&&!r&&(a=`https://${a}`),x(ra([b.description.substring(0,e),`<a href="${a}">${s}</a>`,b.description.substring(t)].join("")))}}):null,(0,R.jsxs)("div",{className:ms,children:[(0,R.jsx)(ss.u,{isOpen:y,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:t,imageDataUrl:s}=e;if(x(ia(null)),x({type:"setImageData",data:s}),t)try{const e=p(t);x({type:"setImageToken",data:e}),await e}catch{x(ia(Js))}},onError:e=>{e===ss.i.FILE_TOO_BIG?x(ia(Qs)):e===ss.i.IMAGE_TOO_SMALL?x(ia(Ys)):e===ss.i.IMAGE_TOO_BIG?x(ia(Zs)):e===ss.i.IMAGE_TYPE_NOT_SUPPORTED&&x(ia($s))}}),(0,R.jsxs)("div",{className:hs,children:[(0,R.jsx)(ts.b,{loading:"eager",name:b.name,images:b.image?[b.image]:[],placeholderType:"playlist"}),(0,R.jsx)("div",{className:Rs,children:(0,R.jsx)(es.a,{overlay:!!b.image,onClick:f})}),(0,R.jsx)(Ds,{onRemoveImage:j,openImagePicker:f}),!!b.imageToken&&b.loading&&(0,R.jsx)("div",{className:bs,children:(0,R.jsx)(Xt.I,{})})]}),(0,R.jsx)(ta,{autoFocus:s===Jt.NV.TITLE,handleOnChange:e=>(x({type:"setPlaylistName",data:e}),0===e.length?(x(ia(Xs)),Xs):(x(ia(null)),null)),playlistName:b.name,onSubmit:N}),(0,R.jsx)(Vs,{ref:v,autoFocus:s===Jt.NV.DESCRIPTION,handleOnChange:e=>{let t=e;return da.test(t)?(x(ia(Hs)),Hs):ca.test(t)?(t=(e||"").replace(ca,""),x(ia(zs)),zs):(x(ra(t)),null)},playlistDescription:b.description}),(0,R.jsx)("div",{className:Os,children:(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:N,disabled:b.loading,"data-testid":"playlist-edit-details-save-button",children:c.Ru.get("save")})}),(0,R.jsx)(o.E,{as:"p",variant:"marginalBold",className:_s,children:c.Ru.get("image-upload.legal-disclaimer")})]})]})})},ma=()=>{const{isOpen:e,isImagePickerOpen:t,playlistDetails:s,focusedElement:r}=(0,a.useContext)(Jt.iE),n=(0,a.useContext)(Jt.$$),i=(0,a.useCallback)((()=>{n({type:"close"})}),[n]),{name:o,description:l,uri:c,image:d}=s;return e?(0,R.jsx)(ua,{isOpen:e,isImagePickerOpen:t,onClose:i,focusedElement:r,uri:c,name:o,description:l,image:d}):null},ga=new Map;ga.set("ad","€ 9,99"),ga.set("ar","$ 69,00"),ga.set("at","€ 9,99"),ga.set("au","$11.99"),ga.set("be","€ 9,99"),ga.set("bg","4.99 EUR"),ga.set("bo","5.99 USD"),ga.set("br","R$ 16,90"),ga.set("ca","9.99 CAD"),ga.set("ch","Fr. 12.95"),ga.set("cl","$ 3.490,00"),ga.set("co","$ 14.900,00"),ga.set("cr","5.99 USD"),ga.set("cy","6.99 EUR"),ga.set("cz","5.99 EUR"),ga.set("de","9,99 €"),ga.set("dk","kr 99,00"),ga.set("do","5.99 USD"),ga.set("ec","5.99 USD"),ga.set("ee","6.99 EUR"),ga.set("es","9,99 €"),ga.set("fi","9,99 €"),ga.set("fr","9,99 €"),ga.set("uk","£9.99"),ga.set("gr","6.99 EUR"),ga.set("gt","5.99 USD"),ga.set("hk","HK$58.00"),ga.set("hn","5.99 USD"),ga.set("hu","4.99 EUR"),ga.set("id","Rp 49.990"),ga.set("ie","€9.99"),ga.set("is","9.99 EUR"),ga.set("it","€ 9,99"),ga.set("kr","₩10,900"),ga.set("li","12.95 CHF"),ga.set("lt","6.99 EUR"),ga.set("lu","9.99 EUR"),ga.set("lv","6.99 EUR"),ga.set("mc","9.99 EUR"),ga.set("mt","6.99 EUR"),ga.set("mx","$ 99.00"),ga.set("my","RM14.90"),ga.set("ni","5.99 USD"),ga.set("nl","€9,99"),ga.set("no","kr109,00"),ga.set("nz","$14.99"),ga.set("pa","5.99 USD"),ga.set("pe","S/ 18.90"),ga.set("ph","₱129"),ga.set("pl","19,99 zł"),ga.set("pt","6.99 EUR"),ga.set("py","5.99 USD"),ga.set("se","99,00 kr"),ga.set("sg","S$9.90"),ga.set("sk","5.99 EUR"),ga.set("sv","5.99 USD"),ga.set("th","฿129.00"),ga.set("tr","13,99 TL"),ga.set("tw","NT$149.00"),ga.set("us","$9.99"),ga.set("uy","5.99 USD");const pa=new Map;pa.set("ad","€ 0,00"),pa.set("ar","$ 0,00"),pa.set("at","€ 0,00"),pa.set("au","$0.00"),pa.set("be","€ 0,00"),pa.set("bg","0.00 EUR"),pa.set("bo","0.00 USD"),pa.set("br","R$ 0,00"),pa.set("ca","0.00 CAD"),pa.set("ch","Fr. 0.00"),pa.set("cl","$ 0,00"),pa.set("co","$ 0,00"),pa.set("cr","0.00 USD"),pa.set("cy","0.00 EUR"),pa.set("cz","0.00 EUR"),pa.set("de","0,00 €"),pa.set("dk","kr 0,00"),pa.set("do","0.00 USD"),pa.set("ec","0.00 USD"),pa.set("ee","0.00 EUR"),pa.set("es","0,00 €"),pa.set("fi","0,00 €"),pa.set("fr","0,00 €"),pa.set("uk","£0.00"),pa.set("gr","0.00 EUR"),pa.set("gt","0.00 USD"),pa.set("hk","HK$0.00"),pa.set("hn","0.00 USD"),pa.set("hu","0.00 EUR"),pa.set("id","Rp 0.00"),pa.set("ie","€0.00"),pa.set("is","0.00 EUR"),pa.set("it","€ 0,00"),pa.set("li","0.00 CHF"),pa.set("lt","0.00 EUR"),pa.set("lu","0.00 EUR"),pa.set("lv","0.00 EUR"),pa.set("mc","0.00 EUR"),pa.set("mt","0.00 EUR"),pa.set("mx","$ 0.00"),pa.set("my","RM0.00"),pa.set("ni","0.00 USD"),pa.set("nl","€0,00"),pa.set("no","kr0,00"),pa.set("nz","$0.00"),pa.set("pa","0.00 USD"),pa.set("pe","S/ 0.00"),pa.set("ph","₱0.00"),pa.set("pl","0,00 zł"),pa.set("pt","0.00 EUR"),pa.set("py","0.00 USD"),pa.set("se","0,00 kr"),pa.set("sg","S$0.00"),pa.set("sk","0.00 EUR"),pa.set("sv","0.00 USD"),pa.set("th","฿0.00"),pa.set("tr","0,00 TL"),pa.set("tw","NT$0.00"),pa.set("us","$0.00"),pa.set("uy","0.00 USD");var ha=s(47721);const ba="jqvEr4MvCdQ1QA_FSpe7",Ra="sRkNI1Gya5aBxtf_vS1S",xa="WShxRrLdX9LzzqlCmWZy",ya="rlMoP29GxtDlHkDK_aci",fa=(0,a.memo)((function(){const e=(0,r.wA)(),t=(0,r.d4)((e=>e.ui.premiumDialog.isOpen)),s=(0,r.d4)((e=>{const t=(e=>{const t=e.toLowerCase();return{premiumPrice:ga.has(t)?ga.get(t):"99,00 kr",freePrice:pa.has(t)?pa.get(t):"0,00 kr"}})((0,ha.JJ)(e));return t.premiumPrice})),n=(0,r.d4)(ha.q),i=(0,a.useCallback)((()=>e((0,ze.wH)())),[e]),{openURLWithSessionTransfer:o}=(0,He.L)(),l=(0,de.W)(),d=(0,oe.Zp)(),m=(0,Et.k)(),{url:g,isExternal:p}=m,h=(0,a.useCallback)((()=>{l({intent:"upgrade-to-premium",type:"click"}),!1===p?d("/premium"):o(g)}),[d,l,o,p,g]);return(0,R.jsx)(u.A,{isOpen:t,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:c.Ru.get("premium.dialog.title"),children:(0,R.jsxs)("div",{className:ba,children:[(0,R.jsx)("h1",{className:Ra,children:c.Ru.get("premium.dialog.title")}),(0,R.jsx)("p",{className:xa,children:c.Ru.get("premium.dialog.description",n?3:1)}),(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:h,children:c.Ru.get("premium.dialog.subscribe")}),(0,R.jsx)(f.H,{semanticColor:"textBase",onClick:i,children:c.Ru.get("user.log-out")}),(0,R.jsx)("p",{className:ya,children:n?c.Ru.get("premium.dialog.disclaimer.noprice"):c.Ru.get("premium.dialog.disclaimer",{price:s})})]})})}));var Ea=s(96122),va=s(6823),ka=s(99008),Ca=s(94901);const ja=(0,a.memo)((function(){const e=(0,r.wA)(),t=(0,ka.T)(),{uri:s,isPrerelease:n}=(0,r.d4)((e=>e.ui.removeFromLibraryDialog)),[i,o]=(0,ge.A)(s??""),{remove:l}=(0,va.p)("prerelease"),d=(0,Ea.o)("prerelease",s?[s]:[]).at(0),u=(0,le.o_)(s)?.type,[m,g]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{switch(u){case le.NQ.PRERELEASE:case le.NQ.ALBUM:g(c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-album"));break;case le.NQ.ARTIST:g(c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-artist"));break;case le.NQ.SHOW:g((0,Ca.Go)(await t.getMetadata(s??""))?c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-audiobook"):c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-show"));break;case le.NQ.PLAYLIST:case le.NQ.PLAYLIST_V2:g(c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-playlist"));break;default:g(c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description"))}})()}),[t,u,s]);const p=(0,a.useCallback)((()=>{e((0,$.yh)())}),[e]),h=(0,a.useCallback)((()=>{if(s){if(n){if(!d)return;l(s)}else{if(!i)return;o(!1)}p()}}),[s,n,p,d,l,i,o]);return(0,R.jsx)(ce.T,{"aria-label":`${c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-title")} ${m}`,titleText:c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-title"),descriptionText:m,onConfirm:h,onClose:p,confirmText:c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-confirm-button"),cancelText:c.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-cancel-button"),allowHTML:!0})})),wa="ZjyLlDvxh8QqNVY2vMsF",Na="sx8Bf4udHt_kPAnxmGW8",Sa="sfaREUmOnuxlr99uOYnS",Oa="RTGGeDA2P3rKc6r96vqA",_a="e1NO8ZuDIwSef3E4ppfX",Ta="Fo3Fe1PpXtQ3G32BqnwP",Ia="aRZZo0b_4ktkI0mPQ7Vw",Aa=({name:e,onRename:t})=>{const s=(0,r.wA)(),[n,i]=(0,a.useState)(null),d=(0,a.useCallback)((e=>{null!==e&&i(e)}),[]);(0,a.useEffect)((()=>{n?.select()}),[n]);const m=()=>{s((0,$.Yk)())},g=()=>{t(n?.value??""),m()};return(0,R.jsx)(u.A,{contentLabel:c.Ru.get("playlist.edit-details.title"),shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:m,shouldFocusAfterRender:!0,isOpen:!0,children:(0,R.jsxs)("div",{"data-testid":"playlist-edit-details-modal",className:wa,children:[(0,R.jsxs)("div",{className:Sa,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleSmall",children:c.Ru.get("web-player.your-library-x.rename-folder")}),(0,R.jsx)("button",{className:Oa,onClick:m,children:(0,R.jsx)(l.M,{size:"medium","aria-label":c.Ru.get("close")})})]}),(0,R.jsxs)("form",{className:Na,onSubmit:e=>{e.preventDefault(),g()},children:[(0,R.jsx)("input",{ref:d,type:"text",defaultValue:e,onSubmit:g,className:v()(_a,Ta)}),(0,R.jsx)("div",{className:Ia,children:(0,R.jsx)(k.$,{colorSet:"invertedLight",type:"submit",children:c.Ru.get("save")})})]})]})})};function La(){return null}var Da=s(75235);function Ma(){const[e]=(0,Da.x)("lintHtmlWithCss",!1);let t;return t=La,(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(t,{})})}var Ua=s(46007),Pa=s(70932),Ba=s(3461),Fa=s(5800),Wa=s(1689),Va=s(15742),Ga=s(8385);const za=new Va.l("showItemsPlayedState","query","4a070b9bfab2e8537a5271e6839bc3ef51501dcac8170b5fb69a98f967c5fb60",null),Ha=3e4;function Ka(e,t=100){const{data:s,loading:a}=(r={uri:e,limit:t},n={staleTime:0,gcTime:18e5},(0,Ga.I)(za,r,n));var r,n;const i=function(e){const t=e?.lookup.at(0);if("PodcastOrAudiobookResponseWrapper"===t?.__typename){if("Audiobook"===t.data.__typename){const e=t.data;return"ContextChapterPage"===e.chaptersV2?.__typename&&e.chaptersV2.items.some((({entity:e})=>"Chapter"===e.data.__typename&&qa(e.data)))}if("Podcast"===t.data.__typename){const e=t.data;return"ContextEpisodePage"===e.episodesV2?.__typename&&e.episodesV2.items.some((({entity:e})=>"Episode"===e.data.__typename&&qa(e.data)))}}return!1}(s);return{hasUserListenedToShow:i,loading:a}}function qa(e){return"COMPLETED"===e.playedState.state||e.playedState.playPositionMilliseconds>=Ha}var Qa=s(24563),Ya=s(93240),Za=s(26591);var $a=s(3554);const Ja="osuFIR_6Jo9yKsmLL4y2",Xa="r1F2okBwH7F8pEGF7MEG",er="H2z72R8YxQVQF8UU_ymH",tr="Pq5dXGGJ3mlXY0HFuhCS",sr="plZRpYfm5PMEiSYLRj8P",ar="B8OPJYenwKO45OLDwLyY",rr="HwHP6Y0kc7ksENQMXJ75",nr="l2w2Hl3YN3bb4TcgyXcb",ir="hWmnoRh1uj8ciMRAgL4f",or="MXT688TwrGLq4tvesXwc",lr="hQIFH0LbkGEHIdsQ20tQ",cr=({uri:e,rating:t,isBook:s,closeRatingModal:r})=>{const[n,i]=(0,a.useState)(t??null),{onSubmitRating:o}=function(e,t){const s=(0,ka.T)(),{enqueueSnackbar:a}=(0,Ya.dh)(),{spec:r,logger:n}=(0,Ke.r)(Za.b,{}),{mutateAsync:i}=(0,Qa.n)({mutationFn:async()=>{t&&await s.updateUserRating(e,t)},onSuccess:()=>{const s=r.submitRatingButtonFactory().hitSubmitRating({rating:t,entityUri:e});n.logInteraction(s),a(c.Ru.get("web-player.show.rating.snackbarSuccess"))},onError:()=>{a(c.Ru.get("web-player.show.rating.snackbarFailure"))}});return{onSubmitRating:i}}(e,n??0),l=null!==n&&n!==t,d=Array.from(Array(5).keys(),(e=>e+1));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:or,children:d.map((e=>(0,R.jsx)(f.H,{"aria-label":s?c.Ru.get("web-player.audiobooks.rating.starAriaLabel",e):c.Ru.get("web-player.show.rating.starAriaLabel",e),className:lr,onClick:()=>i(e),iconOnly:()=>n&&n>=e?(0,R.jsx)(Ua.j,{size:"large",semanticColor:"textBase"}):(0,R.jsx)(Pa.a,{size:"large"})},e)))}),(0,R.jsx)(k.$,{"aria-label":c.Ru.get("web-player.show.rating.submit"),colorSet:"invertedLight",disabled:!l,onClick:()=>{n&&o(),r()},children:c.Ru.get("web-player.show.rating.submit")})]})},dr=({isBook:e,onDismiss:t})=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(o.E,{as:"p",variant:"titleSmall",className:nr,children:e?c.Ru.get("web-player.audiobooks.rating.listenFirstTitle"):c.Ru.get("web-player.show.rating.listenFirstTitle")}),(0,R.jsx)(o.E,{as:"p",className:ir,variant:"bodyMedium",children:e?c.Ru.get("web-player.audiobooks.rating.listenFirstDescription"):c.Ru.get("web-player.show.rating.listenFirstDescription")}),(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:t,children:c.Ru.get("web-player.audiobooks.rating.ok")})]}),ur=({uri:e,isBook:t,rating:s,spec:a,logger:r,closeRatingModal:n})=>{const{hasUserListenedToShow:i,loading:o}=Ka(e);return o?(0,R.jsx)(Wa.m,{}):s?.canRate&&i?(0,R.jsx)(cr,{uri:e,rating:s?.rating?.rating??null,isBook:t,closeRatingModal:n}):(0,R.jsx)(dr,{isBook:t,onDismiss:()=>{r.logInteraction(a.okButtonFactory().hitUiNavigateBack()),n()}})},mr=a.memo((function({uri:e,metadata:t,isOpen:s}){const a=(0,r.wA)(),n=Boolean(t&&(0,Ca.Go)(t)),i=(0,$a.g)(t?.coverArt,{desiredSize:320}),{spec:d,logger:m}=(0,Ke.r)(Ba.e,{data:{identifier:n?Fa.$h.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK:Fa.$h.RATINGS_AND_REVIEWS_RATINGS,uri:e}}),g=t?.rating,p=()=>{a((0,$.Kc)())};return(0,R.jsx)(u.A,{contentLabel:"podcast-rating-modal",isOpen:s,onRequestClose:p,children:(0,R.jsxs)("div",{className:Ja,children:[(0,R.jsxs)("div",{className:er,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleSmall",className:rr,children:n?c.Ru.get("web-player.audiobooks.rating.rateAudiobook"):c.Ru.get("web-player.show.rating.header")}),(0,R.jsxs)("button",{className:tr,onClick:()=>{const e=d.closeButtonFactory().hitUiNavigateBack();m.logInteraction(e),p()},children:[(0,R.jsx)(l.M,{role:"presentation"}),(0,R.jsx)("span",{className:"hidden-visually",children:c.Ru.get("web-player.audiobooks.rating.closeModal")})]})]}),(0,R.jsxs)("div",{className:sr,children:[(0,R.jsx)(w._,{loading:"eager",src:i?.url,className:Xa}),(0,R.jsx)("div",{className:ar,children:(0,R.jsx)(ft.u,{property:vt.skl,renderNewExperience:()=>(0,R.jsx)(ur,{uri:e,rating:g,isBook:n,closeRatingModal:p,spec:d,logger:m}),renderOldExperience:()=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(o.E,{as:"p",variant:"bodyMediumBold",className:nr,children:n?c.Ru.get("web-player.audiobooks.rating.wantToRate"):c.Ru.get("web-player.show.rating.want-to-rate")}),(0,R.jsx)(o.E,{as:"p",className:ir,children:c.Ru.get("web-player.audiobooks.rating.goToApp")}),(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:()=>{const e=d.okButtonFactory().hitUiNavigateBack();m.logInteraction(e),p()},children:c.Ru.get("web-player.audiobooks.rating.ok")})]})})})]})]})})})),gr=()=>{const{uri:e,isOpen:t,metadata:s}=(0,r.d4)((e=>e.ui.showRatingModalState));return e&&s?(0,R.jsx)(mr,{uri:e,metadata:s,isOpen:t}):null};var pr=s(20842),hr=s(39733),br=s(43396),Rr=s(95302),xr=s(70966);const yr={macOS:"https://download.scdn.co/SpotifyInstaller.zip",Windows:"https://download.scdn.co/SpotifySetup.exe"},fr={iOS:"https://app.adjust.com/wp2zrj?adgroup=signup_to_listen&campaign=default&tracker_limit=250000",Android:"https://app.adjust.com/ff0trr?adgroup=signup_to_listen&campaign=default&tracker_limit=250000"},Er="nA6L5ghQWwxyiSLduNyb",vr="CgsDbaLb2DCGHkrw4wiw",kr="qp1xbhJfglEmJAWm6pdy",Cr="fFk09sW_YL0Qsk8lYOfD",jr="BDNNVyxsxgQQvGmij9M1",wr="ChX5nojraEtlxQULfJFk",Nr="XV07akXqG5L_suY2X8ML",Sr="j8qAQ6XAb2YSBUEzUqEV",Or="xZnbvSzpNSY7qnC6X8Rf",_r="FZncbwv9M2sxuY27K8YO",Tr=(0,a.memo)((function(){const e=(0,r.wA)(),t=(0,r.d4)((e=>e.ui.signupToListenDialog.isOpen)),s=(0,br.W)(),n=(0,r.d4)((e=>e.session.userCountry)),i=(0,r.d4)((e=>e.features.isPodcastEnabled)),l=(0,de.W)(),d=(()=>{const e=(0,xr.f)();return Object.keys(yr).includes(e)?yr[e]:Object.keys(fr).includes(e)?fr[e]:"https://spotify.com/download"})(),m=(0,hr.vh)();(0,a.useEffect)((()=>{l({intent:"navigate",type:"view"})}),[l]);const g=(0,a.useCallback)((()=>{const t={category:"in_app_message",action:"click",label:"dismiss",destination_url:"open.spotify.com",os:(0,Ve.f)(),country:n,context:window.location.search},s=(0,pr._)(t);m.send(s),l({intent:"close",type:"click"}),e((0,$.BY)())}),[e,l,m,n]),p=(0,a.useCallback)((()=>{const t={category:"in_app_message",action:"click",label:"download",destination_url:d,os:(0,Ve.f)(),country:n,context:window.location.search},s=(0,pr._)(t);m.send(s),l({intent:"download",type:"click"}),e((0,$.BY)()),window.open(d,"_self")}),[e,l,d,m,n]);return(0,R.jsx)(u.A,{animated:!0,isOpen:t,className:Er,overlayClassName:vr,contentLabel:c.Ru.get("s2l.download_spotify"),onRequestClose:g,children:(0,R.jsxs)("div",{className:kr,children:[(0,R.jsxs)("div",{className:Cr,children:[(0,R.jsx)("div",{className:`${wr}`,children:(0,R.jsx)("img",{className:Nr,alt:"Web Player",src:(0,yt.b)(s?"images/s2l-desktopui-rtl.png":"images/s2l-desktopui-ltr.png")})}),(0,R.jsxs)("div",{className:jr,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleSmall",className:Sr,children:c.Ru.get("s2l.download_spotify")}),(0,R.jsx)(o.E,{as:"p",semanticColor:"textSubdued",className:Or,children:i?c.Ru.get("s2l.play_millions_podcasts"):c.Ru.get("s2l.play_millions")}),(0,R.jsx)(k.$,{onClick:p,children:c.Ru.get("s2l.download")})]})]}),(0,R.jsx)(f.H,{onClick:g,semanticColor:"textBase",className:_r,children:c.Ru.get("s2l.dismiss")})]})})})),Ir=(0,a.memo)((function(){return(0,R.jsx)(Rr.pZ,{value:"signup-to-listen",children:(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(Tr,{})})})}));var Ar=s(51559),Lr=s(67209),Dr=s(63992),Mr=s(75301),Ur=s(31652),Pr=s(38992);function Br(e){switch(e){case"Performers":return c.Ru.get("track-credits.performers");case"Writers":return c.Ru.get("track-credits.writers");case"Producers":return c.Ru.get("track-credits.producers");default:return e}}function Fr(e){switch(e){case"assistant recording engineer":return c.Ru.get("track-credits.assistant-recording-engineer");case"engineer":return c.Ru.get("track-credits.engineer");case"assistant engineer":return c.Ru.get("track-credits.assistant-engineer");case"trumpet":return c.Ru.get("track-credits.trumpet");case"guitar":return c.Ru.get("track-credits.guitar");case"composer and lyricist":return c.Ru.get("track-credits.composer-and-lyricist");case"associated performer":return c.Ru.get("track-credits.associated-performer");case"background vocals":return c.Ru.get("track-credits.background-vocals");case"bass":return c.Ru.get("track-credits.bass");case"co-producer":return c.Ru.get("track-credits.co-producer");case"additional engineer":return c.Ru.get("track-credits.additional-engineer");case"masterer":return c.Ru.get("track-credits.masterer");case"mixer":return c.Ru.get("track-credits.mixer");case"recording engineer":return c.Ru.get("track-credits.recording-engineer");case"accordion":return c.Ru.get("track-credits.accordion");case"piano":return c.Ru.get("track-credits.piano");case"organ":return c.Ru.get("track-credits.organ");case"background vocal":return c.Ru.get("track-credits.background-vocal");case"recorded by":return c.Ru.get("track-credits.recorded-by");case"mixing engineer":return c.Ru.get("track-credits.mixing-engineer");case"editor":return c.Ru.get("track-credits.editor");case"fiddle":return c.Ru.get("track-credits.fiddle");case"additional vocals":return c.Ru.get("track-credits.additional-vocals");case"violin":return c.Ru.get("track-credits.violin");case"viola":return c.Ru.get("track-credits.viola");case"percussion":return c.Ru.get("track-credits.percussion");case"mastering engineer":return c.Ru.get("track-credits.mastering-engineer");case"composer":return c.Ru.get("track-credits.composer");case"additional keyboards":return c.Ru.get("track-credits.additional-keyboards");case"mix engineer":return c.Ru.get("track-credits.mix-engineer");case"mandolin":return c.Ru.get("track-credits.mandolin");case"acoustic guitar":return c.Ru.get("track-credits.acoustic-guitar");case"keyboards":return c.Ru.get("track-credits.keyboards");case"synthesizer":return c.Ru.get("track-credits.synthesizer");case"drum programmer":return c.Ru.get("track-credits.drum-programmer");case"programmer":return c.Ru.get("track-credits.programmer");case"assistant mixer":return c.Ru.get("track-credits.assistant-mixer");case"assistant mixing engineer":return c.Ru.get("track-credits.assistant-mixing-engineer");case"digital editor":return c.Ru.get("track-credits.digital-editor");case"drums":return c.Ru.get("track-credits.drums");case"drum programming":return c.Ru.get("track-credits.drum-programming");case"conga":return c.Ru.get("track-credits.conga");case"samples":return c.Ru.get("track-credits.samples");case"audio recording engineer":return c.Ru.get("track-credits.audio-recording-engineer");case"audio additional mix engineer":return c.Ru.get("track-credits.audio-additional-mix-engineer");case"recording":return c.Ru.get("track-credits.recording");case"assistant producer":return c.Ru.get("track-credits.assistant-producer");case"writer":return c.Ru.get("track-credits.writer");case"strings":return c.Ru.get("track-credits.strings");case"music publisher":return c.Ru.get("track-credits.music-publisher");case"programming":return c.Ru.get("track-credits.programming");case"music production":return c.Ru.get("track-credits.music-production");case"background vocalist":return c.Ru.get("track-credits.background-vocalist");case"producer":return c.Ru.get("track-credits.producer");case"vocal":return c.Ru.get("track-credits.vocal");case"songwriter":return c.Ru.get("track-credits.songwriter");case"lyricist":return c.Ru.get("track-credits.lyricist");case"additional mixer":return c.Ru.get("track-credits.additional-mixer");case"upright bass":return c.Ru.get("track-credits.upright-bass");case"clapping":return c.Ru.get("track-credits.clapping");case"electric bass":return c.Ru.get("track-credits.electric-bass");case"horn arranger":return c.Ru.get("track-credits.horn-arranger");case"flugelhorn":return c.Ru.get("track-credits.flugelhorn");case"second engineer":return c.Ru.get("track-credits.second-engineer");case"rhythm guitar":return c.Ru.get("track-credits.rhythm-guitar");case"bass guitar":return c.Ru.get("track-credits.bass-guitar");case"electric guitar":return c.Ru.get("track-credits.electric-guitar");case"dobro":return c.Ru.get("track-credits.dobro");case"instruments":return c.Ru.get("track-credits.instruments");case"vocal ensemble":return c.Ru.get("track-credits.vocal-ensemble");case"recording arranger":return c.Ru.get("track-credits.recording-arranger");case"arranger":return c.Ru.get("track-credits.arranger");case"steel guitar":return c.Ru.get("track-credits.steel-guitar");case"executive producer":return c.Ru.get("track-credits.executive-producer");case"additional production":return c.Ru.get("track-credits.additional-production");case"designer":return c.Ru.get("track-credits.designer");case"assistant mix engineer":return c.Ru.get("track-credits.assistant-mix-engineer");case"studio musician":return c.Ru.get("track-credits.studio-musician");case"voice performer":return c.Ru.get("track-credits.voice-performer");case"orchestra":return c.Ru.get("track-credits.orchestra");case"chamber ensemble":return c.Ru.get("track-credits.chamber-ensemble");case"additional percussion":return c.Ru.get("track-credits.additional-percussion");case"cajon":return c.Ru.get("track-credits.cajon");case"miscellaneous production":return c.Ru.get("track-credits.miscellaneous-production");case"backing vocals":return c.Ru.get("track-credits.backing-vocals");case"pedal steel":return c.Ru.get("track-credits.pedal-steel");case"additional producer":return c.Ru.get("track-credits.additional-producer");case"keyboard arrangements":return c.Ru.get("track-credits.keyboards-arrangements");case"saxophone":return c.Ru.get("track-credits.saxophone");case"sound engineer":return c.Ru.get("track-credits.sound-engineer");case"assistant remix engineer":return c.Ru.get("track-credits.assistant-remix-engineer");case"double bass":return c.Ru.get("track-credits.double-bass");case"co-writer":return c.Ru.get("track-credits.co-writer");case"pro tools":return c.Ru.get("track-credits.pro-tools");case"tape realization":return c.Ru.get("track-credits.tape-realization");case"ambient sounds":return c.Ru.get("track-credits.ambient-sounds");case"sound effects":return c.Ru.get("track-credits.sound-effects");case"harp":return c.Ru.get("track-credits.harp");case"cymbals":return c.Ru.get("track-credits.cymbals");case"vocal engineer":return c.Ru.get("track-credits.vocal-engineer");case"mellotron":return c.Ru.get("track-credits.mellotron");case"recorder":return c.Ru.get("track-credits.recorder");case"main artist":return c.Ru.get("track-credits.main-artist");case"production":return c.Ru.get("track-credits.production");case"artist":return c.Ru.get("track-credits.artist");case"vocals":return c.Ru.get("track-credits.vocals");case"featuring":return c.Ru.get("track-credits.featuring");case"featured artist":return c.Ru.get("track-credits.featured-artist");case"work arranger":return c.Ru.get("track-credits.work-arranger");case"mixing engineers":return c.Ru.get("track-credits.mixing-engineers");case"re-mixer":return c.Ru.get("track-credits.re-mixer");case"recording producer":return c.Ru.get("track-credits.recording-producer");case"co-mixer":return c.Ru.get("track-credits.co-mixer");case"bells":return c.Ru.get("track-credits.bells");case"pro tools editing":return c.Ru.get("track-credits.pro-tools-editing");case"vibraphone":return c.Ru.get("track-credits.vibraphone");case"additional recording":return c.Ru.get("track-credits.additional-recording");case"vocal producer":return c.Ru.get("track-credits.vocal-producer");case"sitar":return c.Ru.get("track-credits.sitar");case"cello":return c.Ru.get("track-credits.cello");case"flute":return c.Ru.get("track-credits.flute");case"horn":return c.Ru.get("track-credits.horn");case"brass band":return c.Ru.get("track-credits.brass-band");case"programming and keyboards":return c.Ru.get("track-credits.programming-and-keyboards");case"all instruments":return c.Ru.get("track-credits.all-instruments");case"programmed and arranged by":return c.Ru.get("track-credits.programmed-and-arranged-by");case"additional programmer":return c.Ru.get("track-credits.additional-programmer");case"recording and mixing":return c.Ru.get("track-credits.recording-and-mixing");case"engineer and mixer":return c.Ru.get("track-credits.engineer-and-mixer");case"vocal arranger":return c.Ru.get("track-credits.vocal-arranger");case"income participant":return c.Ru.get("track-credits.income-participant");default:return e}}var Wr=s(38481);const Vr=(e,t)=>e.build().withHost(Wr.i6).withPath(`/v0/experimental/${t}/credits`).withoutMarket().withEndpointIdentifier("/v0/experimental/{trackId}/credits").send();var Gr=s(79973);const zr="main-trackCreditsModal-container",Hr="main-trackCreditsModal-header",Kr="main-trackCreditsModal-closeBtn",qr="main-trackCreditsModal-mainSection",Qr="main-trackCreditsModal-originalCredits",Yr="main-trackCreditsModal-sectionTitle",Zr="main-trackCreditsModal-creditsGroup",$r="main-trackCreditsModal-creditsEntry",Jr="main-trackCreditsModal-clickableCreditsEntry",Xr="main-trackCreditsModal-sourceNames",en="main-trackCreditsModal-additionalCredits",tn=(0,a.memo)((function(){const e=(0,r.wA)(),{isOpen:t,trackUri:s}=(0,r.d4)((e=>e.ui.trackCreditsModal)),n=s.split(":"),i=n[n.length-1],{data:l,error:d,loading:m}=(0,Gr.Z)(Vr,[i]),g=(0,a.useCallback)((()=>{e((0,$.P0)(!1,""))}),[e]),p=(0,hr.vh)(),{isAnonymous:h}=(0,r.d4)(X.Ht),{spec:b,logger:x}=(0,Ke.r)(Pr.i,{data:{uri:s}});return(0,R.jsx)(u.A,{contentLabel:c.Ru.get("track-credits.label"),isOpen:t,onRequestClose:g,children:!m&&!d&&l&&(0,R.jsxs)("div",{className:zr,children:[(0,R.jsxs)("div",{className:Hr,children:[(0,R.jsx)(o.E,{as:"h1",variant:"titleMedium",children:c.Ru.get("track-credits.label")}),(0,R.jsx)("button",{"aria-label":c.Ru.get("close"),className:Kr,onClick:g,children:(0,R.jsx)(Qe.A,{width:18,height:18,fill:"white"})})]}),(0,R.jsxs)("div",{className:qr,onScroll:h?()=>p.send((0,Ur.s)({track_uri:s})):()=>p.send((0,Mr.h)({track_uri:s})),children:[(0,R.jsxs)("div",{className:Qr,children:[(0,R.jsx)(o.E,{as:"h2",className:Yr,variant:"bodyMediumBold",children:l.body.trackTitle}),l.body.roleCredits.map(((e,t)=>{const a=b.creditSectionFactory({position:t});return(0,R.jsxs)("div",{className:Zr,children:[(0,R.jsx)(o.E,{as:"p",variant:"bodySmallBold",children:Br(e.roleTitle)}),e.artists.length>0?e.artists.map((({name:t,uri:r,externalUrl:n})=>n?(0,R.jsx)("a",{href:n,draggable:!1,rel:"noopener noreferrer",onClick:()=>{const i=a.artistNameFactory({uri:r??""}).hitNavigateToExternalUri({destination:n});x.logInteraction(i),h?p.send((0,Dr._)({track_uri:s,clickable_text:t,role:e.roleTitle,external_url:n})):p.send((0,Lr.d)({track_uri:s,clickable_text:t,role:e.roleTitle,external_url:n}))},target:"_blank",className:Jr,children:t},t):(0,R.jsx)(o.E,{className:$r,variant:"bodySmall",semanticColor:"textSubdued",children:t},t))):"-"]},e.roleTitle)})),(0,R.jsxs)(o.E,{as:"p",variant:"bodySmall",children:[c.Ru.get("track-credits.source"),":"," ",l.body.sourceNames.join(c.Ru.getSeparator())]})]}),l.body.extendedCredits&&l.body.extendedCredits.length>0&&(0,R.jsxs)("div",{className:en,children:[(0,R.jsx)(o.E,{as:"h3",className:Yr,variant:"bodyMediumBold",children:c.Ru.get("track-credits.additional-credits")}),l.body.extendedCredits.map((e=>(0,R.jsxs)("div",{className:Zr,children:[(0,R.jsx)(o.E,{as:"p",variant:"bodySmallBold",children:Fr(e.roleTitle.toLowerCase())}),e.artists.map((t=>(0,R.jsx)("a",{href:t.url,draggable:!1,rel:"noopener noreferrer",onClick:()=>{h||p.send((0,Ar.L)({track_uri:s,clickable_text:t.name,role:e.roleTitle,external_url:t.url}))},target:"_blank",className:Jr,children:t.name},t.name)))]},e.roleTitle))),(0,R.jsxs)(o.E,{as:"p",variant:"bodySmall",className:Xr,semanticColor:"textSubdued",children:[c.Ru.get("track-credits.source"),":"," ",(0,R.jsx)("a",{draggable:!1,rel:"noopener noreferrer",target:"_blank",href:"https://soundbetter.com",children:"SoundBetter"})]})]})]})]})})}));var sn=s(55569),an=s.n(sn),rn=s(45172);function nn(){const e=document.createElement("canvas"),t=e.getContext("2d");return t&&(function(e){e.beginPath(),e.fillStyle="rgb(0, 200, 255)",e.arc(50,50,50,0,2*Math.PI,!0),e.fill(),e.stroke(),e.closePath()}(t),function(e){e.textBaseline="top",e.font="13pt Arial",e.textBaseline="alphabetic",e.fillStyle="rgb(255, 5, 5)",e.rotate(.8),e.fillText("random#$%^@£éú",4,17),e.fillStyle="rgb(165,205,5)",e.shadowBlur=8,e.shadowColor="green",e.fillRect(20,12,105,5)}(t)),e}const on=()=>{const e=(0,hr.vh)();return(0,a.useEffect)((()=>{const t=nn().toDataURL("image/png"),s=an()(t);e.send((0,rn.u)({h:s}))}),[e]),null},ln=()=>{const e=(0,a.useRef)(!1);return!(0,n.NC)(vt.x_7)||e.current?null:(e.current=!0,(0,R.jsx)(on,{}))};var cn=s(25639),dn=s(56413),un=s(20959),mn=s(36885),gn=s(40312),pn=s(23003),hn=s(52276);var bn=s(72814),Rn=s(19936);let xn=null;const yn=()=>{const{verificationId:e,refetch:t}=(()=>{const[e,t]=(0,a.useState)(null),s=(0,hr.vh)(),{isTrustedRef:r,isTrustedFn:n}=(0,mn.d)(),{data:i,refetch:o,error:l}=(0,cn.I)({enabled:!1,queryKey:["fetchVerification"],queryFn:async()=>{const e=gn.n.getInstance(),{body:t}=await(0,pn.Q)(e);return t}});return(0,a.useEffect)((()=>{i&&i.length>0&&(async()=>{await n();const e=i?.[0].id;t(e),s.send((0,dn.n)({id:e,method:"IN_APP_VERIFICATION_V0",is_trusted:r.current}))})(),l&&s.send((0,un.D)({method:"IN_APP_VERIFICATION_V0",error_message:l instanceof hn.O?l.name:null,http_method:"get",http_path:"/verifications"}))}),[i,l,s,n,r]),{verificationId:e,refetch:o}})();return(0,Rn.p)(bn.gd.UPDATE,(s=>{if(e)return;const a="number"==typeof s?.data?.positionAsOfTimestamp&&s.data.positionAsOfTimestamp>=0&&s.data.positionAsOfTimestamp<=1e3;!s?.data?.isPaused&&a&&function(){const e=performance.now();if(xn&&e-xn<6e5)return!1;return xn=e,!0}()&&t()})),e},fn=(0,a.lazy)((()=>Promise.all([s.e(4151),s.e(4374)]).then(s.bind(s,24374)))),En=()=>{const e=(0,n.NC)(vt.IqJ),[t,s]=(0,a.useState)(!1),r=yn();return(0,a.useEffect)((()=>{s(!!r)}),[r]),e&&t?(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(fn,{verificationId:`${r}`})}):null};var vn=s(9399),kn=s(14403),Cn=s(33889);const jn=()=>{const e=(0,r.wA)(),t=(0,Cn.D)(),{activeDevice:s}=(0,kn.v)((e=>({activeDevice:e.activeDevice}))),{spec:n,logger:i}=(0,Ke.r)(vn.h,{}),{onConfirm:o,onCancel:l}=(0,r.d4)((e=>e.ui.videoNotSupportedModal)),c=(0,a.useCallback)((()=>{i.logInteraction(n.cancelButtonFactory().hitUiHide()),e(Ht.ug.actions.close()),l?.()}),[e,i,l,n]),d=(0,a.useCallback)((async()=>{const{interactionId:a}=i.logInteraction(n.confirmButtonFactory().hitDisconnectFromRemoteDevice({remoteDeviceId:s?.connectStateId??""}));e(Ht.ug.actions.close()),await t.pullToLocalDevice({interactionId:a}),o()}),[t,s?.connectStateId,e,i,o,n]),u="Play video on desktop?";return(0,R.jsx)(ce.T,{isOpen:!0,onConfirm:d,onClose:c,titleText:u,"aria-label":u,descriptionText:"The device you’re listening on is audio only. Switch back to desktop to play this video.",cancelText:"Cancel",confirmText:"Switch device"})};var wn=s(8261);class Nn extends a.PureComponent{handleRequestClose(){this.props.closeModal()}render(){const{isOpen:e,closeModal:t}=this.props;return(0,R.jsx)(wn.x,{animated:!0,headingMessage:c.Ru.get("offline-error.device-limit-reached.header"),message:c.Ru.get("offline-error.device-limit-reached.message"),buttonLabel:c.Ru.get("close"),isOpen:e,onDismissDialog:t})}}const Sn=(0,r.Ng)((e=>({isOpen:e.ui.offlineDeviceLimitReachedDialog.isOpen})),(e=>({closeModal:()=>e((0,$.kC)())})))(Nn);class On extends a.PureComponent{constructor(e){super(e),this.handleRequestClose=this.handleRequestClose.bind(this),this.browserName=$e().getParser(window.navigator.userAgent).getBrowserName()}handleRequestClose(){this.props.closeModal()}render(){const{isOpen:e,closeModal:t}=this.props;return(0,R.jsx)(wn.x,{headingMessage:c.Ru.get("fatal-error.header"),onDismissDialog:t,buttonLabel:c.Ru.get("close"),message:c.Ru.get("browser_upgrade_notice",this.browserName),isOpen:e})}}const _n=(0,r.Ng)((e=>({isOpen:e.ui.playbackNotSupportedErrorDialog.isOpen})),(e=>({closeModal:()=>e((0,$.e$)())})))(On),Tn="CMgJZD0JMx_Yz1tlE7hd";var In=s(42116),An=s(74888),Ln=s(49217),Dn=s(31322),Mn=s(20167),Un=function(e){return e[e.SIGNUP=0]="SIGNUP",e[e.LOGIN=1]="LOGIN",e[e.DOWNLOAD=2]="DOWNLOAD",e}(Un||{});const Pn=(0,a.memo)((function({image:e,mediaType:t,backgroundColor:s,onSignupClick:a,onLoginClick:r,onDownloadClick:n,downloadLink:i}){const o=e=>t=>{switch(t.preventDefault(),e){case Un.DOWNLOAD:n&&n(),window.open(i,"_top","noopener");break;case Un.SIGNUP:a&&a(),(0,An.ie)();break;case Un.LOGIN:r&&r(),(0,An.PW)()}},l=(0,Mn.g)(),d="audio"===t?c.Ru.get("fta.wall.start-listening"):c.Ru.get("fta.wall.start-watching"),u=(0,R.jsx)(k.$,{onClick:o(Un.SIGNUP),children:c.Ru.get("mwp.cta.sign.up.free")}),m=!l&&i?(0,R.jsx)(Ln.n,{"data-testid":"upsell-download-app-button",onClick:o(Un.DOWNLOAD),children:c.Ru.get("mwp.cta.download.app")}):void 0,g=(0,In.y)();return(0,R.jsx)(P,{image:e,title:d,primaryButton:u,secondaryButton:m,size:g,style:s?{backgroundColor:s}:{},renderExtraInfo:()=>(0,R.jsxs)("p",{className:Tn,onKeyDown:()=>o(Un.LOGIN),role:"presentation",children:[(0,R.jsx)(Dn.Z,{as:"span",variant:"mesto",children:c.Ru.get("already_have_account")}),(0,R.jsx)(Dn.Z,{as:"a",href:"#",onClick:o(Un.LOGIN),children:c.Ru.get("login")})]})})}));var Bn=s(86945),Fn=s(21451);const Wn="anllJYN1jeYGGE1iAJUJ",Vn="YQRQdqiQ_iT0eo0owsJL",Gn="ftlV6Ixmq4wkKMg7hJ1v",zn={[M.E.SMALL]:0,[M.E.MEDIUM]:600,[M.E.LARGE]:1024},Hn=()=>{const e=(0,Fn.mb)();return e.searchParams.set("referrer","dwp"),e},Kn=({image:e,mediaType:t,backgroundColor:s,onClose:r})=>{const n=(0,de.W)(),i=e=>()=>{n({intent:e,type:"click"})},{ref:o,breakpoint:l}=(0,Bn.x)(zn);return(0,a.useEffect)((()=>{const e=e=>{"Escape"===e.key&&(r(),n({intent:"close-upsell",type:"key-escape"}))};return n({intent:"open-upsell",type:"impression"}),window.addEventListener("keyup",e,!1),()=>window.removeEventListener("keyup",e)}),[n,r]),(0,R.jsx)(In.o.Provider,{value:l,children:(0,R.jsx)("div",{className:`dialog ${Gn}`,role:"presentation",ref:o,onClick:e=>{/dialog/.test(e.target.className)&&(n({intent:"close-upsell",type:"click",itemIdSuffix:"backdrop"}),r())},children:(0,R.jsxs)("div",{className:Wn,style:{backgroundColor:s},children:[(0,R.jsx)(Pn,{image:e,mediaType:t,onDownloadClick:i("download-app"),onLoginClick:i("login"),onSignupClick:i("signup"),downloadLink:Hn().toString()}),(0,R.jsx)("div",{className:Vn,children:(0,R.jsx)(f.H,{onClick:()=>{n({intent:"close-upsell",type:"click",itemIdSuffix:"close-button"}),r()},children:c.Ru.get("close")})})]})})})};var qn=s(60833);const Qn=a.memo((function({uri:e}){const t=(0,r.wA)(),s=(0,yt.b)("images/focused_stroy_play.png"),[a,n]=(0,qn.h)(e,"#9BF0E1",s);return(0,R.jsx)(Rr.pZ,{value:"signup-modal",children:(0,R.jsx)(Kn,{image:a,mediaType:(0,le.WB)(e??"")?"mixed":"audio",onClose:()=>{t((0,$.BU)())},backgroundColor:n})})}));var Yn=s(51340),Zn=s(19617);const $n=()=>{const e=(0,r.wA)(),{data:t}=(0,r.d4)((e=>e.ui.artistAboutDialog));if(!t)return null;const{artist:s,artistUri:a,visuals:n,stats:i,externalLinks:o}=t,{gallery:l}=n,{monthlyListeners:c,worldRank:d,followers:u,topCities:m}=i,g=[];return l.items.forEach((e=>{const t=e.sources.map(Zn.m),s=(0,$a.g)(t,{desiredLabel:"large",desiredSize:600});s&&g.push(s)})),(0,R.jsx)(Yn.y,{artistUri:a,name:s.name,bio:s.biography?.text,bioSource:s.biography?.type,worldRank:d||0,isOpen:!0,closeModal:()=>{e((0,$.lM)())},images:g,externalLinks:o,topCities:m?.items,followers:u,monthlyListeners:c})};var Jn=s(88482),Xn=s(63426),ei=s(24172);function ti({children:e,ctaUrl:t,spec:s}){const n=(0,r.wA)(),i=(0,Kt.s)(),o=(0,a.useCallback)((()=>{n((0,$.us)()),i.logInteraction(s.consumptionCapModalFactory().topUpButtonFactory().hitUiHide())}),[n,i,s]),l=(0,a.useCallback)((()=>{i.logInteraction(s.consumptionCapModalFactory().topUpButtonFactory().hitNavigateToExternalUri({destination:t}))}),[t,i,s]);return t?(0,R.jsx)(k.$,{as:"a",href:t,target:"_blank",colorSet:"invertedLight",iconTrailing:ei.p,onClick:l,children:e}):(0,R.jsx)(k.$,{colorSet:"invertedLight",onClick:o,children:e})}function si({children:e,onClick:t}){return e?(0,R.jsx)(f.H,{onClick:t,semanticColor:"textSubdued",children:e}):null}var ai=s(10590);const ri="NxTiDyoRCvpiMZga0txl",ni="uEd5tll92zN6mh4YiQ6E",ii="YQEvA2GajE9nCaNVxwuq",oi="F12mp8xs0gc5ri9361Ap",li=()=>{const e=(0,r.wA)(),{spec:t,logger:s}=(0,Ke.r)(Xn.M,{}),{consumptionCapExplanation:n,isOpen:i}=(0,r.d4)((e=>e.ui.bookConsumptionCapModal)),l=(0,a.useCallback)((()=>{e((0,$.us)()),s.logInteraction(t.consumptionCapModalFactory().dismissButtonFactory().hitUiHide())}),[e,s,t]),c=(0,a.useCallback)((({data:t})=>{t.consumptionCapExplanation?e((0,$._3)(t.consumptionCapExplanation)):e((0,$.us)())}),[e]);return(0,ai.V)({callback:c}),(0,R.jsx)(u.A,{animated:!0,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,onRequestClose:l,contentLabel:n.title,isOpen:i,children:(0,R.jsxs)("div",{className:ri,children:[(0,R.jsx)(Jn._,{className:ni,src:(0,yt.b)("images/top-up.png"),alt:"",imageWidth:"200px",imageHeight:"196px"}),(0,R.jsxs)("div",{className:ii,children:[(0,R.jsx)(o.E,{as:"h2",variant:"titleMedium",semanticColor:"textBase",children:n.title}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:n.body}),(0,R.jsxs)("div",{className:oi,children:[(0,R.jsx)(ti,{ctaUrl:n.ctaUrl,spec:t,children:n.cta}),(0,R.jsx)(si,{onClick:l,children:n.dismiss})]})]})]})})};var ci=s(8143),di=s(94939),ui=s(60656);const mi=(0,a.lazy)((async()=>{const{DebugWindowContents:e}=await Promise.all([s.e(4151),s.e(3155),s.e(983)]).then(s.bind(s,12163));return{default:e}})),gi=()=>{const{handle:e,show:t}=(0,di.j)();return(0,Be.x)(Pe.W.SHOW_DEBUG_WINDOW,(()=>{t()})),null!==e?(0,ci.createPortal)((0,R.jsx)(ui.IF,{handle:e,children:(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(mi,{})})}),e.document.body):null};var pi=s(27924);const hi=({uri:e,onConfirm:t,onCancel:s,remoteDeviceInfo:n})=>{const i=(0,Kt.s)(),o=(0,a.useMemo)((()=>(0,pi.c)()),[]);(0,a.useEffect)((()=>{i.logImpression(o.impression())}),[i,o]);const l=(0,r.wA)();return(0,R.jsx)(ce.T,{"aria-label":c.Ru.get("web-player.download.remove-download-confirmation-dialog.title"),titleText:c.Ru.get("web-player.download.remove-download-confirmation-dialog.title"),descriptionText:n?c.Ru.get("web-player.download.remove-download-confirmation-dialog.message-remote",n.deviceName):c.Ru.get("web-player.download.remove-download-confirmation-dialog.message"),onConfirm:()=>{t(),l((0,$.Kf)()),i.logInteraction(n?o.confirmRemoveDownloadButtonFactory().hitRemoveDownloadFromRemoteDevice({itemToRemoveFromDownloads:e,remoteDeviceId:n.deviceId,remoteDeviceType:n.deviceType.toString(),remoteClientPlatform:n.clientPlatform.toString()}):o.confirmRemoveDownloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:e}))},onClose:()=>{s(),l((0,$.Kf)()),i.logInteraction(o.cancelButtonFactory().hitUiHide())},confirmText:c.Ru.get("web-player.download.remove-download-confirmation-dialog.confirm-button-text"),confirmLabel:c.Ru.get("web-player.download.remove-download-confirmation-dialog.confirm-button-label"),cancelText:c.Ru.get("web-player.download.remove-download-confirmation-dialog.cancel-button-text"),allowHTML:!0})};var bi=s(13961),Ri=s(72119),xi=s(88952),yi=s(45518),fi=s(85072),Ei=s(71588),vi=s(91584),ki=s(59996),Ci=s(3869),ji=s(96554),wi=s(99262),Ni=s(64133);const Si=({onChangePermission:e,onRemoveMember:t,onLeave:s,member:a,capabilities:r})=>(0,R.jsxs)(cs.W,{children:[r.canAdministratePermissions&&"VIEWER"===a.permissionLevel&&(0,R.jsx)(ds.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>e("CONTRIBUTOR"),leadingIcon:(0,R.jsx)(wi.u,{size:"small"}),children:(0,R.jsx)(o.E,{variant:"bodySmall",children:c.Ru.get("contextmenu.make-collaborator")})}),r.canAdministratePermissions&&"CONTRIBUTOR"===a.permissionLevel&&(0,R.jsx)(ds.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>e("VIEWER"),leadingIcon:(0,R.jsx)(wi.u,{size:"small"}),children:(0,R.jsx)(o.E,{variant:"bodySmall",children:c.Ru.get("contextmenu.make-listener")})}),r.canAdministratePermissions&&(0,R.jsx)(ds.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>t(),leadingIcon:(0,R.jsx)(Ni.r,{size:"small"}),children:(0,R.jsx)(o.E,{variant:"bodySmall",children:c.Ru.get("contextmenu.remove-user-from-playlist")})}),r.canCancelMembership&&(0,R.jsx)(ds.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>s(),leadingIcon:(0,R.jsx)(Ni.r,{size:"small"}),children:(0,R.jsx)(o.E,{variant:"bodySmall",children:c.Ru.get("contextmenu.leave-playlist")})})]});var Oi=s(45418);const _i="uv2sbcK86mvObEP6I6hA",Ti="biDFn_kFEWlTdVmGaI4c",Ii="EW1t5mbo9hvxGC_ptS6k",Ai="qEJiFwRQbUiOdb9xXQIa",Li="SexldtxY9c9V6RANcuod",Di="zW45u2gfu8HHBqbm745Z",Mi="vxjT7DTxVfyAxy3WcErT",Ui="llgv1BhpY3BwLUvcQ3Hx",Pi="aCyb8gmETLFf6lQmJs2v",Bi="ZKrl2b1JEsPzkUo5X9hG",Fi="gaPaX1jusmGCAKSG5L7N",Wi="Nhe2Q_5EbptALoVW3V4K",Vi="s9rTnCluVsYXlqj5OdMg",Gi="FJrwM8ylEu9MfQEclH24",zi="olUpKnRVm_c2P5yQwddx",Hi=({uri:e,member:t,capabilities:s,isCurrentUser:n})=>{const i=(0,r.wA)(),[l,d]=(0,a.useState)(!1),{changeMemberPermission:u,removeMember:m}=(e=>{const t=(0,Oi.a)(),s=(0,a.useCallback)((async(s,a)=>{await t.setMemberPermission(e,s,a)}),[t,e]),r=(0,a.useCallback)((async s=>{await t.removeMember(e,s)}),[t,e]),n=(0,a.useCallback)((async s=>{await t.setBasePermission(e,s)}),[t,e]);return{uri:e,changeMemberPermission:s,removeMember:r,changeBasePermission:n}})(e),g=(0,a.useCallback)((e=>{t.user&&(u(t.user.username,e),d(!0))}),[u,t.user]),p=(0,a.useCallback)((()=>{t.user&&(m(t.user.username),d(!0))}),[t.user,m]),h=(0,a.useCallback)((()=>{i((0,$.aP)(e))}),[i,e]),b=!t.isOwner&&(s?.canAdministratePermissions||s?.canCancelMembership&&n);let x="CONTRIBUTOR"===t.permissionLevel?c.Ru.get("permissions.collaborator"):c.Ru.get("permissions.listener");return t.isOwner&&(x=c.Ru.get("permissions.creator")),b&&s?(0,R.jsx)(ls.b,{renderInline:!0,menu:(0,R.jsx)(Si,{onChangePermission:g,onRemoveMember:p,onLeave:h,capabilities:s,member:t}),children:(e,t,s)=>(0,R.jsxs)("button",{className:v()(Vi,Gi,{[zi]:l}),onClick:t,ref:s,type:"button","data-testid":"permissions-menu",children:[(0,R.jsx)(o.E,{variant:"bodySmall",children:x}),e?(0,R.jsx)(Ci.J,{size:"small"}):(0,R.jsx)(ji.y,{size:"small"})]})}):(0,R.jsx)(o.E,{variant:"bodySmall",className:Vi,children:x})},Ki=({member:e,playlistUri:t,username:s,capabilities:a,onClose:r})=>{if(!e.user)return null;const n=s===e.user.username,i=n&&e.user.displayName?c.Ru.get("permissions.current-user-name",e.user.displayName):e.user.displayName;return(0,R.jsxs)("div",{className:Ui,children:[(0,R.jsxs)("div",{className:Pi,children:[(0,R.jsx)(fi.e,{label:e.user.displayName,images:e.user.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:32,userIconSize:"small"}),(0,R.jsxs)("div",{className:Bi,children:[(0,R.jsx)(Ei.h,{menu:(0,R.jsx)(vi.B,{uri:e.user.uri}),children:(0,R.jsx)(ki.N,{title:i??e.user.username,to:e.user.uri,dir:"auto",onClick:r,children:(0,R.jsx)(o.E,{variant:"bodySmallBold",children:i})})}),e.songsAdded>0&&(0,R.jsx)(o.E,{className:Fi,variant:"marginal",children:c.Ru.get("permissions.songs-added",e.songsAdded)})]})]}),(0,R.jsx)(Hi,{uri:t,member:e,capabilities:a,isCurrentUser:n})]},e.user.uri)};const qi=({isPublicPlaylist:e})=>(0,R.jsx)("div",{className:Li,children:e?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Ri.d,{size:"small"}),(0,R.jsx)(o.E,{className:Di,variant:"marginal",children:c.Ru.get("permissions.public-playlist")})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(xi.u,{size:"small"}),(0,R.jsx)(o.E,{className:Di,variant:"marginal",children:c.Ru.get("permissions.private-playlist")})]})}),Qi=({isOpen:e,uri:t,onClose:s})=>{const n=function(e){const t=(0,Oi.a)(),[s,r]=(0,a.useState)(null),n=(0,a.useCallback)(((e,t)=>{r(e||!t?null:t)}),[]);return(0,a.useEffect)((()=>t.subscribeToMembers(e,n)),[t,e,n]),s}(t),i=(0,r.d4)((({session:e})=>e?.user?.id))||null;return n?(0,R.jsx)(u.A,{isOpen:e,onRequestClose:s,contentLabel:c.Ru.get("permissions.modal-label"),children:(0,R.jsxs)("div",{"data-testid":"playlist-permissions-modal",className:_i,children:[(0,R.jsxs)("div",{className:Ti,children:[(0,R.jsxs)("div",{className:Ii,children:[(0,R.jsx)(qi,{isPublicPlaylist:(d=n.basePermissionLevel,"VIEWER"===d||"CONTRIBUTOR"===d)}),(0,R.jsx)("button",{className:Mi,onClick:s,children:(0,R.jsx)(l.M,{size:"small","aria-label":c.Ru.get("close")})})]}),(0,R.jsx)(o.E,{as:"h1",variant:"titleMedium",children:c.Ru.get("permissions.shared-with")})]}),(0,R.jsx)(yi.a,{className:Wi,children:(0,R.jsx)("div",{className:Ai,children:(0,R.jsx)("div",{children:n.members&&n.members.map((e=>(0,R.jsx)(Ki,{playlistUri:t,member:e,username:i,capabilities:n.capabilities,onClose:s},e.user?.username)))})})})]})}):null;var d};var Yi=s(90392);const Zi=()=>{const e=(0,n.NC)(vt.G6N),{isOpen:t,uri:s}=(0,a.useContext)(Yi.cM),r=(0,a.useContext)(Yi.VV),i=(0,a.useCallback)((()=>{r({type:"close"})}),[r]);return e&&t&&s?(0,R.jsx)(Qi,{isOpen:t,onClose:i,uri:s}):null};var $i=s(61407);const Ji="search-modal-listbox";var Xi=s(62412);const eo="search-modal-searchBar",to="search-modal-searchIcon",so="search-modal-input",ao=(0,a.memo)((function(e){const{value:t,onChange:s,onKeyPress:a,hasResults:r,activeResultId:n}=e;return(0,R.jsxs)("div",{className:eo,children:[(0,R.jsx)(Xi.C,{className:to,"aria-hidden":!0}),(0,R.jsx)(o.E,{as:"input",variant:"bodyMedium",className:so,value:t,onKeyDown:a,onChange:s,placeholder:c.Ru.get("web-player.search-modal.placeholder"),autoFocus:!0,role:"combobox","aria-expanded":r,"aria-controls":Ji,"aria-owns":Ji,"aria-activedescendant":n})]})})),ro={SearchModalInstructions:"search-modal-keyboard-accessibility-bar",hidden:"KOpaRxg8Q8z9XEMKrRp4",key:"c4hmXDjs2Dv8n3VCLz1g"},no=({canOpen:e,canPlay:t,canSelect:s})=>e||t||s?(0,R.jsxs)("div",{className:ro.SearchModalInstructions,children:[(0,R.jsx)(uo,{isActive:s,children:(0,R.jsx)(io,{})}),(0,R.jsx)(uo,{isActive:e,children:(0,R.jsx)(oo,{})}),(0,R.jsx)(uo,{isActive:t,children:(0,R.jsx)(lo,{})})]}):null;function io(){return c.Ru.get("web-player.search-modal.instructions.navigate",{keys:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(co,{children:"↑"}),(0,R.jsx)(co,{children:"↓"})]})})}function oo(){return c.Ru.get("web-player.search-modal.instructions.open",{keys:(0,R.jsx)(co,{children:"Enter"})})}function lo(){return c.Ru.get("web-player.search-modal.instructions.play",{keys:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(co,{children:"Shift"}),(0,R.jsx)(co,{children:"Enter"})]})})}function co({children:e}){return(0,R.jsx)(o.E,{as:"kbd",variant:"bodySmall",className:ro.key,semanticColor:"textBase",children:e})}function uo({children:e,isActive:t}){return(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",className:v()({[ro.hidden]:!t}),children:e})}const mo=new Va.l("searchModalResults","query","34f48bca447d3420a9310ea259bfd4b89d2f7a3608c461d5c121d6232379fb22",null);var go=s(36485);const po=(0,a.memo)((function(e){const{query:t,onResults:s,numberOfResults:r}=e,n=(0,la.n)(),{data:i,error:o,loading:l}=(c={limit:r,numberOfTopResults:r,offset:0,searchTerm:t,includeAudiobooks:!0},d={gcTime:18e5,staleTime:3e5,enabled:t.trim().length>0&&n},(0,Ga.I)(mo,c,d));var c,d;return(0,a.useEffect)((()=>{const e=i?.searchV2?.topResultsV2?.itemsV2??[],a=[];for(let t=0;t<e.length;t++){const{item:s,matchedFields:r}=e[t];if("UnknownTypeWrapper"!==s.__typename&&"PreReleaseResponseWrapper"!==s.__typename&&s.data)switch(s.data.__typename){case"Genre":a.push({...s.data,uri:ho(s.data.uri),matchedFields:r});break;case"Album":case"Artist":case"Track":case"Playlist":case"User":case"Episode":case"Podcast":case"Audiobook":a.push({...s.data,matchedFields:r});break;case"NotFound":case"RestrictedContent":case"GenericError":break;default:(0,go.k)(s.data)}}s({query:t,error:!!o,loading:l,results:a})}),[i,o,l,s,t]),null}));function ho(e){return(0,le.o_)(e)?e:`spotify:genre:${e}`}var bo=s(88778),Ro=s(17202),xo=s(71072),yo=s(58345),fo=s(98582),Eo=s(40440),vo=s(38916),ko=s(48100),Co=s(2977);const jo="XUU9nKfSDuNkadzFz_OQ",wo=({children:e})=>(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",className:jo,children:e}),No=e=>`search-modal-result-${e}`;var So=s(85993);const Oo="search-modal-resultItem",_o="mvQT8XMnLMFMikaUfHqO",To="hEPIW_7QH4X3m4QrRPsP",Io="bFrnKMII6LDDL6NbaYnZ",Ao="dJtLqNpbjiE4oggCyFSQ",Lo="mx8mS84MYJW_9iHyXNJu",Do=e=>{const{position:t,uri:s,title:r,image:n,color:i,subtitle:l,isSelected:c,onClick:d,tag:u,label:m,menu:g}=e,p=(0,a.useRef)(null);(0,a.useEffect)((()=>{c&&p.current?.scrollIntoView({behavior:"auto",block:"nearest"})}),[c]);const{isActive:h}=(0,So.l_)(s),b=(0,a.useCallback)((()=>{d({uri:s,position:t})}),[d,t,s]),x={"--position":t};return(0,R.jsx)(Ei.h,{menu:g,children:(0,R.jsxs)(ki.N,{ref:p,to:s,className:v()(Oo,{[_o]:c}),role:"option","aria-selected":c,onClick:b,id:No(s),style:x,tabIndex:-1,children:[(0,R.jsx)("span",{className:"hidden-visually",children:m}),(0,R.jsx)("div",{className:Io,"aria-hidden":!0,children:(0,R.jsx)(Co.M,{images:[{url:n,width:40,height:40}],color:i,isCircular:(0,le.ec)(s)})}),(0,R.jsxs)("div",{className:Ao,"aria-hidden":!0,children:[(0,R.jsx)(o.E,{as:"p",variant:"bodyMedium",className:To,semanticColor:h?"textBrightAccent":"textBase",children:r}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",className:To,semanticColor:"textSubdued",children:l})]}),(0,R.jsx)("div",{className:Lo,"aria-hidden":!0,children:(0,R.jsx)(wo,{children:u})})]})})};var Mo=s(52471),Uo=s(79787);const Po=e=>{const{results:t,onClick:s,selectedIndex:r}=e;return(0,R.jsx)(R.Fragment,{children:t.map(((e,t)=>(0,R.jsx)(a.Fragment,{children:Bo(e,t,s,r===t)},t)))})};function Bo(e,t,s,a){switch(e.__typename){case"Album":{const r=e.artists.items.map((e=>e.profile.name)).join(c.Ru.getSeparator());return(0,R.jsx)(Do,{isSelected:a,position:t,onClick:s,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,Mo.m)(e.coverArt?.extractedColors),subtitle:r,uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.album"),label:c.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:r,type:c.Ru.get("web-player.search-modal.result.album")}),menu:(0,R.jsx)(bo.h,{uri:e.uri})})}case"Artist":return(0,R.jsx)(Do,{isSelected:a,position:t,onClick:s,title:e.profile.name,image:e.visuals.avatarImage?.sources?.[0]?.url??"",color:(0,Mo.m)(e.visuals.avatarImage?.extractedColors),subtitle:"",uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.artist"),label:c.Ru.get("web-player.search-modal.a11y.label",{item:e.profile.name,type:c.Ru.get("web-player.search-modal.result.artist")}),menu:(0,R.jsx)(Ro.t,{uri:e.uri})});case"Track":{const r=e.artists.items.map((e=>e.profile.name)).join(c.Ru.getSeparator());let n=r;if(e.matchedFields.includes(Uo.tC.Lyrics)){n=`${n} · ${c.Ru.get("web-player.search-modal.lyrics-match")}`}return(0,R.jsx)(Do,{isSelected:a,position:t,onClick:s,title:e.name,image:e.albumOfTrack?.coverArt?.sources?.[0]?.url??"",color:(0,Mo.m)(e.albumOfTrack?.coverArt?.extractedColors),subtitle:n,uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.track"),label:c.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:r,type:c.Ru.get("web-player.search-modal.result.track")}),menu:(0,R.jsx)(ko.P,{uri:e.uri})})}case"Playlist":{const r="User"===e.ownerV2.data?.__typename?e.ownerV2.data.name:"",n=e.images.items.find((e=>e.sources));return(0,R.jsx)(Do,{isSelected:a,position:t,onClick:s,title:e.name,image:n?.sources?.[0].url??"",color:(0,Mo.m)(n?.extractedColors),subtitle:r,uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.playlist"),label:c.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:r,type:c.Ru.get("web-player.search-modal.result.playlist")}),menu:(0,R.jsx)(Eo.W,{uri:e.uri})})}case"User":return(0,R.jsx)(Do,{isSelected:a,position:t,onClick:s,title:e.name,image:e.avatar?.sources?.[0]?.url??"",color:(0,Mo.m)(e.avatar?.extractedColors),subtitle:"",uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.user"),label:c.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:c.Ru.get("web-player.search-modal.result.user")}),menu:(0,R.jsx)(vi.B,{uri:e.uri})});case"Genre":return(0,R.jsx)(Do,{isSelected:a,position:t,onClick:s,title:e.name,image:e.image?.sources?.[0]?.url??"",color:(0,Mo.m)(e.image?.extractedColors),subtitle:"",uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.genre"),label:c.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:c.Ru.get("web-player.search-modal.result.genre")}),menu:(0,R.jsx)(fo.h,{uri:e.uri})});case"Episode":{const r="Podcast"===e.podcastV2.data.__typename&&e.podcastV2.data.name||void 0,n=[e.releaseDate?.isoString?c.Ru.formatDate(new Date(e.releaseDate.isoString)):void 0,r].filter(Boolean).join(" • "),i=r?c.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:r,type:c.Ru.get("web-player.search-modal.result.episode")}):e.name;return(0,R.jsx)(Do,{isSelected:a,position:t,onClick:s,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,Mo.m)(e.coverArt?.extractedColors),subtitle:n,uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.episode"),label:i,menu:(0,R.jsx)(yo.b,{uri:e.uri})})}case"Podcast":return(0,R.jsx)(Do,{isSelected:a,position:t,onClick:s,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,Mo.m)(e.coverArt?.extractedColors),subtitle:e.publisher?.name??"",uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.podcast"),label:c.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:c.Ru.get("web-player.search-modal.result.podcast")}),menu:(0,R.jsx)(vo.H,{uri:e.uri})});case"Audiobook":return(0,R.jsx)(Do,{isSelected:a,position:t,onClick:s,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,Mo.m)(e.coverArt?.extractedColors),subtitle:e.publisher?.name??"",uri:e.uri,tag:c.Ru.get("web-player.search-modal.result.audiobook"),label:c.Ru.get("web-player.search-modal.a11y.label",{item:e.name,type:c.Ru.get("web-player.search-modal.result.audiobook")}),menu:(0,R.jsx)(xo.p,{uri:e.uri})});default:return(0,go.d)(e)}}var Fo=s(13191),Wo=s(99744),Vo=s(48905);const Go="N9tnwm0XDrt_eGJd2D2A",zo="zZMsUUWG29PYcwWPXhOV",Ho="_kfmGT75UTPoF_D2afwa",Ko="search-modal-listbox",qo="Bn7PjpLWU6TcPCoeP98S",Qo="QVqrI1qDRcHQgBn2uuWd",Yo="mXdNvIO9PYnBFoyoMyUO",Zo="Xf30G8NSPQ3pex0iD4zB",$o="ixdB7tx1aniI9zfMECIi",Jo={modal:{base:Yo,afterOpen:Zo,beforeClose:$o},overlay:{base:Yo,afterOpen:Zo,beforeClose:$o}},Xo=()=>{const e=(0,oe.Zp)(),t=(0,Fo.Nf)(),{spec:s,logger:r,UBIFragment:n}=(0,Ke.r)($i.I,{}),i=(0,Vo.t)(s),[l,d]=(0,a.useState)(""),[u,m]=(0,a.useState)([]),[g,p]=(0,a.useState)(0),[h,b]=(0,a.useState)(!1),x=!(0,la.n)(),y=(0,a.useMemo)((()=>(0,le.o_)(l,{parseUnknown:!0})),[l]),f=y&&y.type!==le.NQ.AD,E=(0,a.useCallback)((e=>{const t=e.target.value;t!==l&&(d(t),p(0),r.logInteraction(s.inputFactory().keyStrokeChangeSearchQuery({searchQueryString:t})))}),[r,l,s]),k=(0,a.useCallback)((()=>{d(""),t({type:"CLOSE"})}),[t]),C=(0,a.useCallback)((({uri:e,position:t})=>{r.logInteraction(s.searchResultFactory({position:t}).hitUiNavigate({destination:e})),k()}),[k,r,s]),j=(0,Wo.z)(),w=(0,a.useCallback)((t=>{const s=t.key;if("ArrowUp"===s)p((e=>Math.max(e-1,0))),t.preventDefault();else if("ArrowDown"===s)p((e=>Math.min(e+1,u.length-1))),t.preventDefault();else if("Enter"===s){if(f)return e(y.toURLPath(!0)),void k();const s=u[g];if(s){const a=(0,le.o_)(s.uri);if(t.shiftKey)tl(a?.type)&&j.play({uri:s.uri},{featureIdentifier:"quick_search",referrerIdentifier:"PlayerStub_UnknownReferrer"});else{const t=a?.toURLPath(!0);t&&(e(t),C({uri:s.uri,position:g}))}}t.preventDefault()}}),[f,k,C,e,j,y,u,g]),N=(0,a.useCallback)((e=>{b(e.loading),e.query===l&&m(e.results)}),[l]),S=u.length>0,O=u[g],_=O?No(O.uri):void 0,T=(0,le.o_)(O?.uri),I=tl(T?.type);return(0,R.jsxs)(n,{spec:s,children:[(0,R.jsx)(po,{query:f?"":l,numberOfResults:30,onResults:N}),(0,R.jsxs)("div",{className:Go,ref:i,children:[(0,R.jsx)("div",{className:v()(zo,{[Ho]:u.length}),children:(0,R.jsx)(ao,{value:l,onChange:E,onKeyPress:w,hasResults:S,activeResultId:_})}),(0,R.jsx)(no,{canSelect:S&&!f,canPlay:I,canOpen:S||!!f}),l&&!f&&S&&(0,R.jsx)("div",{className:Ko,id:Ji,role:"listbox",children:(0,R.jsx)(Po,{results:u,onClick:C,selectedIndex:g})}),!h&&l&&!S&&(0,R.jsxs)("div",{className:qo,onClick:k,children:[(0,R.jsx)(o.E,{className:Qo,as:"h1",variant:"titleSmall",semanticColor:"textBase",children:c.Ru.get("search.empty-results-title",l)}),x&&(0,R.jsx)(o.E,{as:"p",semanticColor:"textBase",children:c.Ru.get("web-player.search-modal.offline")})]})]})]})},el=()=>{const{isOpen:e}=(0,Fo.Qc)(),t=(0,Fo.Nf)(),s=(0,a.useCallback)((()=>{t({type:"CLOSE"})}),[t]);return e?(0,R.jsx)(u.A,{contentLabel:c.Ru.get("web-player.search-modal.title"),isOpen:e,onRequestClose:s,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animation:Jo,children:(0,R.jsx)(Xo,{})}):null};function tl(e){switch(e){case"album":case"artist":case"track":case"playlist":case"playlist-v2":case"episode":case"show":return!0;default:return!1}}const sl=()=>{const e=(0,r.wA)(),{isOpen:t}=(0,r.d4)((e=>e.ui.personalizedRecommendationsErrorModal));return(0,R.jsx)(wn.x,{headingMessage:c.Ru.get("error-dialog.generic.header"),message:c.Ru.get("web-player.settings.personalized-recommendations.error-modal-message"),buttonLabel:c.Ru.get("web-player.settings.personalized-recommendations.error-modal-button"),onDismissDialog:()=>{e(Ht.bL.actions.close())},animated:!0,isOpen:t})};var al=s(46243);const rl="t1hN4Ju87afc5N5fDTnm",nl="kq4vSktBwa0pcc1zklAo",il="KSUTPJtu2PnuTb_RoGQX",ol=({onClose:e,handleRemove:t,primaryButtonText:s,secondaryButtonText:a,primaryButtonLabel:r=s})=>(0,R.jsxs)("div",{className:il,children:[(0,R.jsx)(f.H,{onClick:e,semanticColor:"textSubdued","aria-label":"Cancel",children:a}),(0,R.jsx)(k.$,{"aria-label":r,autofocus:"true",onClick:t,children:s})]}),ll=({onClose:e,primaryButtonText:t,secondaryButtonText:s})=>(0,R.jsxs)("div",{className:il,children:[(0,R.jsx)(f.H,{onClick:e,semanticColor:"textSubdued",as:"a",href:jt.nw,children:s}),(0,R.jsx)(k.$,{autofocus:"true",onClick:e,children:t})]});var cl=s(11926);const dl=()=>{const e=(0,r.wA)(),{enqueueSnackbar:t}=(0,J.d)(),s=(0,cl.B)(),[n,i]=(0,a.useState)(null),l=(0,a.useCallback)((()=>{e((0,$.MB)())}),[e]),d=(0,a.useCallback)((async()=>{try{await s.removeAllDownloads(),l(),t(c.Ru.get("desktop.settings.storage.downloads.success"))}catch(e){i(e instanceof Error?e:new Error("Error when deleting all downloads."))}}),[s,l,t]);return(0,R.jsx)(al.M,{animated:!0,className:nl,onRequestClose:l,"aria-describedby":"remove-downloads-dialog-heading",isOpen:!0,children:(0,R.jsxs)("div",{className:v()("encore-light-theme",rl),children:[(0,R.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",id:"remove-downloads-dialog-heading",children:n?c.Ru.get("error.generic"):c.Ru.get("desktop.settings.storage.downloads.dialog.heading")}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",paddingBottom:Z.CD,semanticColor:"textSubdued","aria-live":"polite",children:n?c.Ru.get("desktop.settings.storage.downloads.dialog.error"):c.Ru.get("desktop.settings.storage.downloads.dialog.text")}),n?(0,R.jsx)(ll,{onClose:l,primaryButtonText:c.Ru.get("desktop.settings.storage.close"),secondaryButtonText:c.Ru.get("desktop.settings.storage.help")}):(0,R.jsx)(ol,{onClose:l,handleRemove:d,primaryButtonLabel:c.Ru.get("desktop.settings.storage.downloads.button"),primaryButtonText:c.Ru.get("desktop.settings.storage.downloads.remove"),secondaryButtonText:c.Ru.get("desktop.settings.storage.cancel")})]})})},ul=()=>{const e=(0,r.wA)(),{enqueueSnackbar:t}=(0,J.d)(),s=(0,cl.B)(),[n,i]=(0,a.useState)(null),l=(0,a.useCallback)((()=>{e((0,$.QK)())}),[e]),d=(0,a.useCallback)((async()=>{try{await s.removeCache(),l(),t(c.Ru.get("desktop.settings.storage.cache.success"))}catch(e){i(e instanceof Error?e:new Error("Error when clearing cache."))}}),[t,s,l]);return(0,R.jsx)(al.M,{animated:!0,className:nl,onRequestClose:l,"aria-describedby":"clear-cache-dialog-heading",isOpen:!0,children:(0,R.jsxs)("div",{className:v()("encore-light-theme",rl),children:[(0,R.jsx)(o.E,{id:"clear-cache-dialog-heading",as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",children:n?c.Ru.get("error.generic"):c.Ru.get("desktop.settings.storage.cache.dialog.heading")}),(0,R.jsx)(o.E,{as:"p",variant:"bodySmall",paddingBottom:Z.CD,semanticColor:"textSubdued","aria-live":"polite",children:n?c.Ru.get("desktop.settings.storage.cache.dialog.error"):c.Ru.get("desktop.settings.storage.cache.dialog.text")}),n?(0,R.jsx)(ll,{onClose:l,primaryButtonText:c.Ru.get("desktop.settings.storage.close"),secondaryButtonText:c.Ru.get("desktop.settings.storage.help")}):(0,R.jsx)(ol,{onClose:l,handleRemove:d,primaryButtonText:c.Ru.get("desktop.settings.storage.cache.button"),secondaryButtonText:c.Ru.get("desktop.settings.storage.cancel")})]})})};var ml=s(71254);const gl="KmvydY9aOuhL7pSuUhCP",pl="yfp_lJM0XpzDc1TJz6Qc",hl="rqMR6HWbOuHuIQEMFrRv",bl=()=>{const e=(0,r.wA)(),{isOpen:t}=(0,r.d4)((e=>e.ui.introducingSmartShuffleModal)),s=()=>{e(Ht.cI.actions.close())};return(0,R.jsx)(u.A,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:s,contentLabel:c.Ru.get("web-player.smart-shuffle.introduction-modal-title"),overlayClassName:hl,children:(0,R.jsxs)("div",{className:gl,children:[(0,R.jsx)(ml.k,{size:"xxlarge",semanticColor:"textBrightAccent"}),(0,R.jsxs)("div",{className:pl,children:[(0,R.jsx)(o.E,{variant:"titleMedium",semanticColor:"textBase",children:c.Ru.get("web-player.smart-shuffle.introduction-modal-title")}),(0,R.jsx)(o.E,{variant:"bodyMedium",semanticColor:"textBase",children:c.Ru.get("web-player.smart-shuffle.introduction-modal-description")})]}),(0,R.jsx)(k.$,{onClick:s,children:c.Ru.get("web-player.smart-shuffle.introduction-modal-ok-button")})]})})};var Rl=s(56991);var xl=s(70070),yl=s(14964),fl=s(32660);var El=s(77814),vl=s(87925);var kl=s(12811),Cl=s(25558),jl=s(88602);var wl=s(55109),Nl=s(63135),Sl=s(82101),Ol=s(42047);const _l={get DEFAULT_PLAYBACK_STUCK(){return c.Ru.get("feedback.cant-play-track")},get FORCED_OFFLINE_MODE(){return c.Ru.get("feedback.track-not-available-forced-offline")},get CANT_OFFLINE_SYNC_PLAYLIST_IN_OFFLINE_MODE(){return c.Ru.get("feedback.cant-offline-sync-playlist-in-offline-mode")},get ARTIST_BANNED_BY_USER(){return c.Ru.get("feedback.artist-banned-by-user")},get TRACK_BANNED_BY_USER(){return c.Ru.get("feedback.track-banned-by-user")},get REGION_RESTRICTED(){return c.Ru.get("feedback.track-not-available-in-region-import")},get DEFAULT_PLAYER_ERROR(){return c.Ru.get("feedback.track-not-available-import")},get NETWORK_ERROR(){return c.Ru.get("feedback.video-playback-network-error")},get PREMIUM_RESTRICTED(){return c.Ru.get("feedback.track-exclusive-premium")},get CANT_SKIP_ADS(){return c.Ru.get("feedback.cant-skip-ads")},get CANT_PLAY_DURING_ADS(){return c.Ru.get("feedback.cant-play-during-ads")},get SKIP_ADS_TO_HEAR_SONG(){return c.Ru.get("feedback.skip-ads-to-hear-song")},get SKIP_AFTER_DELAY(){return c.Ru.get("feedback.skip-ads-after-delay")},get CAPPING_REACHED(){return c.Ru.get("capping.upsell-title")},get VIDEO_GEORESTRICTED(){return c.Ru.get("feedback.video-georestricted")},get VIDEO_UNSUPPORTED_CLIENT_VERSION(){return c.Ru.get("feedback.video-unsupported-client-version")},get VIDEO_UNSUPPORTED_PLATFORM_VERSION(){return c.Ru.get("feedback.video-unsupported-platform-version")},get VIDEO_COUNTRY_RESTRICTED(){return c.Ru.get("feedback.video-country-restricted")},get VIDEO_UNAVAILABLE(){return c.Ru.get("feedback.video-unavailable")},get VIDEO_CATALOGUE_RESTRICTED(){return c.Ru.get("feedback.video-catalogue-restricted")},get VIDEO_PLAYBACK_ERROR(){return c.Ru.get("feedback.video-playback-error")},get VIDEO_UNSUPPORTED_KEY_SYSTEM(){return c.Ru.get("feedback.video-unsupported-key-system")},get EXPLICIT_CONTENT_FILTERED(){return c.Ru.get("feedback.explicit-content-filtered")},get INTERRUPT_PLAYBACK_RESTRICTED(){return c.Ru.get("feedback.play-after-ad")}};function Tl(e){const t=e?.item??void 0;return(0,Nl.N)(t)&&t.isSkippableAd}function Il(e,t,s){switch(t.code){case wl.Z9.PLAYBACK_STUCK:return _l.DEFAULT_PLAYBACK_STUCK;case wl.Z9.ONE_TRACK_UNPLAYABLE:case wl.Z9.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED:case wl.Z9.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED:return(a=t.reasons).includes(wl.K7.NOT_AVAILABLE_IN_CURRENT_REGION)?_l.REGION_RESTRICTED:a.includes(wl.K7.NOT_AVAILABLE_IN_NON_PREMIUM)?_l.PREMIUM_RESTRICTED:a.includes(wl.K7.NOT_AVAILABLE_OFFLINE)?_l.FORCED_OFFLINE_MODE:a.includes(wl.K7.USER_CAPPING_REACHED)?_l.CAPPING_REACHED:a.includes(wl.K7.BANNED_BY_USER_ARTIST)?_l.ARTIST_BANNED_BY_USER:a.includes(wl.K7.BANNED_BY_USER_TRACK)?_l.TRACK_BANNED_BY_USER:a.includes(wl.K7.EXPLICIT_CONTENT_FILTERED)?_l.EXPLICIT_CONTENT_FILTERED:_l.DEFAULT_PLAYER_ERROR;case wl.Z9.INTERRUPT_PLAYBACK_RESTRICTED:return _l.INTERRUPT_PLAYBACK_RESTRICTED;case wl.Z9.VIDEO_GEORESTRICTED:return _l.VIDEO_GEORESTRICTED;case wl.Z9.VIDEO_UNSUPPORTED_CLIENT_VERSION:return _l.VIDEO_UNSUPPORTED_CLIENT_VERSION;case wl.Z9.VIDEO_UNSUPPORTED_PLATFORM_VERSION:return _l.VIDEO_UNSUPPORTED_PLATFORM_VERSION;case wl.Z9.VIDEO_COUNTRY_RESTRICTED:return _l.VIDEO_COUNTRY_RESTRICTED;case wl.Z9.VIDEO_UNAVAILABLE:return _l.VIDEO_UNAVAILABLE;case wl.Z9.VIDEO_CATALOGUE_RESTRICTED:return _l.VIDEO_CATALOGUE_RESTRICTED;case wl.Z9.VIDEO_PLAYBACK_ERROR:return _l.VIDEO_PLAYBACK_ERROR;case wl.Z9.VIDEO_UNSUPPORTED_KEY_SYSTEM:return _l.VIDEO_UNSUPPORTED_KEY_SYSTEM;case wl.Z9.PAUSE_RESTRICTED:return t.reasons.some((e=>[wl.K7.ALREADY_PAUSED,wl.K7.NOT_PLAYING_LOCALLY].includes(e)))?null:_l.DEFAULT_PLAYER_ERROR;case wl.Z9.RESUME_RESTRICTED:return t.reasons.includes(wl.K7.NOT_PAUSED)?null:_l.DEFAULT_PLAYER_ERROR;case wl.Z9.PLAY_RESTRICTED:return t.reasons.includes(wl.K7.AD_DISALLOW)?Tl(e)?_l.SKIP_ADS_TO_HEAR_SONG:_l.CANT_SKIP_ADS:null;case wl.Z9.SKIP_TO_NEXT_RESTRICTED:return t.reasons.includes(wl.K7.AD_DISALLOW)?Tl(e)?_l.SKIP_AFTER_DELAY:_l.CANT_PLAY_DURING_ADS:null;case wl.Z9.TIMEOUT:return _l.NETWORK_ERROR;case wl.Z9.SKIP_TO_PREV_RESTRICTED:return t.reasons.includes(wl.K7.THROTTLED)?null:_l.DEFAULT_PLAYER_ERROR;default:return function(e,t){return!(t||!e.cause||!("status"in e.cause))&&0===e.cause.status}(t,s)?_l.NETWORK_ERROR:_l.DEFAULT_PLAYER_ERROR}var a}var Al=s(70672);var Ll=s(27774),Dl=s(40814);var Ml=s(8159),Ul=s(20247),Pl=s(79163),Bl=s(14914);const Fl=()=>(function(){const e=(0,Wo.z)(),t=(0,la.n)(),{currentSession:s}=(0,Ol.D)(),{enqueueSnackbar:a}=(0,J.d)();(0,Rn.p)(bn.gd.ERROR,(({data:r})=>{const n=e.getState(),i=Il(n,r,t);null!==i&&(s?.active&&r.code===wl.Z9.STOP_RESTRICTED||(0,Sl.d)(n?.item??void 0)||a(i))}))}(),function(){const{enqueueSnackbar:e}=(0,J.d)(),t=(0,la.n)();(0,Rn.p)(bn.gd.QUEUE_ACTION_COMPLETE,(({data:s})=>{s.action===bn.UC.ADD&&(s.error?t?((0,Rl.$)("feedback_banner","error","error.generic"),e(c.Ru.get("error.generic"))):e(c.Ru.get("offline.feedback-text")):e(c.Ru.get("queue.added-to-queue")))}))}(),function(){const{enqueueSnackbar:e}=(0,J.d)(),t=(0,xl.W)(),s=(0,we.m)(),a=(0,la.n)();(0,fl.e)(yl.Lj.OPERATION_COMPLETE,(async({data:r})=>{if(r.operation===yl.sP.ADD&&!r.silent)if(r.error)a?((0,Rl.$)("feedback_banner","error","error.generic"),e(c.Ru.get("error.generic"))):e(c.Ru.get("offline.feedback-text"));else try{const{name:e,images:a}=await s.getMetadata(r.uri),n=(0,$a.g)(a,{desiredSize:24});t({message:c.Ru.get("feedback.added-to-playlist-specific",e),imageSrc:n?.url})}catch{e(c.Ru.get("feedback.added-to-playlist-generic"))}}))}(),function(){const e=(0,Oi.a)().getEvents(),t=(0,la.n)(),{enqueueSnackbar:s}=(0,J.d)(),n=(0,r.d4)((e=>e.session?.user?.id));(0,a.useEffect)((()=>e.addListener(Al.GV.OPERATION_COMPLETE,(({data:e})=>{let a;if(e.error)t?((0,Rl.$)("feedback_banner","error","error.generic"),s(c.Ru.get("error.generic"))):s(c.Ru.get("offline.feedback-text"));else switch(e.operation){case Al.mA.SET_BASE_PERMISSION:return a="VIEWER"===e.permissionLevel?c.Ru.get("feedback.playlist-made-public"):c.Ru.get("feedback.playlist-made-private"),void s(a);case Al.mA.SET_MEMBER_PERMISSION:return a="VIEWER"===e.permissionLevel?c.Ru.get("feedback.member-made-listener"):c.Ru.get("feedback.member-made-contributor"),void s(a);case Al.mA.REMOVE_MEMBER:return a=n===e.username?c.Ru.get("feedback.left-playlist"):c.Ru.get("feedback.removed-member"),void s(a)}}))),[n,s,t,e])}(),function(){const e=(0,Ll._)().getEvents(),t=(0,la.n)(),{enqueueSnackbar:s}=(0,J.d)();(0,a.useEffect)((()=>e.addListener(Dl.tD.OPERATION_COMPLETE,(({data:e})=>{if(!e.silent)if(e.error)t?((0,Rl.$)("feedback_banner","error","error.generic"),s(c.Ru.get("error.generic"))):s(c.Ru.get("offline.feedback-text"));else switch(e.operation){case Dl.ut.ADD:return void s(c.Ru.get("web-player.aligned-curation.feedback.added-to-library"));case Dl.ut.REMOVE:return void s(c.Ru.get("web-player.aligned-curation.feedback.removed-from-library"));case Dl.ut.MOVE:return void(e.showAddConfirmation&&s(c.Ru.get("web-player.aligned-curation.feedback.added-to-library")))}}))),[s,t,e])}(),function(){const{enqueueSnackbar:e}=(0,J.d)(),t=(0,xl.W)(),s=(0,la.n)();(0,jl.l)(Cl.UV.OPERATION_COMPLETE,(async a=>{if(a.data.silent)return;if(a.data.error)return void(s?((0,Rl.$)("feedback_banner","error","error.generic"),e(c.Ru.get("error.generic"))):e(c.Ru.get("offline.feedback-text")));const[r]=a.data.uris,n=(0,le.o_)(r)?.type;if(n!==le.NQ.TRACK&&n!==le.NQ.LOCAL_TRACK)if(n!==le.NQ.EPISODE)e(a.data.operation===Cl.tS.ADD?c.Ru.get("web-player.aligned-curation.feedback.added-to-library"):c.Ru.get("web-player.aligned-curation.feedback.removed-from-library"));else{const e=(0,kl.dB)();if(!e)return;const s=a.data.operation===Cl.tS.ADD?c.Ru.get("web-player.aligned-curation.feedback.added",e.name):c.Ru.get("web-player.aligned-curation.feedback.removed",e.name);t({message:s,imageSrc:(0,$a.g)(e.images,{desiredSize:24})?.url})}else{const e=(0,kl.zK)();if(!e)return;const s=a.data.operation===Cl.tS.ADD?c.Ru.get("web-player.aligned-curation.feedback.added",e.name):c.Ru.get("web-player.aligned-curation.feedback.removed",e.name);t({message:s,imageSrc:(0,$a.g)(e.images,{desiredSize:24})?.url})}}))}(),function(){const e=(0,vl.l)(),{enqueueSnackbar:t}=(0,J.d)();(0,a.useEffect)((()=>{const s=e.getEvents(),a=s.addListener(El.ar.ADDED,(({data:e})=>{"client"===e.source&&"ignoreinrecs"===e.set&&t(c.Ru.get("feedback.exclude-playlist-from-recommendations"))})),r=s.addListener(El.ar.REMOVED,(({data:e})=>{"client"===e.source&&"ignoreinrecs"===e.set&&t(c.Ru.get("feedback.include-playlist-in-recommendations"))}));return()=>{a(),r()}}),[t,e])}(),(()=>{const{currentSession:e}=(0,Ol.D)(),{enqueueSnackbar:t}=(0,J.d)(),s=(0,a.useRef)([]),r=(0,a.useRef)([]),n=(0,Ml.YQ)((e=>{if(e.isSessionOwner){switch(s.current.length){case 0:break;case 1:t(c.Ru.get("web-player.social-connect.toast.one-person-joined",{user:s.current[0]??""})),s.current=[];break;case 2:t(c.Ru.get("web-player.social-connect.toast.two-people-joined",{firstUser:s.current[0]??"",secondUser:s.current[1]??""})),s.current=[];break;default:t(c.Ru.get("web-player.social-connect.toast.multiple-people-joined",{user:s.current[s.current.length-1]??"",userCount:s.current.length-1})),s.current=[]}switch(r.current.length){case 0:break;case 1:t(c.Ru.get("web-player.social-connect.toast.one-person-left",{user:r.current[0]??""})),r.current=[];break;case 2:t(c.Ru.get("web-player.social-connect.toast.two-people-left",{firstUser:r.current[0]??"",secondUser:r.current[1]??""})),r.current=[];break;default:t(c.Ru.get("web-player.social-connect.toast.multiple-people-left",{user:r.current[r.current.length-1]??"",userCount:r.current.length-1})),r.current=[]}}}),3e3,{leading:!0,trailing:!0}),i=(0,a.useCallback)((({data:e})=>{null===e.isSessionOwner||e.isSessionOwner||t(c.Ru.get("web-player.social-connect.toast.ended",{user:e.hostDisplayName??""}))}),[t]),o=(0,a.useCallback)((({data:e})=>{s.current=e.users?[...s.current,...e.users]:s.current,n(e)}),[n]),l=(0,a.useCallback)((({data:e})=>{r.current=e.users?[...r.current,...e.users]:r.current,n(e)}),[n]),d=(0,a.useCallback)((({data:s})=>{e&&(e?.queueOnlyMode!==s?.queueOnlyMode&&(!1===s?.queueOnlyMode?t(e.isSessionOwner?c.Ru.get("web-player.social-connect.toast.queue-only-mode.host.disabled"):c.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.disabled")):!0===s?.queueOnlyMode&&t(e.isSessionOwner?c.Ru.get("web-player.social-connect.toast.queue-only-mode.host.enabled"):c.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.enabled"))),e?.participantVolumeControl!==s?.participantVolumeControl&&("ENABLED"===s?.participantVolumeControl?t(c.Ru.get("web-player.social-connect.toast.participant-volume-control.enabled")):"DISABLED"===s?.participantVolumeControl&&t(e.isSessionOwner?c.Ru.get("web-player.social-connect.toast.participant-volume-control.host.disabled"):c.Ru.get("web-player.social-connect.toast.participant-volume-control.guest.disabled"))))}),[e,t]),u=(0,a.useCallback)((({data:e})=>{e===Bl.RG.PERMISSIONS_RESTRICTED_GENERIC&&t(c.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.warning"))}),[t]);(0,Pl.J)(Ul.K.SESSION_ENDED,i),(0,Pl.J)(Ul.K.JOINED,o),(0,Pl.J)(Ul.K.LEFT,l),(0,Pl.J)(Ul.K.UPDATE,d),(0,Pl.J)(Ul.K.SESSION_MESSAGE,u)})(),null);var Wl=s(23816),Vl=s(55912),Gl=s(13874);const zl=(e,t)=>{switch(e){case Gl.EL.SESSION_ENDED:return{title:c.Ru.get("web-player.social-connect.session-ended.title"),description:c.Ru.get("web-player.social-connect.session-ended.sub-title"),confirmText:c.Ru.get("web-player.social-connect.session-ended.confirmation-button"),ubiIdentifier:Vl.gw.SESSION_ENDED};case Gl.EL.ERROR:return{title:c.Ru.get("web-player.social-connect.generic-error.title"),description:c.Ru.get("web-player.social-connect.generic-error.sub-title"),confirmText:c.Ru.get("web-player.social-connect.generic-error.confirmation-button"),ubiIdentifier:Vl.gw.ERROR};case Gl.EL.MOBILE_ONLY:return{title:c.Ru.get("web-player.social-connect.mobile-only.title"),description:c.Ru.get("web-player.social-connect.mobile-only.description"),confirmText:c.Ru.get("web-player.social-connect.mobile-only.confirmation-button"),ubiIdentifier:Vl.gw.MOBILE_ONLY};case Gl.EL.END_SESSION:return{title:c.Ru.get("web-player.social-connect.end-session.title"),description:c.Ru.get("web-player.social-connect.end-session.sub-title"),confirmText:c.Ru.get("web-player.social-connect.end-session.confirm"),cancelText:c.Ru.get("web-player.social-connect.end-session.cancel")};case Gl.EL.LEAVE_SESSION:return{title:c.Ru.get("web-player.social-connect.leave-session.title"),description:c.Ru.get("web-player.social-connect.leave-session.sub-title"),confirmText:c.Ru.get("web-player.social-connect.leave-session.leave-session-button"),cancelText:c.Ru.get("web-player.social-connect.leave-session.cancel")};case Gl.EL.REMOVE_PARTICIPANT:return{title:c.Ru.get("web-player.social-connect.participant-list.remove-guest-dialog",{displayName:t}),description:"",confirmText:c.Ru.get("web-player.social-connect.participant-list.remove-guest"),cancelText:c.Ru.get("web-player.social-connect.participant-list.remove-guest-cancel")};default:return(0,go.k)(e),{confirmText:"",description:"",title:""}}};var Hl=s(2019);var Kl=s(50518);const ql=({isOpen:e})=>{const t=(0,r.wA)(),{currentSession:s,deleteSession:n}=(0,Ol.D)(),{logEndJam:i}=(()=>{const{spec:e,logger:t}=(0,Ke.r)(Hl.Z,{});return{logEndJam:(0,a.useCallback)((()=>{t.logInteraction(e.endButtonFactory().hitStopHostingSocialListeningSession())}),[t,e])}})(),o=(0,hr.vh)(),{title:l,description:c,confirmText:d,cancelText:u}=zl(Gl.EL.END_SESSION),m=(0,a.useCallback)((async()=>{i(),await n(),o.send((0,Wl.c)({session_id:s?.sessionId,end_reason:Kl.Mm.QUEUE_END_SESSION_BUTTON})),t((0,$.cQ)())}),[s?.sessionId,n,t,o,i]),g=(0,a.useCallback)((()=>{t((0,$.cQ)())}),[t]);return(0,R.jsx)(ce.T,{isOpen:e,onClose:g,onConfirm:m,titleText:l,"aria-label":l,descriptionText:c,confirmText:d,confirmLabel:d,cancelText:u})},Ql=({isOpen:e,dialogType:t})=>{const s=(0,r.wA)(),{title:n,description:i,confirmText:o,ubiIdentifier:l}=zl(t),{spec:c,logger:d}=(0,Ke.r)(Vl.Fh,{data:{identifier:l}}),u=(0,a.useCallback)((()=>{s((0,$.cQ)())}),[s]);return(0,a.useEffect)((()=>{e&&d.logImpression(c.impression())}),[e,d,c]),(0,R.jsx)(ce.T,{isOpen:e,onClose:u,onConfirm:u,titleText:n,"aria-label":n,descriptionText:i,confirmText:o,confirmLabel:o})};var Yl=s(1094);const Zl=({isOpen:e})=>{const t=(0,r.wA)(),{currentSession:s,leaveSession:n}=(0,Ol.D)(),{logLeaveJam:i}=(()=>{const{spec:e,logger:t}=(0,Ke.r)(Yl.Q,{});return{logLeaveJam:(0,a.useCallback)((()=>{t.logInteraction(e.leaveButtonFactory().hitLeaveSocialListeningSession())}),[t,e])}})(),o=(0,hr.vh)(),{title:l,description:c,confirmText:d,cancelText:u}=zl(Gl.EL.LEAVE_SESSION),m=(0,a.useCallback)((async()=>{i(),await n(),o.send((0,Wl.c)({session_id:s?.sessionId,end_reason:Kl.Mm.QUEUE_LEAVE_SESSION_BUTTON})),t((0,$.cQ)())}),[s?.sessionId,t,o,n,i]),g=(0,a.useCallback)((()=>{t((0,$.cQ)())}),[t]);return(0,R.jsx)(ce.T,{isOpen:e,onClose:g,onConfirm:m,titleText:l,"aria-label":l,descriptionText:c,confirmText:d,confirmLabel:d,cancelText:u})};var $l=s(99451);const Jl=({isOpen:e})=>{const t=(0,r.wA)(),{logRemoveClick:s}=(0,$l.R)(),{currentSession:n,removeSessionMember:i}=(0,Ol.D)(),{memberToRemove:o}=(0,r.d4)((e=>e.ui.jamModalState)),l=o?.id??"",c=o?.displayName??"",d=n?.sessionId??"",{title:u,description:m,confirmText:g,cancelText:p}=zl(Gl.EL.REMOVE_PARTICIPANT,c),h=(0,a.useCallback)((()=>{s(l,d),l&&(i(l),t((0,$.cQ)()))}),[s,l,d,i,t]),b=(0,a.useCallback)((()=>{t((0,$.cQ)())}),[t]);return(0,R.jsx)(ce.T,{isOpen:e,onClose:b,onConfirm:h,titleText:u,"aria-label":u,descriptionText:m,confirmText:g,confirmLabel:g,cancelText:p})},Xl=({isOpen:e,dialogType:t})=>{switch(t){case Gl.EL.LEAVE_SESSION:return(0,R.jsx)(Zl,{isOpen:e});case Gl.EL.END_SESSION:return(0,R.jsx)(ql,{isOpen:e});case Gl.EL.REMOVE_PARTICIPANT:return(0,R.jsx)(Jl,{isOpen:e});case Gl.EL.SESSION_ENDED:case Gl.EL.MOBILE_ONLY:case Gl.EL.ERROR:return(0,R.jsx)(Ql,{isOpen:e,dialogType:t});default:return null}};var ec=s(72224);const tc=({size:e=60,className:t})=>(0,R.jsx)("img",{className:t,src:(0,yt.b)("images/group-session-logo.svg"),height:e,width:e,alt:c.Ru.get("web-player.social-connect.group-session-logo-alt")}),sc="jav_0ddRdU3yOojQAq8w",ac="ldkgyfJfn34VlQ2thtaB",rc="cHxs16ZqqJIr8OAcIG1h",nc="tIfl33R3uqA7AyIa0OHf",ic="OEOcqiDA2mrxdAcZOXdj",oc=({imageElement:e,title:t,subtitle:s,confirmButtonText:a,confirmButtonIcon:r,onConfirm:n,cancelButtonText:i,onCancel:l,disabled:c,footerText:d})=>(0,R.jsxs)("div",{className:sc,children:[e,(0,R.jsxs)("div",{className:ac,children:["string"==typeof t?(0,R.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:rc,children:t}):t,"string"==typeof s?(0,R.jsx)(o.E,{variant:"bodyMedium",semanticColor:"textBase",children:s}):s]}),(0,R.jsxs)("div",{className:nc,children:[(0,R.jsx)(k.$,{onClick:n,disabled:c,iconTrailing:r,children:a}),i&&(0,R.jsx)(f.H,{semanticColor:"textSubdued",onClick:l,disabled:c,children:i})]}),d&&(0,R.jsx)("div",{className:ic,children:(0,R.jsx)(o.E,{variant:"marginal",semanticColor:"textSubdued",children:d})})]});var lc=s(30293),cc=s(30015);const dc=({setContentLabel:e})=>{const{createSession:t,currentSession:s,deleteSession:n}=(0,Ol.D)(),i=(0,r.wA)(),o=(0,hr.vh)(),l=(0,lc.Z)(),d=(0,a.useCallback)((async()=>{await t()}),[t]);(0,a.useEffect)((()=>{d()}),[d]);const u=(0,cc.c)(),m=(0,a.useCallback)((async()=>{const e=s?.joinSessionUri;if(!e){const e=await t();if(!e?.joinSessionUri)return;o.send((0,ec.q)({session_id:e.sessionId,device_type:u.deviceType,tech_type:u.techType,session_uri:e.joinSessionUri,session_type:Kl.dF.REMOTE}))}s?.joinSessionShortLink&&l(s?.joinSessionShortLink),i((0,$.cQ)())}),[s?.joinSessionUri,s?.joinSessionShortLink,i,t,o,u.deviceType,u.techType,l]),g=(0,a.useCallback)((async()=>{if(s){await n()&&o.send((0,Wl.c)({session_id:s.sessionId,end_reason:Kl.Mm.INVITATION_MODAL_CANCEL_BUTTON}))}i((0,$.cQ)())}),[s,n,i,o]),p=c.Ru.get("web-player.social-connect.invitation-modal.title");return(0,a.useEffect)((()=>{e(p)}),[p,e]),(0,R.jsx)(oc,{imageElement:(0,R.jsx)(tc,{}),title:p,subtitle:c.Ru.get("web-player.social-connect.invitation-modal.subtitle"),confirmButtonText:c.Ru.get("web-player.social-connect.invitation-modal.button-primary"),onConfirm:m,cancelButtonText:c.Ru.get("web-player.social-connect.invitation-modal.button-tertiary"),onCancel:g})};var uc=s(75721),mc=s(23771),gc=s(94723),pc=s(88497),hc=s(72775),bc=s(24538),Rc=s(93847),xc=s(22614),yc=s(39683);function fc(){const{isLocalDevice:e,deviceName:t}=(0,kn.v)((({activeDevice:e})=>({isLocalDevice:e?.isLocal??!0,deviceName:e?.name??""})),((e,t)=>e.deviceName===t.deviceName&&e.isLocalDevice===t.isLocalDevice));return function(e,t){const s=(0,yc.Ek)();return e?s?c.Ru.get("web-player.social-connect.join-modal.device-name.this-computer"):c.Ru.get("web-player.social-connect.join-modal.device-name.this-browser"):t}(e,t)}var Ec=s(80368),vc=s(28004);const kc="H3UvfEgDtYPH0EL3aLwZ",Cc="LPVfHXRjItuJaNEQdlTT",jc="DD2yyz7nKDIMIXhFOAkl",wc="NQtJIrT4cCneGvSC152a",Nc="xIKQXbFbxYFpBJfoOTFw",Sc="Bs13fjYCTb2TKzoO13sA",Oc="N6Pa7PkejWH5KojTMbfU",_c="Uz7GyGSJMC1Cz7Cz0G6t",Tc="hN61FwfX0b6x78GshoG3",Ic=()=>(0,R.jsxs)("div",{className:Tc,children:[(0,R.jsx)(pc.D,{size:"xsmall",semanticColor:"textBase"}),(0,R.jsx)(o.E,{variant:"marginalBold",semanticColor:"textBase",children:c.Ru.get("navbar.premium")})]}),Ac=({value:e,icon:t,title:s,subtitle:r,selected:n,onSelect:i,formWidth:l,setFormWidth:c})=>{const d=(0,a.useRef)(null);return(0,a.useLayoutEffect)((()=>{if(d.current){const e=d.current.getBoundingClientRect().width;e>l&&c(Math.min(490,e+96+8))}}),[l,c]),(0,R.jsxs)("div",{className:wc,children:[(0,R.jsxs)("label",{className:Nc,htmlFor:e,children:[t,(0,R.jsxs)("div",{className:Sc,style:{"--device-form-label-width":l-96+8+"px"},ref:d,children:[(0,R.jsx)(o.E,{variant:n?"bodyMediumBold":"bodyMedium",semanticColor:n?"textBrightAccent":"textBase",className:_c,children:s}),(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:n?"textBrightAccent":"textSubdued",className:_c,children:r})]})]}),(0,R.jsx)(hc.M,{value:e,id:e,className:Oc,name:"session-type-radio",checked:n,onChange:()=>{i(e)}})]})},Lc=({sessionType:e,setSessionType:t,hostName:s})=>{const r=fc(),n=(0,kn.v)((({activeDevice:e})=>e?.type??vc.bq.COMPUTER)),i=(0,xc.t)(n),o=(0,Ec.l)(),[l,d]=(0,a.useState)(0);return(0,R.jsxs)(bc.g,{className:jc,style:{"--device-form-width":`${l}px`},children:[(0,R.jsx)(Ac,{value:Kl.dF.REMOTE,icon:(0,R.jsx)(i,{semanticColor:e===Kl.dF.REMOTE?"textBrightAccent":"textBase"}),title:c.Ru.get("web-player.social-connect.join-modal.continue-on-this-device",{device:r}),subtitle:c.Ru.get("web-player.social-connect.join-modal.continue-on-this-device-subtitle"),onSelect:t,selected:e===Kl.dF.REMOTE,formWidth:l,setFormWidth:d}),o&&(0,R.jsx)(Ic,{}),(0,R.jsx)(Ac,{value:Kl.dF.IN_PERSON,icon:(0,R.jsx)(Rc.H,{semanticColor:e===Kl.dF.IN_PERSON?"textBrightAccent":"textBase"}),title:c.Ru.get("web-player.social-connect.join-modal.play-from-host-speaker",{host:s}),subtitle:c.Ru.get("web-player.social-connect.join-modal.play-from-host-speaker-subtitle"),onSelect:t,selected:e===Kl.dF.IN_PERSON,formWidth:l,setFormWidth:d})]})};var Dc=s(5780);const Mc="V8Nnr6rCPzkQv7MCvvKM",Uc="A8jOuTXM1E0dlFYJlV39",Pc="D0L83_9SDaOFBzZT8EKO",Bc=()=>(0,R.jsx)("div",{className:sc,children:(0,R.jsxs)("div",{className:Mc,children:[(0,R.jsx)(Dc.Y,{as:"h3",variant:"titleSmall",className:Pc,charCount:16,isLoading:!0}),[[20,50,25],[40,28,35]].map(((e,t)=>(0,R.jsx)("div",{className:Uc,children:e.map(((e,t)=>(0,R.jsx)(Dc.Y,{as:"div",variant:"bodySmall",className:Pc,charCount:e,isLoading:!0},`${e}-${t}`)))},`skeleton-section-${t}`)))]})});var Fc=s(65519),Wc=s(12804),Vc=s(93440);var Gc=s(69052);let zc=function(e){return e.NONE="NONE",e.JOINING="JOINING",e.JOINED="JOINED",e.FAILED="FAILED",e}({});const Hc=({joinToken:e,setContentLabel:t})=>{const s=(0,r.wA)(),{getSessionInfo:n,joinSession:i}=(0,Ol.D)(),{openURLWithSessionTransfer:l}=(0,He.L)(),{logJoin:d}=(()=>{const{spec:e,logger:t}=(0,Ke.r)(Vc.U,{});return{logJoin:(0,a.useCallback)((()=>{const s=e.joinButtonFactory().hitJoinSocialListeningSession();t.logInteraction(s)}),[t,e])}})(),u=(0,hr.vh)(),[m,g]=(0,a.useState)(null),[p,h]=(0,a.useState)(Kl.dF.REMOTE),b=(0,Wc.C)(),x=b===Gc.l.FREE&&p===Kl.dF.REMOTE;(0,a.useEffect)((()=>{n(e).then((e=>{if(e){g(e);const s=e.sessionMembers.find((t=>t.id===e.sessionOwnerId));t(c.Ru.get("web-player.social-connect.join-modal.title",{host:s?.displayName??""}))}else s((0,$.A9)(Gl.EL.SESSION_ENDED))}))}),[s,n,e,t]);const[y,f]=(0,a.useState)(zc.NONE),E=(0,a.useCallback)((async()=>{f(zc.JOINING),d();try{const t=await i(e,Kl.JO.DEEPLINKING,p);t&&(f(zc.JOINED),u.send((0,mc.X)({session_id:m?.sessionId,join_type:Kl.JO.DEEPLINKING,join_url:t.joinSessionUri,participation_mode:p})),b!==Gc.l.FREE&&s((0,$.cQ)()))}catch(e){f(zc.FAILED),e instanceof Error&&u.send((0,mc.X)({session_id:m?.sessionId,error_category:e.name,error_data:e.message})),s((0,$.A9)(Gl.EL.ERROR))}}),[s,u,b,i,e,d,m?.sessionId,p]),v=(0,oe.Zp)(),k=(0,de.W)(),C=(0,Et.k)(!0),j=(0,a.useMemo)((()=>{const e=new URL(C.url);return e.searchParams.set("ref","jam"),e}),[C.url]),w=(0,a.useCallback)((()=>{k({intent:"upgrade-to-premium",type:"click"}),!1===C.isExternal?v("/premium?ref=jam"):l(j.href),s((0,$.cQ)())}),[s,v,k,l,C.isExternal,j]),N=(0,a.useCallback)((()=>{s((0,$.cQ)())}),[s]);if(!m)return(0,R.jsx)(Bc,{});const S=m.sessionMembers.find((e=>e.id===m.sessionOwnerId)),O=m.sessionMembers.map(Fc.c);return y===zc.JOINED&&b===Gc.l.FREE?(0,R.jsx)(oc,{imageElement:(0,R.jsx)(gc.g,{users:O,size:"xlarge",maxSlots:3}),title:(0,R.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:c.Ru.get("web-player.social-connect.join-modal.success.title",{host:(0,R.jsx)("span",{className:kc,children:S?.displayName??""})})}),subtitle:(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Cc,children:c.Ru.get("web-player.social-connect.join-modal.success.subtitle")}),confirmButtonText:c.Ru.get("web-player.social-connect.generic-error.confirmation-button"),onConfirm:()=>{s((0,$.cQ)())}}):(0,R.jsx)(oc,{imageElement:(0,R.jsx)(gc.g,{users:O,size:"xlarge",maxSlots:3}),title:(0,R.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:c.Ru.get("web-player.social-connect.join-modal.title",{host:(0,R.jsx)("span",{className:kc,children:S?.displayName??""})})}),subtitle:(0,R.jsx)(Lc,{sessionType:p,setSessionType:h,hostName:S?.displayName??""}),confirmButtonText:x?c.Ru.get("web-player.social-connect.premium-upsell.confirmation-button"):c.Ru.get("web-player.social-connect.join-modal.button-primary"),confirmButtonIcon:x?uc.H:void 0,onConfirm:x?w:E,cancelButtonText:c.Ru.get("web-player.social-connect.join-modal.button-tertiary"),onCancel:N,disabled:y===zc.JOINING,footerText:c.Ru.get("web-player.social-connect.join-modal.privacy-notice")})};var Kc=s(46238);const qc=({joinToken:e})=>{const t=(0,r.wA)(),{logGetAppClick:s}=(()=>{const{spec:e,logger:t}=(0,Ke.r)(Kc.e,{});return{logGetAppClick:(0,a.useCallback)((()=>{const s=e.downloadButtonFactory().hitNavigateToExternalUri({destination:(0,Fn.rw)().href});t.logInteraction(s)}),[t,e])}})(),{getSessionInfo:n}=(0,Ol.D)(),[i,l]=(0,a.useState)(null),[d,u]=(0,a.useState)([]);(0,a.useEffect)((()=>{n(e).then((e=>{if(e){const t=e?.sessionOwnerId,s=e?.sessionMembers.find((e=>e.id===t)),a=e?.sessionMembers.map(Fc.c)??[];if(u(a),!s)return;l(s.displayName)}else t((0,$.A9)(Gl.EL.SESSION_ENDED))}))}),[n,e,t]);const m=(0,a.useCallback)((()=>{t((0,$.cQ)())}),[t]),g=(0,a.useCallback)((()=>{s();const a=(0,le.MZ)(e);window.open((0,Fn.rw)(a).href),t((0,$.cQ)())}),[t,e,s]);return(0,R.jsx)(oc,{imageElement:(0,R.jsx)(gc.g,{users:d,size:"xlarge",maxSlots:3}),title:(0,R.jsx)(o.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:c.Ru.get("web-player.social-connect.redirect-modal.title",{host:i??""})}),subtitle:c.Ru.get("web-player.social-connect.redirect-modal.sub-title"),confirmButtonText:c.Ru.get("web-player.social-connect.redirect-modal.confirmation-button"),onConfirm:g,cancelButtonText:c.Ru.get("web-player.social-connect.redirect-modal.cancel-button"),onCancel:m})},Qc=()=>{const e=(0,r.wA)(),{isOpen:t,modalType:s,joinToken:n}=(0,r.d4)((e=>e.ui.jamModalState)),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(void 0);return(0,a.useEffect)((()=>{switch(c(void 0),s){case Gl.EL.INVITE:o((0,R.jsx)(dc,{setContentLabel:c}));break;case Gl.EL.JOIN:if(!n)throw new Error("trying to open JoinModal without providing a joinToken!");o((0,R.jsx)(Hc,{joinToken:n,setContentLabel:c}));break;case Gl.EL.REDIRECT:if(!n)throw new Error("trying to open RedirectModal without providing a joinToken!");o((0,R.jsx)(qc,{joinToken:n}));break;case Gl.EL.LEAVE_SESSION:case Gl.EL.END_SESSION:case Gl.EL.REMOVE_PARTICIPANT:case Gl.EL.SESSION_ENDED:case Gl.EL.MOBILE_ONLY:case Gl.EL.ERROR:o((0,R.jsx)(Xl,{isOpen:t,dialogType:s}));break;default:o(null)}}),[t,s,n]),s?(e=>e===Gl.EL.LEAVE_SESSION||e===Gl.EL.END_SESSION||e===Gl.EL.REMOVE_PARTICIPANT||e===Gl.EL.SESSION_ENDED||e===Gl.EL.MOBILE_ONLY||e===Gl.EL.ERROR)(s)?i:(0,R.jsx)(u.A,{isOpen:t,onRequestClose:()=>e((0,$.cQ)()),shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animated:!0,contentLabel:l,children:i}):null},Yc=()=>null,Zc=()=>null;var $c=s(2983),Jc=s(74404);function Xc(e,t){if(e){const s=(0,le.o_)(e,{parseUnknown:!0});if(s){t(s.toURLPath(!0))}else{const t=document.createElement("a");t.href=e,t.target="_blank",t.click()}}}const ed=(e,t)=>s=>{switch(s.action){case"DISMISS":default:return void e();case"URL":{const{url:a=""}=s;return Xc(a,t),void e()}case"EXTERNAL_URL":{const{url:e=""}=s;return void Xc(e,t)}}};var td=s(47173),sd=s(29182);function ad(e,t,s,a){if(e&&""===e.innerHTML){const r=function(e,t,s){const a=(0,td.kp)();if(a){const r=a.createIframe(e,s);return r.setAttribute("data-testid","inAppMessageIframe"),r.style.borderRadius="5px",r.style.margin="auto",r.style.opacity="0",r.style.transition="opacity 150ms linear",r.addEventListener("load",(()=>{const{contentWindow:e,contentDocument:s}=r;e&&function(e){e&&e.focus()}(e),s&&(sd.M.setup(s),function(e,t){const s=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),a=s[0],r=s[s.length-1];e.addEventListener("keydown",(e=>{"Tab"===e.key&&e.target===r&&(e.preventDefault(),a.focus()),e.shiftKey&&"Tab"===e.key&&r.focus(),"Escape"!==e.key&&27!==e.keyCode||t()}),!0)}(s,t)),r.style.opacity="1"})),r}return null}(t,s,a);r&&e.appendChild(r)}}function rd({message:e}){const t=(0,a.useRef)(null);return function(e,t){const s=(0,r.wA)(),n=(0,oe.Zp)(),i=(0,a.useCallback)((()=>{s((0,Jc.yv)())}),[s]);(0,a.useEffect)((()=>{const s=t.current;return ad(s,e,i,ed(i,n)),()=>{!function(e){e&&(e.innerHTML="")}(s)}}),[e,i,s,t,n])}(e,t),(0,R.jsx)("div",{"data-testid":"inAppMessageContainer",ref:t})}function nd(){return(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(id,{})})}function id(){const e=(0,n.NC)(vt.e6f),{message:t,dismissMessage:s}=function(){const e=(0,r.wA)();return{message:(0,r.d4)((e=>e.inAppMessaging?.message)),dismissMessage:(0,a.useCallback)((()=>{e((0,Jc.yv)())}),[e])}}(),i=!!t&&t.format===td.m0;return e?(0,R.jsx)(u.A,{animated:!0,contentLabel:"In-App Message Modal",isOpen:i,onRequestClose:s,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!1,children:i&&!!t&&(0,R.jsx)(rd,{message:t})}):null}var od=s(84577);const ld=(0,a.lazy)((async()=>{const{DsaModal:e}=await Promise.all([s.e(4151),s.e(9668)]).then(s.bind(s,9668));return{default:e}})),cd=(0,a.lazy)((async()=>{const{YourSoundCapsuleModal:e}=await Promise.all([s.e(4151),s.e(4574)]).then(s.bind(s,96905));return{default:e}})),dd=a.memo((({isDesktop:e})=>{const t=(0,n.NC)(vt.SeK,{loadingValue:!1}),s=(0,n.NC)(vt.J1t,{loadingValue:!1}),i=(0,a.useRef)(null),o=(0,r.d4)((e=>e.ui.deletePlaylistDialog)),l=(0,r.d4)((e=>e.ui.deleteFolderDialog)),c=(0,r.d4)((e=>e.ui.removeFromLibraryDialog)),d=(0,r.d4)((e=>e.ui.premiumDialog)),u=(0,r.d4)((e=>e.ui.loginToListenDialog)),m=(0,r.d4)((e=>e.ui.signupToListenDialog)),g=(0,r.d4)((e=>e.ui.improvedSignupPromptDialog)),p=(0,r.d4)((e=>e.ui.removeDownloadsDialog)),h=(0,r.d4)((e=>e.ui.clearCacheDialog)),b=(0,r.d4)((e=>e.ui.renameFolderModal)),y=(0,r.d4)((e=>e.ui.removeDownloadConfirmationDialog)),f=(0,r.d4)((e=>e.ui.artistAboutDialog)),E=(0,r.d4)((e=>e.ui.yourDJUpsellDialog)),v=(0,r.d4)((e=>e.ui.dsaDialog)),k=(0,r.d4)((e=>e.ui.trackCreditsModal)),C=(0,r.d4)((e=>e.ui.tunaModal)),j=(0,r.d4)((e=>e.ui.revertChangesTunaDialog)),w=(0,n.NC)(vt.wXB),N=(0,r.d4)(od.fl),S=(0,r.d4)(od.ml);return(0,R.jsxs)(R.Fragment,{children:[o.isOpen&&(0,R.jsx)(Rr.pZ,{value:"delete-playlist-modal",children:(0,R.jsx)(fe,{})}),l.isOpen&&(0,R.jsx)(Rr.pZ,{value:"delete-folder-modal",children:(0,R.jsx)(me,{})}),c.isOpen&&(0,R.jsx)(Rr.pZ,{value:"delete-folder-modal",children:(0,R.jsx)(ja,{})}),d.isOpen&&(0,R.jsx)(Rr.pZ,{value:"premium-modal",children:(0,R.jsx)(fa,{})}),u.isOpen&&(0,R.jsx)(Rr.pZ,{value:"login-to-listen-modal",children:(0,R.jsx)(Ft,{})}),m.isOpen&&(0,R.jsx)(Rr.pZ,{value:"signup-to-listen-modal",children:(0,R.jsx)(Ir,{})}),g.isOpen&&(0,R.jsx)(Qn,{uri:g.uri}),p.isOpen&&(0,R.jsx)(dl,{}),h.isOpen&&(0,R.jsx)(ul,{}),b.isOpen&&(0,R.jsx)(Aa,{name:b.name,onRename:b.handleRename}),y.isOpen&&(0,R.jsx)(hi,{...y}),f.isOpen&&(0,R.jsx)($n,{}),E.isOpen&&(0,R.jsx)(Rr.pZ,{value:"your-dj-upsell-modal",children:(0,R.jsx)($c.tW,{})}),(0,R.jsx)(Qc,{}),(0,R.jsx)(bl,{}),(0,R.jsx)($t,{}),(0,R.jsx)(Yt,{}),(0,R.jsx)(sl,{}),(0,R.jsx)(li,{}),t&&v.isOpen&&v.item&&(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(ld,{item:v.item})}),(0,R.jsx)(gr,{}),(0,R.jsx)(En,{}),(0,R.jsx)(ln,{}),(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(ma,{})}),(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(Zi,{})}),(0,R.jsx)(Ae.kS,{}),(0,R.jsx)(Ie,{}),(0,R.jsx)(xt,{}),(0,R.jsx)(ie,{}),e&&(0,R.jsx)(ke,{}),(0,R.jsx)(x,{}),(0,R.jsx)(bi.A,{languageSelectionModalRef:i}),(0,R.jsx)(nd,{}),(0,R.jsx)(_n,{}),(0,R.jsx)(Sn,{}),(0,R.jsx)(Y,{}),(0,R.jsx)(ut,{}),(0,R.jsx)(gi,{}),(0,R.jsx)(Ma,{}),(0,R.jsx)(el,{}),(0,R.jsx)(qe,{}),(0,R.jsx)(Fl,{}),N&&!e&&(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(cd,{})}),k.isOpen&&(0,R.jsx)(tn,{}),(0,R.jsx)("div",{ref:i}),w&&C.isOpen&&(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(Zc,{})}),w&&j.isOpen&&(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(Rr.pZ,{value:"revert-changes-tuna-modal",children:(0,R.jsx)(Yc,{})})}),S&&s&&(0,R.jsx)(jn,{})]})}))},32594:(e,t,s)=>{s.d(t,{T:()=>n});var a=s(71306),r=s(86070);const n=({color:e=a.Ql9,height:t="30",className:s})=>(0,r.jsxs)("svg",{className:s,width:"114",role:"img",height:t,viewBox:"0 0 114 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{id:"spotify-premium-logo-icon",children:"Spotify logo"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.7835 10.7851C37.7835 10.6921 37.86 10.6156 37.9545 10.6156L40.1039 10.6246C41.8485 10.6246 42.849 11.4421 42.849 12.9076C42.849 14.2486 41.745 15.1501 40.1039 15.1501L37.9545 15.1411C37.86 15.1411 37.7835 15.0646 37.7835 14.9701V10.7851ZM40.296 8.11502L35.232 8.10602C35.1375 8.10602 35.061 8.18252 35.061 8.27552V21.8085C35.061 21.903 35.1375 21.9795 35.232 21.9795H37.614C37.707 21.9795 37.7835 21.903 37.7835 21.8085V17.631L40.026 17.64C43.4175 17.64 45.6105 15.759 45.6105 12.81C45.6105 9.95852 43.524 8.11502 40.296 8.11502Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M58.4025 13.4759C59.9115 13.4759 60.6195 14.6519 60.7964 15.8174H55.956C56.217 14.3879 57.1605 13.4759 58.4025 13.4759ZM58.4218 11.217C55.4805 11.217 53.262 13.5765 53.262 16.704V16.743C53.262 19.911 55.5375 22.2105 58.6725 22.2105C60.264 22.2105 61.599 21.6705 62.6473 20.604C62.718 20.5305 62.8723 20.355 62.9775 20.2335C63.039 20.163 63.0315 20.058 62.961 19.995L61.5795 18.7695C61.5165 18.714 61.4235 18.714 61.362 18.7695C61.212 18.9075 60.957 19.14 60.93 19.161C60.24 19.7115 59.553 19.953 58.7115 19.953C57.2985 19.953 56.268 19.098 55.98 17.7075H63.4305L63.4485 17.4975C63.4663 17.28 63.4831 17.079 63.4831 16.878C63.4831 14.061 61.9185 11.217 58.4218 11.217Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M76.7895 11.217C75.414 11.217 74.289 11.76 73.3575 12.876C72.7245 11.8035 71.6474 11.217 70.296 11.217C68.8529 11.217 67.968 11.9145 67.356 12.645V11.5995C67.356 11.5065 67.2795 11.43 67.1865 11.43H64.8435C64.749 11.43 64.6724 11.5065 64.6724 11.5995V21.8085C64.6724 21.903 64.749 21.9795 64.8435 21.9795H67.1865C67.2795 21.9795 67.356 21.903 67.356 21.8085V16.0665C67.356 14.622 68.1465 13.6875 69.3675 13.6875C70.5719 13.6875 71.2635 14.5275 71.2635 15.99V21.8085C71.2635 21.903 71.34 21.9795 71.433 21.9795H73.776C73.8705 21.9795 73.9469 21.903 73.9469 21.8085V16.047C73.9469 14.5695 74.6985 13.6875 75.9585 13.6875C77.5245 13.6875 77.8529 14.9505 77.8529 16.0095V21.8085C77.8529 21.903 77.9295 21.9795 78.024 21.9795H80.367C80.4615 21.9795 80.5365 21.903 80.5365 21.8085V15.294C80.5365 12.741 79.1355 11.217 76.7895 11.217Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93.0376 17.361C93.0376 18.795 92.2021 19.7205 90.9106 19.7205C89.6131 19.7205 88.8991 18.897 88.8991 17.4V11.5995C88.8991 11.5065 88.8226 11.43 88.7279 11.43H86.3849C86.2921 11.43 86.2156 11.5065 86.2156 11.5995V18.096C86.2156 20.622 87.6736 22.191 90.0211 22.191C91.2421 22.191 92.2321 21.7155 93.0376 20.7405V21.8085C93.0376 21.903 93.1141 21.9795 93.2071 21.9795H95.5501C95.6446 21.9795 95.7211 21.903 95.7211 21.8085V11.5995C95.7211 11.5065 95.6446 11.43 95.5501 11.43H93.2071C93.1141 11.43 93.0376 11.5065 93.0376 11.5995V17.361Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M109.308 11.217C107.934 11.217 106.808 11.76 105.876 12.876C105.243 11.8035 104.166 11.217 102.815 11.217C101.373 11.217 100.487 11.9145 99.876 12.6435V11.5995C99.876 11.5065 99.7995 11.43 99.705 11.43H97.362C97.269 11.43 97.1925 11.5065 97.1925 11.5995V21.8085C97.1925 21.903 97.269 21.9795 97.362 21.9795H99.705C99.7995 21.9795 99.876 21.903 99.876 21.8085V16.0665C99.876 14.622 100.665 13.6875 101.888 13.6875C103.092 13.6875 103.782 14.5275 103.782 15.99V21.8085C103.782 21.903 103.859 21.9795 103.953 21.9795H106.296C106.389 21.9795 106.466 21.903 106.466 21.8085V16.047C106.466 14.5695 107.217 13.6875 108.477 13.6875C110.045 13.6875 110.373 14.9505 110.373 16.0095V21.8085C110.373 21.903 110.45 21.9795 110.543 21.9795H112.886C112.98 21.9795 113.057 21.903 113.057 21.8085V15.294C113.057 12.741 111.656 11.217 109.308 11.217Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.7354 11.232H52.4204C51.0464 11.2425 49.9229 11.919 49.1909 13.167V11.5995C49.1909 11.5065 49.1144 11.43 49.0199 11.43H46.6769C46.5824 11.43 46.5074 11.5065 46.5074 11.5995V21.8085C46.5074 21.903 46.5824 21.9795 46.6769 21.9795H49.0199C49.1144 21.9795 49.1909 21.903 49.1909 21.8085V17.922C49.1909 15.5085 50.3533 14.106 52.3859 14.0565L52.3889 14.055H52.7354C52.8119 14.055 52.8734 13.9935 52.8734 13.9155V11.3715C52.8734 11.295 52.8119 11.232 52.7354 11.232Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.5339 11.4975H82.2195C82.1265 11.4975 82.05 11.574 82.05 11.667V21.768C82.05 21.8625 82.1265 21.9375 82.2195 21.9375H84.5339C84.6285 21.9375 84.7035 21.8625 84.7035 21.768V11.667C84.7035 11.574 84.6285 11.4975 84.5339 11.4975Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M83.388 6.8985C82.4715 6.8985 81.7275 7.641 81.7275 8.5575C81.7275 9.4755 82.4715 10.2195 83.388 10.2195C84.306 10.2195 85.0485 9.4755 85.0485 8.5575C85.0485 7.641 84.306 6.8985 83.388 6.8985Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.8725 13.2975C19.038 10.4265 11.0625 10.1625 6.44685 11.5635C5.7045 11.7885 4.9215 11.37 4.6965 10.629C4.4715 9.88648 4.89 9.10348 5.6325 8.87848C10.9305 7.26898 19.7385 7.58098 25.305 10.884C25.9723 11.28 26.19 12.141 25.7955 12.807C25.3995 13.473 24.5385 13.6935 23.8725 13.2975ZM23.715 17.55C23.376 18.1005 22.656 18.273 22.1055 17.9355C18.075 15.4575 11.9279 14.7405 7.15953 16.188C6.54003 16.374 5.88753 16.026 5.70003 15.408C5.51253 14.79 5.86203 14.1375 6.48003 13.95C11.9279 12.297 18.7005 13.098 23.3295 15.9435C23.88 16.281 24.0525 17.001 23.715 17.55ZM21.8789 21.6345C21.609 22.077 21.0345 22.215 20.5935 21.9465C17.0715 19.794 12.6375 19.3065 7.41602 20.5005C6.91352 20.616 6.41102 20.2995 6.29702 19.797C6.18152 19.293 6.49502 18.792 7.00052 18.678C12.714 17.3715 17.6159 17.934 21.5685 20.349C22.0095 20.619 22.149 21.195 21.8789 21.6345ZM15 0C6.7155 0 0 6.7155 0 15C0 23.2845 6.7155 30 15 30C23.2845 30 30 23.2845 30 15C30 6.7155 23.2845 0 15 0Z",fill:e})]})},67307:(e,t,s)=>{s.d(t,{p:()=>r});var a=s(30758);function r(){const[e,t]=(0,a.useState)(!1);return[e,(0,a.useCallback)((()=>{t(!0),setTimeout((()=>t(!1)),0)}),[t])]}},36885:(e,t,s)=>{s.d(t,{d:()=>U});var a=s(30758);function r(){return"webkitRequestAnimationFrame"in window}function n(){return!!window?.CSS?.supports}function i(){return!n()||CSS.supports("-webkit-border-vertical-spacing","0")}const o=56.1124478168614,l=56.1124478168614,c=56.1124478168614,d=56.11244781686139;function u(){return Math.hypot(-24.42,-50.519999999999925)}const m=33,g=33,p=37,h=37;function b(){return eval.toString().length}var R=s(9856),x=s.n(R);function y(){return"Chrome"===x().parse(navigator.userAgent).browser.name}function f(){return"Firefox"===x().parse(navigator.userAgent).browser.name}var E=s(15443),v=s(2976);function k(){return b()===p&&u()===d&&(!n()||CSS.supports("-moz-box-sizing","content-box"))&&"mozInnerScreenX"in window}function C(){return!(y()&&!(window.chrome&&b()===m&&u()===o&&i()&&r()))&&(!(f()&&!k())&&(!!(!(0,v.n)()||b()===h&&u()===c&&i()&&r())&&!!(!(0,E.k)()||b()===g&&u()===l&&i()&&r())))}function j(){const{userAgent:e,appVersion:t}=navigator,s=t??"";return/headless/i.test(e)||/headless/i.test(s)}async function w(){return navigator.webdriver||j()||function(){const e=Object.keys(document);for(const t of e)if(t.startsWith("$cdc_"))return!0;return!1}()||""===navigator.languages||!(!navigator.plugins||navigator.plugins.length)||await async function(){if(!("permissions"in navigator))return!1;const e=await navigator.permissions.query({name:"notifications"});return"denied"===window?.Notification?.permission&&"prompt"===e.state}()}var N=s(70966),S=s(65835);function O(){return(0,N.D)()===S.f.ChromeOS}function _(){if(!("platform"in navigator))return!0;if(O())return!0;const{platform:e}=navigator,t=function(e){const[t]=e.split(" "),s={MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"};return t in s?s[t]:""}(e);if(!t)return!0;const{os:s}=x().parse(navigator.userAgent);return t===s.name}let T,I=function(e){return e.Ok="0",e.Warning="1",e.Error="2",e}({});const A=async()=>(T=T??await async function(){return{headless:await w()?I.Error:I.Ok,browser:C()?I.Ok:I.Error,os:_()?I.Ok:I.Error}}(),T);const L=async()=>{if(navigator.webdriver)return!1;if(j())return!1;if(y()&&!await async function(){if(!window.chrome)return!1;if(!navigator.plugins?.length)return!1;if(""===navigator.languages)return!1;if(b()!==m)return!1;const e=await navigator.permissions.query({name:"notifications"});return"denied"!==window?.Notification?.permission||"prompt"!==e.state}())return!1;if(f()&&b()!==p)return!1;if((0,v.n)()&&b()!==h)return!1;if((0,E.k)()&&b()!==g)return!1;const{userAgent:e}=navigator;if(!function(e,t){if(!("platform"in t))return!0;if(O())return!0;const{platform:s}=t,a=function(e){const[t]=e.split(" "),s={MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"};return t in s?s[t]:""}(s);if(!a)return!0;const{os:r}=x().parse(e);return a===r.name}(e,navigator))return!1;const t=Object.keys(document);for(const e of t)if(e.startsWith("$cdc_"))return!1;return!0};let D;const M=async()=>(D=D??await L(),D);function U(){const e=(0,a.useRef)(void 0),t=(0,a.useRef)(!1),s=(0,a.useRef)(!1),r=(0,a.useRef)({}),n=(0,a.useCallback)((async a=>{r.current=await A(),a?await M()&&a.isTrusted?"click"!==a.type?e.current=!0:s.current?e.current=t.current:e.current=!0:e.current=!1:e.current=await M()}),[]);return(0,a.useEffect)((()=>{function e(){t.current=!0}function a(e){s.current="mouse"===e.pointerType}return document.addEventListener("mousemove",e),document.addEventListener("pointerdown",a),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("pointerdown",a)}}),[]),{isTrustedRef:e,isTrustedFn:n,metadataRef:r}}},13961:(e,t,s)=>{s.d(t,{X:()=>u,A:()=>z});var a=s(30758),r=s(49217),n=s(72119),i=s(11808),o=s(42750),l=s(26119);const c="KsnGjjEeMb2miriJrkjW";var d=s(86070);const u=()=>{const e=i.Ru.getLocaleForTranslation(),t=l.IB[e]??l.IB.en,s=(0,o.ZZ)(),u=(0,a.useCallback)((()=>{s({type:"OPEN"})}),[s]);return(0,d.jsx)("div",{className:c,children:(0,d.jsx)(r.n,{iconLeading:n.d,size:"small",onClick:u,"data-testid":"language-selection-button",children:t.displayName})})};var m=s(8143),g=s(41978),p=s(12783),h=s(21953),b=s(61544),R=s(80460),x=s(32712),y=s(71817),f=s(53209),E=s(39554);const v="ZpqHX3kvsJIsR1QIc4kf",k=({children:e,locale:t,onClick:s,type:a="button"})=>{const r=t===x.Xn,n=(0,E.vf)(window.location.pathname),o=(0,b.o_)(window.location.pathname),l=(0,R.W)({type:"route",uri:n?y.c.HOME:o?.toURI()}),c={className:v,id:t,onClick:e=>(e=>{if("button"===a){e.preventDefault();const t=new URL(window.location.href);window.location.href.includes("locale")&&t.searchParams.delete("locale"),window.location.href=t.href}s(t)})(e),"data-testid":`language-option-${t}`};if("link"===a){const s=(0,f.ll)(window.location.pathname,!r),a=(0,f.hF)(s,(0,i.a7)(t).baseName),n=l?a:window.location.pathname,o=(e=>e.endsWith("/")?e.slice(0,-1):e)(`${window.location.origin}${n}`);return(0,d.jsx)("a",{href:o,...c,children:e})}return(0,d.jsx)("button",{...c,children:e})},C="eYLSfS4EKfwsdTsItWkY",j=({style:e,children:t})=>(0,d.jsx)("div",{className:C,style:e,children:t});var w=s(97500),N=s.n(w),S=s(81987),O=s(62943);const _="KPuW9eE4auKgVgMtPZoH",T="zCedVxWmwaJhPIGzJixP",I="qzuG9AHNXHQrOGF06r9A",A="ZgjCz5A7qOyprtvcLK8y",L="BSwvSvqHiQUVuim4Eidv",D="TpluDuF12UKv3IIq_VDu",M=({onClose:e,children:t})=>{const s=(0,a.useRef)(null),{isOpen:r}=(0,o.iL)(),n=(0,S.NC)(O.rW);return(0,d.jsx)("div",{"data-testid":"language-selection-modal",className:N()(_,{"circular-sp-vietnamese":n,[T]:r}),onClick:t=>{t.target===s.current&&e()},role:"presentation",ref:s,children:t})},U=({ariaDescribedBy:e,ariaLabelledBy:t,children:s})=>{const{isOpen:a}=(0,o.iL)();return(0,d.jsx)("div",{className:I,role:"dialog",hidden:!a,"aria-modal":!0,"aria-labelledby":t,"aria-describedby":e,children:s})};var P=s(43178);const B=({onClose:e})=>(0,d.jsx)("button",{"data-testid":"close-button",className:D,onClick:()=>{e()},children:(0,d.jsx)(P.M,{size:"small","aria-label":i.Ru.get("close")})});var F=s(57402),W=s(77339),V=s(26969),G=s(95625);const z=({languageSelectionModalRef:e})=>{const t=(0,a.useRef)(null),[s,r]=(0,a.useState)("0"),n=(0,o.ZZ)(),c=(0,g.d4)(F.MU),u=(0,a.useCallback)((()=>{n({type:"CLOSE"})}),[n]),{isOpen:b}=(0,o.iL)(),R=(0,a.useCallback)((()=>{r(`${t.current?.getBoundingClientRect().height}px`)}),[r]),x=e=>{var t;(0,G.n0)({name:"sp_locale",value:e,domain:(t="open.spotify.com",t.substring(t.indexOf("."))),days:365}),u()};var y;if(y=u,(0,a.useEffect)((()=>{const e=e=>{"Escape"===e.key&&y()};return window.addEventListener("keyup",e,!1),()=>window.removeEventListener("keyup",e)})),(0,V.w)({refOrElement:t,observeOnly:"height",onResize:R}),(0,a.useEffect)((()=>{R()}),[R]),!e.current)return null;const f="language-selection-title",v="language-selection-subtitle",C={"--header-height":s};return(0,m.createPortal)((0,d.jsx)(W.s,{active:b,children:(0,d.jsx)("div",{children:(0,d.jsx)(M,{onClose:u,children:(0,d.jsxs)(U,{ariaLabelledBy:f,ariaDescribedBy:v,children:[(0,d.jsxs)("div",{className:A,ref:t,children:[(0,d.jsxs)("div",{className:L,children:[(0,d.jsx)(p.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",id:f,paddingBottom:h.v4,children:i.Ru.get("i18n.language-selection.title")}),(0,d.jsx)(p.E,{as:"p",variant:"bodyMedium",semanticColor:"textBase",id:v,paddingBottom:h.CD,children:i.Ru.get("i18n.language-selection.subtitle")})]}),(0,d.jsx)(B,{onClose:u})]}),(0,d.jsx)(j,{style:{...C},children:l.Np.map((e=>{const t=(0,i.a7)(e).baseName,s=(0,E.p)({localeFeatureFlag:c,urlLocale:t,type:"locale"});return(0,d.jsxs)(k,{onClick:x,locale:e,type:s?"link":"button",children:[(0,d.jsx)(p.E,{semanticColor:"textBase",children:l.IB[e].displayName}),(0,d.jsx)(p.E,{children:l.IB[e].displayNameEn})]},e)}))})]})})})}),e.current)}},23003:(e,t,s)=>{s.d(t,{Q:()=>n,s:()=>i});var a=s(74987),r=s(38481);function n(e){return e.build().withHost(r.D8).withPath("/verifications/").withEndpointIdentifier("/verifications/").send()}function i(e,t){return e.build().withMethod(a.Method.PUT).withHost(r.D8).withPath(`/verifications/${t}/`).withEndpointIdentifier("/verifications/{verificationId}/").send()}}}]);
//# sourceMappingURL=xpui-root-dialogs.js.map