"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[8420],{94119:(e,t,n)=>{n.r(t),n.d(t,{CulturalMomentHub:()=>G,default:()=>J});var s=n(59496),l=n(84875),i=n.n(l),r=n(61506),a=n(61742),o=n(74788),c=n(16596),u=n(62554),d=n(21615),m=n(95031),p=n(12757),g=n(20700),h=n(96223),x=n(4637);const f=({image:e,color:t=d.k77,title:n})=>{const s=void 0===e?p.fR.SMALL:p.fR.DEFAULT,l=e?.uri?[{url:e.uri}]:[];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(p.gF,{backgroundImages:l,backgroundColor:t,size:s,children:[(0,x.jsx)(g.W,{children:n?(0,x.jsx)(h.i,{text:n}):null}),(0,x.jsx)(p.sP,{children:n?(0,x.jsx)(p.xd,{children:n}):null})]}),(0,x.jsx)(m.H,{color:t})]})};var b=n(65562),j=n(18767),y=n(38934),v=n(68699);const D=e=>"number"==typeof e?e:0,A=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const w=(e,t,n)=>{if(void 0===e.id)return null;const s=t.map(((e,t)=>function(e,t){const n=e.component?.id,s=e.id;if(void 0===n||void 0===s)return null;const l=e.events?.click?.data?.uri,i=e.images?.main?.uri,r=i?[{url:i}]:[];switch(n){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===l?null:(0,x.jsx)(y.B,{uri:l,name:e.text?.title??"",images:r,showImages:r,description:e.text?.description??e.text?.subtitle??"",durationMilliseconds:D(e.custom?.duration),releaseDate:A(e.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},l);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===l?null:(0,x.jsx)(v.Z,{uri:l,name:e.text?.title??"",images:r,description:e.text?.description??"",authorName:e.text?.subtitle??"",index:t},l);default:return null}}(e,t))).flatMap((e=>e?[e]:[]));if(0===s.length)return null;const l=(0,b.EC)(e.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,x.jsx)(j.q,{title:e.text?.title??"",total:s.length,seeAllUri:l,index:n,id:e.id,seeAllLabel:e.text?.accessory,children:s})},I=e=>{const t=(e=>{const t=Array();let n,s=Array();return e.forEach((e=>{"culturalmoments:sectionHeaderWithAction"===e.component?.id?(n&&0!==s.length&&t.push({heading:n,components:s}),n=e,s=Array()):n&&("culturalmoments:carousel"===e.component?.id||"glue2:carousel"===e.component?.id?e.children?.forEach((e=>{s.push(e)})):s.push(e))})),n&&0!==s.length&&t.push({heading:n,components:s}),t})(e);return(0,x.jsx)(x.Fragment,{children:t.map(((e,t)=>w(e.heading,e.components,t)))})};var k=n(22125),C=n(39222),N=n(89513),O=n(7936),R=n(33658),S=n(44430);const F="pgo3GiB844kDFl6Qbo05",M="RhOeeOpI4AOwx0QAVneD",B="XSE6HhcsNgvOjU0xmuTN";var U=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(U||{});const W=({spec:e})=>{const t=a.ag.getLocale(),n=(0,u.$P)(),s=(0,u.Wi)(e),l=t=>{if(t===U.ANDROID){const s=e.googleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(s)}else{const s=e.appleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(s)}};return(0,x.jsxs)(k.x,{variant:"tinted",style:{width:600},ref:s,children:[(0,x.jsx)(C.D,{as:"p",variant:"cello",style:{marginBottom:N.dly},children:a.ag.get("web-player.cultural-moments.unsupportedHeading")}),(0,x.jsx)(C.D,{as:"p",variant:"mesto",style:{marginBottom:N.o78},children:a.ag.get("web-player.cultural-moments.unsupportedDescription")}),(0,x.jsxs)("div",{className:i()(B),children:[(0,x.jsx)(R.default,{to:U.IOS,target:"_blank",onClick:()=>l(U.IOS),children:(0,x.jsx)("img",{src:(0,O.g)((0,S.b)(t)),alt:a.ag.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:F})}),(0,x.jsx)(R.default,{to:U.ANDROID,target:"_blank",onClick:()=>l(U.ANDROID),children:(0,x.jsx)("img",{src:(0,O.g)((0,S.V)(t)),alt:a.ag.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:i()(F,M)})})]})]})};var E=n(57110),L=n(6162),P=n(94322),H=n(33646);const _="BnW4ga5mfG9DYWXeADCL",T="RL_W31RCuHFbSTBORR6w",V="xfR1I0mMRPPSCr9FUSJs",G=({uri:e,id:t})=>{const{data:n,error:l,loading:d}=(0,H.J)(c.cW.D,[t]),{spec:m,UBIFragment:p}=(0,u.fU)(r.Y,{data:{identifier:e,uri:e}}),g=(0,s.useMemo)((()=>m.shelvesFactory()),[m]),h=(0,s.useMemo)((()=>m.mobilePromptFactory()),[m]);if(null===n||d||null!==l)return(0,x.jsx)(P.h,{hasError:null!==l,errorMessage:a.ag.get("error.generic")});const b=n.body.hubViewData?.body,j=n.body.hubViewData?.header,y=n.body.hubViewData?.title,v=j?.text?.title;return(0,x.jsxs)(p,{spec:m,children:[(0,x.jsx)(L.$,{children:y??""}),v?(0,x.jsx)("div",{className:_,children:(0,x.jsx)(f,{title:j?.text?.title,image:j.images?.background})}):null,(0,x.jsx)(p,{spec:g,children:(0,x.jsxs)("div",{className:V,children:[v&&(0,x.jsx)(E.I,{}),(0,x.jsx)("div",{className:i()("contentSpacing",T),children:(0,x.jsxs)(o.C,{children:[(0,x.jsx)(W,{spec:h}),b?I(b):null]})})]})})]})},J=G}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map