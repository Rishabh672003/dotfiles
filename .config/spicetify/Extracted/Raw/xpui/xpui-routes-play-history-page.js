"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1460],{10741:(e,i,t)=>{t.d(i,{u:()=>x});var s=t(97500),a=t.n(s),r=t(8159),l=t(13466),n=t(17930),c=t(45346),d=t(85513),o=t(79303),u=t(76748),m=t(86070);const x=({uri:e,src:i,playAriaLabel:t,onClick:s,isPlaying:x,isActive:h,isLocked:j,isEpisode:p,isVideo:y,spec:g})=>{const f=(0,c.W)(),b=(0,o.s)(),k=(0,r.YQ)((i=>{let t;if(f({type:"click",intent:x?"pause":"play"}),g){const i=g.playbackButtonFactory();let s;s=h&&x?i.hitPause({itemToBePaused:e}):h&&!x?i.hitResume({itemToBeResumed:e}):i.hitPlay({itemToBePlayed:e}),t=b.logInteraction(s)}s(i,t)}),d.d,{leading:!0,trailing:!1});return(0,m.jsxs)("div",{className:u.A.rowImageWithPlay,children:[(0,m.jsx)(n.e,{src:i,isEpisode:p,isVideo:y}),(0,m.jsx)(l.x,{className:a()(u.A.rowPlayPauseButton,u.A.rowImagePlayPauseButton),iconClassName:u.A.rowPlayPauseIcon,onClick:k,isPlaying:x,isLocked:j,playAriaLabel:t})]})}},19816:(e,i,t)=>{t.d(i,{U:()=>_});var s=t(30758),a=t(11808),r=t(91204),l=t(97500),n=t.n(l),c=t(9183),d=t(12783),o=t(3869),u=t(96554),m=t(64981),x=t(14294),h=t(66416),j=t(83542);const p="main-topBar-contentArea",y="queue-tabBar-headerIsCentered",g="queue-tabBar-headerItem",f="queue-tabBar-moreButton",b="queue-tabBar-moreButtonActive",k="yxf_6IsQEmHjijEBUMTP",v="queue-tabBar-active",P="queue-tabBar-headerItemLink",E="queue-tabBar-header",R="queue-tabBar-chevron";var w=t(86070);const I=({items:e,activeItemId:i})=>(0,w.jsx)(h.W,{children:e.map((e=>e.disabled?(0,w.jsx)(j.D,{disabled:!0,role:"menuitemradio",className:k,onClick:e.handleClick,children:e.title},e.uri):(0,w.jsx)(j.D,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===i,className:({isActive:e})=>n()(k,{[v]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var C=t(8159),A=t(34629),N=t(26969);const T=(0,s.memo)((function({isCentered:e,links:i,landmarkLabel:t,className:r}){const l=(0,s.useRef)(null),[h,j]=(0,s.useState)([]),[k,T]=(0,s.useState)(0),[S,U]=(0,s.useState)([]),B=function(){const[e,i]=(0,s.useState)(window.innerWidth),{scrollNodeChildRef:t}=(0,s.useContext)(A.bi),a=(0,C.YQ)((e=>{e?.width&&i(e.width)}),250);return(0,N.w)({refOrElement:t,observeOnly:"width",onResize:a}),e}()??1/0,{pathname:L}=(0,c.zy)(),O=i.find((e=>e.to===L));return(0,s.useEffect)((()=>{l.current&&T(l.current.clientWidth)}),[B]),(0,s.useEffect)((()=>{if(!l.current)return;const e=Array.from(l.current.children).map((e=>e.clientWidth));j(e)}),[i]),(0,s.useEffect)((()=>{if(!l.current)return;if(h.slice(0,-1).reduce(((e,i)=>e+i),0)<=k)return void U([]);const e=h.reduce(((e,i)=>e>i?e:i),0),i=[];let t=e;h.forEach(((e,s)=>{k>=t+e?t+=e:i.push(s)})),U(i)}),[k,h]),(0,w.jsx)("nav",{className:n()(r,p),"aria-label":t,children:(0,w.jsxs)("ul",{className:e?y:E,ref:l,children:[i.filter(((e,i)=>!S.includes(i))).map((e=>{const i=e?.render??(e=>e);return(0,w.jsx)(s.Fragment,{children:i((0,w.jsx)("li",{className:g,children:e.disabled?(0,w.jsx)("div",{className:P,children:(0,w.jsx)(d.E,{variant:"bodySmallBold",children:e.title})}):(0,w.jsx)(x.k,{end:!0,className:({isActive:e})=>n()(P,{[v]:e}),to:e.to,onClick:e.handleClick,children:(0,w.jsx)(d.E,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),S.length||0===h.length?(0,w.jsx)("li",{className:g,children:(0,w.jsx)(m.t,{renderInline:!0,menu:(0,w.jsx)(I,{items:i.filter(((e,i)=>S.includes(i))),activeItemId:O?.itemId}),children:(e,i,t)=>(0,w.jsxs)("button",{className:n()(f,{[b]:O}),type:"button",onClick:i,ref:t,children:[(0,w.jsx)(d.E,{variant:"bodySmallBold",children:O?O.title:a.Ru.get("more")}),e?(0,w.jsx)(o.J,{size:"small",className:R,"aria-hidden":"true"}):(0,w.jsx)(u.y,{size:"small",className:R,"aria-hidden":"true"})]})})}):null]})})}));var S=t(41695),U=t(67848);const B="XfifUos51Clgs5a6nf2m",L=()=>{const e=(0,U.U)(),i=(0,s.useCallback)((e=>(0,w.jsx)(r.u,{placement:"bottomEnd",arrow:"topStart",title:a.Ru.get("pick-and-shuffle.upsell.title.queue"),children:e})),[]),t=(0,s.useMemo)((()=>[{title:a.Ru.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:i,disabled:e},{title:a.Ru.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]),[e,i]);return(0,w.jsx)(S.g,{children:(0,w.jsx)(T,{className:B,links:t})})};var O=t(68361);const _=({children:e})=>{const i=(0,O.y)();return(0,w.jsxs)("section",{className:"contentSpacing",children:[e,i&&(0,w.jsx)(L,{})]})}},16909:(e,i,t)=>{t.r(i),t.d(i,{default:()=>ae});var s=t(15891),a=t(12783),r=t(11808),l=t(30377),n=t(30758),c=t(89661),d=t(45546),o=t(46288),u=t(61544),m=t(71588),x=t(99686),h=t(58345),j=t(49350),p=t(48100),y=t(84401),g=t(15739),f=t(9813),b=t(71801),k=t(10741),v=t(84075),P=t(72445),E=t(96849),R=t(40009),w=t(69905),I=t(92421),C=t(81783),A=t(98912),N=t(12274),T=t(48200),S=t(59355),U=t(58237),B=t(78074),L=t(95302),O=t(16972),_=t(42582),M=t(71817),q=t(94672),D=t(76748),G=t(86070);const F=n.memo((function({uri:e,name:i,duration_ms:t,index:s,imgUrl:a,artists:l,album:n,isExplicit:c,isMOGEFRestricted:d,contextItem:o,type:F}){const{isActive:H,isPlaying:K,triggerPlay:Q,togglePlay:W}=(0,_.P)({uri:e,pages:[{items:[{...o}]}]},{featureIdentifier:"history"}),z=F===M.c.TRACK,J=F===M.c.EPISODE,V=F===M.c.CHAPTER,Y=(0,O.T)(e),$=(0,T.g)(e),{badges:X,hasBadges:Z}=(0,q.b)({downloadAvailability:Y,isExplicit:c,isMOGEFRestricted:d}),ee=l?.map((e=>e.name)).join(r.Ru.getSeparator())||"";let ie;return J?ie=(0,G.jsx)(h.b,{uri:e,contextUri:e,showUri:n.uri}):V?ie=(0,G.jsx)(x.r,{uri:e}):z&&(0,u.Pk)(e)?ie=(0,G.jsx)(j.A,{uri:e,contextUri:e}):z&&(ie=(0,G.jsx)(p.P,{uri:e,contextUri:e,albumUri:n.uri,artists:l})),(0,G.jsx)(L.pZ,{value:"row",index:s,children:(0,G.jsx)(m.h,{menu:ie,children:(0,G.jsxs)(A.w,{uri:e,contextUri:e,index:s,ariaRowIndex:s,onTriggerPlay:()=>{Q()},isActive:H,isPlayable:$,ageRestricted:d,dragMetadata:{name:i,createdBy:ee},children:[(0,G.jsxs)(R.U,{ariaColIndex:0,children:[(0,G.jsx)(k.u,{uri:e,src:a,isPlaying:K,isActive:H,isLocked:!1,onClick:()=>{W()},isEpisode:(0,u.gH)(e),playAriaLabel:r.Ru.get("tracklist.a11y.play",i,ee)}),(0,G.jsxs)(v.l,{children:[(0,G.jsx)(C.p,{titleText:i,children:i}),Z&&(0,G.jsxs)(f.P,{children:[X.download&&(0,G.jsx)(S._,{}),X.explicit&&(0,G.jsx)(U.g,{}),X.nineteen&&(0,G.jsx)(B.q,{className:D.A.nineteen,size:16})]}),(0,G.jsx)(I.p,{children:(0,u.U_)(e)?(0,G.jsx)(g.l,{artists:l}):l[0]?.name??""})]})]}),(0,G.jsx)(w.o,{ariaColIndex:2,children:(0,G.jsx)(y.g,{nonInteractive:(0,u.Pk)(e),uri:n.uri,name:n.name,creatorUri:l?.[0]?.uri,children:n.name})}),(0,G.jsxs)(E.l,{ariaColIndex:1,children:[!V&&(0,G.jsx)(N.d,{uri:e,type:F}),(0,G.jsx)(b.P,{duration:t}),(0,G.jsx)(P.Y,{menu:ie,label:r.Ru.get("more.label.track",i,ee)})]})]})})})}),((e,i)=>e.uri===i.uri));var H=t(1878),K=t(63135),Q=t(82101),W=t(95421),z=t(95339),J=t(46159),V=t(36485),Y=t(3554);const $=n.memo((function({items:e}){const i=(0,n.useCallback)(((e,i)=>{const t=(0,Y.g)(e.images??[],{desiredSize:40});return(0,z.v)(e)?(0,G.jsx)(F,{index:i,uri:e.isLocal?e.uri:(0,H.a)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:M.c.TRACK},i+e.uri):(0,W.p)(e)?(0,G.jsx)(F,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:M.c.EPISODE},i+e.uri):(0,Q.d)(e)?(0,G.jsx)(F,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:M.c.CHAPTER},i+e.uri):((0,K.N)(e)||(0,J.v)(e)||(0,V.k)(e),(0,G.jsx)(c.qq,{height:`${d.FL}px`}))}),[]),t=(0,n.useMemo)((()=>[o.$.TITLE_AND_ARTIST,o.$.ALBUM_OR_PODCAST,o.$.DURATION]),[]),s=(0,n.useCallback)((e=>({uri:e.uri})),[]);return(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(L.pZ,{value:"play-history-tracklist",children:(0,G.jsx)(d.S4,{ariaLabel:"play-history",hasHeaderRow:!0,columns:t,renderRow:i,resolveItem:s,tracks:e,nrTracks:e.length,rowPlaceholder:c.qq,limit:50,columnPersistenceKey:"play-history-tracklist"})})})}));var X=t(67662);const Z="j0idwRGPXbi0ampiGHUF",ee="V6Kms48prL8QhkQxTJ2d",ie=()=>{const{isLoading:e,data:i}=(0,X.a)();return e?null:i?.items.length?(0,G.jsxs)("div",{className:Z,children:[(0,G.jsx)(a.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:ee,children:r.Ru.get("view.recently-played")}),(0,G.jsx)($,{items:i.items})]}):(0,G.jsx)(l.H,{})};var te=t(19816),se=t(68361);const ae=()=>(0,se.y)()?(0,G.jsx)(te.U,{children:(0,G.jsx)(ie,{})}):(0,G.jsx)(s.$,{to:"/"})},1878:(e,i,t)=>{t.d(i,{a:()=>s});const s=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map