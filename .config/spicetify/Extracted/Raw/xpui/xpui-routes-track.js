"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[730],{62586:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var n=t(50959),r=t(40587),i=t(5311),c=t(38762),s=t(98900),o=t(77671),l=t(61309),d=t(12864),u=t(45963),k=t(72746),f=t(26850),g=t(11527);const h=n.memo((function(){const e=(0,i.s0)(),a=(0,i.TH)(),t=(0,n.useContext)(f.ZF),h=(0,k.g)(),{trackId:p=""}=(0,i.UO)(),{isAnonymous:m}=(0,r.v9)(d.Gg),b=new URLSearchParams(a.search).get("context")||"",U=(0,c.tn)(p).toURI(),y=(0,l.QN)({uri:U},{cacheTime:30*u.y}),C=(0,n.useCallback)(((a,t)=>{const n=h.getState(),r=(0,c.EC)(t)?.toURLPath(!0),i=`${r}?highlight=${U}`;m?e(i):(n&&!n.isPaused||a>-1&&h.play({uri:t},{featureIdentifier:"track",referrerIdentifier:"deeplink"},{skipTo:{index:a}}),e(i,{replace:!0}))}),[e,m,h,U]),T=(0,n.useCallback)((()=>{if(!y.loading&&y.data?.trackUnion&&"Track"===y.data.trackUnion.__typename){const e=(y.data.trackUnion.albumOfTrack?.tracks?.items??[]).findIndex((e=>e.track.uri===U));e>=0&&C(e,y.data.trackUnion.albumOfTrack?.uri||"")}}),[C,y,U]);return(0,n.useEffect)((()=>{const e=(0,c.nK)(b);b&&e?t.getContents(b).then((e=>{const a=e.items.findIndex((e=>e?.uri===U));a<0?T():C(a,b)})):T()}),[b,T,C,t,U]),y.loading||y.error||"Track"!==y.data?.trackUnion?.__typename?(0,g.jsx)(o.h,{hasError:!y.loading,errorMessage:s.ag.get("track-page.error")}):null})),p=h}}]);
//# sourceMappingURL=xpui-routes-track.js.map