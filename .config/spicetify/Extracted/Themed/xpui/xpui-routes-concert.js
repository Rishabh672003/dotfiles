"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7288],{14611:(e,t,a)=>{a.d(t,{T:()=>g});var s=a(59496),r=a(84875),n=a.n(r),i=a(45368),o=a(13803),c=a(94814),l=a(88933);const d="pvGZ831aNzHTQMZ8CA_u";var m=a(4637);const g=(0,s.memo)((function({onClick:e=(()=>{}),size:t,className:a,uri:r,sharingInfo:g,interactionData:h,ariaLabel:u=o.ag.get("mwp.list.item.share")}){const{onCopyLink:p}=(0,l.y)({sharingInfo:g,uri:r,interactionData:h}),f=(0,s.useCallback)((()=>{p(),e()}),[e,p]);return(0,m.jsx)(c.E,{ariaLabel:u,size:t,onClick:f,className:n()(d,a),icon:i.M,condensed:!0})}))},46913:(e,t,a)=>{a.d(t,{Z:()=>D});var s=a(59496),r=a(46721),n=a(13803),i=a(18235),o=a(46580),c=a(2988),l=a(7849),d=a(93058),m=a(28890),g=a(45520);const h="MUiWCNTfb6FcSwVPvQ1V",u="UAk3bMhekwJTV_wIyfsT",p="X9w6LPfKsZHMCs38sVIQ",f="NXn5KjeUOjLGlAfS1Gao",x="N0wgFMDDvCiby4QB5kLJ",v="nloNe2BLRHjz9dxlwfLU",j="FyD0hF1e2PKzRxQ6sYDQ",y="JzXND83mXvcEuntCNR34",w="GR08E4L_rOGljyQQX30R";var N=a(4637);const k=(0,s.memo)((e=>{const{uri:t,title:a,imageUrl:s,date:r,location:n,firstParty:i,onClick:o}=e,k=(0,g.CH)(r);return(0,N.jsxs)(d.Link,{to:t,className:h,"data-testid":"concert-card",onClick:o,children:[s&&(0,N.jsx)(m.Z,{children:(0,N.jsx)("div",{role:"img",className:w,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${s})`}})}),(0,N.jsx)("time",{className:u,dateTime:r,children:(0,N.jsx)(c.D,{as:"div",variant:"mestoBold",children:(0,g.jx)(k)})}),(0,N.jsxs)("div",{className:p,dir:"auto",children:[(0,N.jsx)(c.D,{as:"p",className:y,variant:"mesto",children:[(0,g.FO)(k),(0,g.hK)(k)].join(" â€¢ ")}),(0,N.jsx)(c.D,{as:"h2",variant:"cello",weight:"bold",className:f,children:a}),(0,N.jsxs)("div",{className:x,children:[i&&(0,N.jsx)("span",{className:j,children:(0,N.jsx)(l.V,{iconSize:16})}),(0,N.jsx)(c.D,{as:"span",className:v,variant:"mesto","data-testid":"location-name",children:n})]})]})]})})),D=(0,s.memo)((e=>{const{concert:t,isVirtual:a,onClick:s}=e,{venue:c,location:l}=t,d=t.artists[0];return(0,N.jsx)(k,{uri:(0,r.g3)(t.id).toURI(),title:(0,o.ij)(t),imageUrl:d.imageUri,date:t.startDate.localDate,location:a?c:[c,l].join(n.ag.getSeparator()),firstParty:(0,i.$R)(t),onClick:s})}))},18235:(e,t,a)=>{a.d(t,{$R:()=>c,DF:()=>g,Vv:()=>d,ie:()=>h,k9:()=>o,pm:()=>m,sk:()=>l,yI:()=>n});var s=a(85487),r=a(67898);const n=(e,t)=>{if(!e)return"/concerts";const a=t?.normalize().replaceAll(/\W+/g,"-");return a?`/concerts/location/${e}-${a}`:`/concerts/location/${e}`},i=10;function o(e){if(0===e.length)return[];if(0===e[0].events.length)return[];const t=[];let a={date:e[0].events[0].openingDate.slice(0,i),events:[]};for(const s of e)for(const e of s.events){const s=e.openingDate.slice(0,i);a.date!==s&&(t.push(a),a={date:s,events:[]}),a.events.push(e)}return t.push(a),t}const c=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),l=e=>e.concerts.some((({concert:e})=>c(e))),d=e=>{const t=new Date(e);t.setDate(e.getDate()+(6-e.getDay()));const a=new Date(t);return a.setDate(t.getDate()+1),{from:t,to:a}},m=e=>{const t=new Date(e);t.setDate(e.getDate()+(6-e.getDay()));const a=new Date(t);a.setDate(t.getDate()+7);const s=new Date(a);return s.setDate(a.getDate()+1),{from:a,to:s}},g=(e,t)=>!!(e?.from&&e?.to&&t?.from&&t?.to)&&((0,s.Z)(e.from,t.from)&&(0,s.Z)(e.to,t.to)),h=e=>(0,r.Z)(e,{representation:"date"})},25081:(e,t,a)=>{a.r(t),a.d(t,{default:()=>nt});var s=a(9102),r=a(55411),n=a(31752),i=a(13803),o=a(29360),c=a(48702),l=a(70949);const d=e=>{const[t,{username:a,concertUri:s}]=e.queryKey;return(async(e,t)=>{const a=await(0,l.A0)(c.b.getInstance(),e,t);return a.body?.found[0]})(a,s)};var m=a(64111),g=a(59496),h=a(2988),u=a(43366),p=a(72916),f=a(94190),x=a(70424),v=a(86857),j=a(92142),y=a(25494),w=a(30549),N=a(84875),k=a.n(N),D=a(72028),b=a(35881),C=a(41166),_=a(97533),I=a(4786),P=a(14611),S=a(89300),U=a(99714),L=a(55106),T=a(98458),M=a(63848),A=a(4637);const F=g.memo((function({uri:e}){const{spec:t}=(0,L.T)(e);return(0,A.jsx)(U.ZP,{value:"concert",children:(0,A.jsxs)(S.v,{children:[(0,A.jsx)(T.q,{children:(0,A.jsx)(M.Jx,{spec:t,uri:e,displayText:i.ag.get("context-menu.copy-concert-link")})}),(0,A.jsx)(M.h$,{spec:t,uri:e})]})})}));var R=a(93058),E=a(1170),K=a(69303),$=a(79198);const z="Qy5TW6J4tm8_aomy4Shi",O=(0,g.memo)((e=>{const{spec:t,logger:a}=(0,w.fU)(E.w,{}),s=(0,$.a4)(e.followers,((e,s)=>{a.logInteraction(t.planMemberFactory({uri:e,identifier:s}).hitUiNavigate({destination:e}))}));return(0,A.jsxs)("div",{className:z,children:[(0,A.jsx)(K.D,{followers:e.followers,spec:t}),(0,A.jsx)(h.D,{as:"p",variant:"mesto",children:s})]})}));var V=a(65401),H=a(54940),Q=a(6068),W=a(93666);const B=(0,g.memo)((e=>{const{locationName:t,latitude:a,longitude:s,onClick:r}=e,n=new URL("https://maps.google.com/");return n.searchParams.set("q",t),a&&s&&n.searchParams.set("ll",`${a},${s}`),(0,A.jsx)("a",{href:n.href,target:"_blank",onClick:()=>r?.(n.href),children:(0,A.jsx)(h.D,{as:"h3",variant:"canon",children:t})})}));var Z=a(45520),q=a(2498),G=a(51009),Y=a(80290),J=a(43030),X=a(27758);const ee="rvw6x7R5AiAT48dSkFl9",te="JRuVlk6wpKk6ok7zuW6l",ae="YpfopxY2udneDY34uzRN",se="KI_0F1jtTR5tWgl7gZ1E",re="gKtc3TdowDTXBaVESi1D",ne="V8TIr8yJq4tYZfPEzm12",ie="rWFRSaU8daVvtbWEjvp7",oe="VvL91cIRcCi1hJh0K845",ce="vKcnOO1GNYoLKHg4T4lK",le="LdW0YNvo_Y77hgqhL4zY",de="cTkykhjfHxkEGKbxSxXw",me="XgeTnLs82tTjczDR6oKn",ge="P3fE7wn6Tqnibn3gljKV",he="b3qjYcKXwrvfkQkOLMhZ",ue="A8LG_5Dvp7IiXDtdR571",pe="O0PSSw8ttrMn9lzq_L16",fe="D_ffrfn62aOgZKOFfZVr",xe="OH4mOZCual2ejIodzIkL",ve="se_ixDV6hBf7lve861oU",je="YDAJHPP5lDmg71SdvJZC",ye="lKQxSRsi8KcoYx5D7mjh",we="LUMel_X4gQK0J1i6X0sC",Ne="eIA_y6wnyKS7F4BkMraV",ke="CKbduoHBINBakBcguVzi",De="oCmeNmHdfNzMD6n4mSqw",be="l6M4kfGer7xxBaIPco5p",Ce="r5hQwOq0RGo1ptvIthJ0",_e="HRKlEfCQE6VjdRRg0NRf",Ie="GWAqJBkan0flx0gBI92h",Pe="YDoK0ksaHmDfScvMhW4l",Se=(0,g.memo)((e=>{const{soldOut:t,futureSaleDate:a,firstParty:s,onRemindMe:r}=e;return t?null:a?(0,A.jsx)(J.D,{className:Ne,size:"small",onClick:r,children:i.ag.get("concerts.remind_me")}):(0,A.jsx)(J.D,{className:Ne,iconTrailing:X.h,size:"small",children:s?i.ag.get("concert_buy_tickets"):i.ag.get("concert_find_tickets")})})),Ue=(0,g.memo)((e=>{const{saleType:t,soldOut:a,futureSaleDate:s,minPrice:r,firstParty:n}=e;if(a)return(0,A.jsx)(h.D.p,{variant:"cello",semanticColor:"textSubdued",className:Ce,children:i.ag.get("concerts.soldout")});if(s)return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(h.D.p,{variant:"cello",semanticColor:"textPositive",className:De,children:i.ag.get("concerts.tickets_on_sale_soon")}),(0,A.jsx)(h.D.p,{variant:"cello",semanticColor:"textPositive",className:Ie,children:i.ag.get("concerts.ticket_date_time",(0,Z.xE)(s),(0,Z.hK)(s))})]});const o={"on-sale":i.ag.get("concerts.on_sale"),presale:i.ag.get("concerts.presale")};return(0,A.jsxs)(A.Fragment,{children:[o[t]&&(0,A.jsx)(h.D.p,{variant:"cello",semanticColor:"textPositive",className:De,children:o[t]}),n&&r&&(0,A.jsx)(h.D.p,{variant:"cello",semanticColor:"textPositive",className:ke,children:i.ag.get("concerts.ticket_price",r)})]})})),Le=(0,g.memo)((e=>{const{ticketListSpec:t,providerName:a,providerImageUrl:s,url:r,position:n,onRemindMe:i}=e,o=(0,w.$P)(),c=(0,G.o)(),l=(0,g.useMemo)((()=>t?.ticketProviderCellFactory({identifier:a,position:n,uri:r})),[t,a,n,r]),d=(0,w.Wi)(l),m=new Date,u=e.saleStartDate&&new Date(e.saleStartDate),p=e.saleEndDate&&new Date(e.saleEndDate),f=e.soldOut||p&&m>p||!1,x=u&&u>m?u:void 0,v="spotify"===a.toLowerCase(),j=(0,g.useCallback)((()=>{const e=l?.hitNavigateToExternalUri({destination:r});e&&o.logInteraction(e),c({targetUri:r,intent:"find-concert",type:"click"})}),[l,o,c,r]),y=x?void 0:r;return(0,A.jsxs)("a",{ref:d,href:y,target:"_blank",onClick:j,className:me,children:[(0,A.jsx)("div",{className:ge,children:(0,A.jsx)(Y.Ee,{loading:"eager",src:s,height:"100%",width:"100%",className:he,children:(0,A.jsx)(q.i,{className:ue,size:"medium"})})}),(0,A.jsxs)("div",{className:pe,children:[(0,A.jsxs)("div",{dir:"auto",className:be,children:[(0,A.jsx)(Ue,{saleType:e.saleType,soldOut:f,futureSaleDate:x,minPrice:e.minPrice,firstParty:v}),(0,A.jsx)(h.D.p,{semanticColor:"textSubdued",children:a})]}),(0,A.jsx)(Se,{soldOut:f,futureSaleDate:x,firstParty:v,onRemindMe:i})]})]})})),Te=(0,g.memo)((e=>{const{ticketListSpec:t,providerName:a,url:s,position:r}=e,n=(0,w.$P)(),o=(0,G.o)(),c=(0,g.useMemo)((()=>t?.ticketProviderCellFactory({identifier:a,position:r,uri:s})),[t,a,r,s]),l=(0,w.Wi)(c),d=(0,g.useCallback)((()=>{const e=c?.hitNavigateToExternalUri({destination:s});e&&n.logInteraction(e),o({targetUri:s,intent:"find-concert",type:"click"})}),[c,n,o,s]);return(0,A.jsxs)("a",{href:s,className:me,onClick:d,target:"_blank",ref:l,children:[(0,A.jsx)("div",{className:ge,children:(0,A.jsx)(q.i,{className:ue,iconSize:24})}),(0,A.jsxs)("div",{className:pe,children:[(0,A.jsx)("div",{dir:"auto",className:be,children:(0,A.jsx)(h.D.p,{variant:"cello",semanticColor:"textPositive",className:De,children:i.ag.get("concerts.on_sale")})}),(0,A.jsx)(J.D,{className:Ne,iconTrailing:X.h,size:"small",children:i.ag.get("concert_find_tickets")})]})]})})),Me=(0,g.memo)((e=>{const{concert:t,ticketAvailabilityTranslated:a,entitySpec:s,isConcertSaved:r,isAnonymous:n,followers:o}=e,d=(0,V.k)(1e4),m=(0,Z.CH)(t.date),u=`spotify:concert:${t.id}`,p=(0,g.useMemo)((()=>s.ticketProviderListFactory()),[s]),f=(0,w.$P)(),x=(0,w.Wi)(p),v=(0,g.useMemo)((()=>s.interestedButtonFactory()),[s]),j=(0,w.Wi)(v),y=(0,g.useMemo)((()=>s.shareEventButtonFactory({uri:u})),[s,u]),N=(0,w.Wi)(y),[S,U]=(0,g.useState)(r),L=(0,_.W6)(H.tpg),T=1===t.ticketers.length&&"Spotify"===t.ticketers[0].partnerDisplayName,M=!!t.ticketers[0].endDate&&(t.ticketers[0].soldOut||(0,Z.OF)(t.ticketers[0].endDate?.localDate)),E=T&&M&&t.ticketers[0].partnerURL;if(0===t.ticketers.length)return null;if((0,Z.OF)(t.date))return(0,A.jsxs)("div",{className:le,children:[(0,A.jsx)(h.D,{as:"h3",variant:"canon",children:i.ag.get("concert_event_ended")}),(0,A.jsx)(h.D,{variant:"ballad",children:(0,A.jsx)(R.default,{to:"spotify:concerts",children:i.ag.get("concert_past_message")})})]});const K=()=>{const e=v.hitUiElementToggle();f.logInteraction(e),(0,l.l7)(c.b.getInstance(),t.id),d(i.ag.get("concerts_added-to-your-saved-events")),f.logInteraction(v.hitAddInterest()),U(!0)};return(0,A.jsxs)("div",{className:le,ref:x,children:[(0,A.jsx)(h.D,{as:"h3",variant:"canon",className:_e,children:"ONLINE"===t.category?(0,A.jsx)(h.D,{as:"h3",variant:"canon",children:t.venue}):(0,A.jsx)(B,{locationName:[t.venue,t.location].join(i.ag.getSeparator()),onClick:e=>{const t=s.venueMapLinkFactory().hitNavigateToExternalUri({destination:e});f.logInteraction(t)}})}),(0,A.jsxs)(h.D,{as:"h3",variant:"mesto",className:je,children:[(0,Z.xE)(m)," â€¢ ",(0,Z.hK)(m)]}),o&&o.length>0&&(0,A.jsx)(w.Nh,{spec:s,children:(0,A.jsx)(O,{followers:o})}),a&&(0,A.jsx)(h.D,{as:"h3",className:ce,variant:"mesto",children:a}),(0,A.jsxs)("div",{className:te,children:[!n&&L&&(0,A.jsx)(W.ws,{label:i.ag.get("concerts_interested_tooltip"),placement:"top-end",children:(0,A.jsx)(D.P,{buttonSize:"sm",iconLeading:S?b.N:C.S,className:k()(we,{[ee]:S}),onClick:()=>{const e=v.hitUiElementToggle();f.logInteraction(e),S?((0,l.FB)(c.b.getInstance(),t.id),d(i.ag.get("concerts_removed-from-your-saved-events")),f.logInteraction(v.hitRemoveInterest())):((0,l.l7)(c.b.getInstance(),t.id),d(i.ag.get("concerts_added-to-your-saved-events")),f.logInteraction(v.hitAddInterest())),U(!S)},ref:j,children:i.ag.get("concerts_interested")})}),(0,A.jsx)("div",{ref:N,children:(0,A.jsx)(P.T,{uri:u,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:()=>{f.logInteraction(s.shareEventButtonFactory({uri:u}).hitShare({entityToBeShared:u,shareId:t.id}))},className:Pe,ariaLabel:i.ag.get("concerts_share_with_friends")})}),(0,A.jsx)(Q.ClickToggleContextMenu,{menu:(0,A.jsx)(F,{uri:u}),onShow:()=>{const e=s.contextMenuButtonFactory().hitUiReveal();f.logInteraction(e)},children:(0,A.jsx)(I.MoreButton,{size:I.q.md})})]}),(0,A.jsx)(h.D.h3,{variant:"canon",children:i.ag.get("concert.header.available_tickets_from")}),(0,A.jsxs)("div",{className:de,children:[t.ticketers.map(((e,t)=>(0,A.jsx)(Le,{concertUri:u,position:t,url:e.url,providerName:e.partnerDisplayName,providerImageUrl:e.imageURL,saleType:e.type,soldOut:e.soldOut,saleStartDate:e.startDate?.localDate,saleEndDate:e.endDate?.localDate,minPrice:e.minPrice,ticketListSpec:p,onRemindMe:K},e.url))),E&&t.ticketers[0]?.partnerURL&&(0,A.jsx)(Te,{url:t.ticketers[0].partnerURL,providerName:t.ticketers[0].partnerDisplayName,position:t.ticketers.length,ticketListSpec:p},t.ticketers[0].partnerURL)]})]})}));var Ae=a(75729),Fe=a(22128),Re=a(28947),Ee=a(28890);const Ke="bnxKFmECExdcmyBXx9f_",$e="UrPgHWUndGwAWPfONuwd",ze="pF2W693VDIpPdVTVCsDg",Oe="YGVuy3Qzaam0CJPc_s4K",Ve="r5Kj2xQVLHK0hf_J00US",He="qCN2f5PHVrzAPLvQ0lNc",Qe=(0,g.memo)((e=>{const{imageUri:t,name:a,uri:s,headliner:r,onClick:n}=e;return(0,A.jsxs)(R.Link,{to:s,className:Ke,onClick:n,children:[t?(0,A.jsx)(Ee.Z,{children:(0,A.jsx)("div",{"data-testid":"image-container",className:He,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${t})`}})}):null,(0,A.jsxs)("div",{className:$e,children:[r&&(0,A.jsx)("div",{className:Oe,children:(0,A.jsx)(h.D,{as:"h4",variant:"mestoBold",className:Ve,weight:"bold",children:i.ag.get("concert.label.headliner")})}),(0,A.jsx)(h.D,{as:"h2",variant:"alto",className:ze,children:a})]})]})})),We=Qe,Be=(0,g.memo)((e=>{const{artist:t,albums:a,position:s,lineupArtistsSpec:r}=e,n=(0,g.useMemo)((()=>r.artistRowFactory({position:s,uri:t.uri})),[r,s,t.uri]),o=(0,w.$P)(),c=0===s,l=`${(0,Re.GJ)(t.id)}:discography`;return(0,A.jsx)(U.ZP,{value:"headered-grid",index:s,children:(0,A.jsx)(w.Nh,{spec:n||null,children:(0,A.jsx)(Fe.P,{title:c?i.ag.get("concert_lineup"):"",total:a.length+2,seeAllUri:l,seeAllLabel:i.ag.get("artist-page.show-discography"),onClickShelfSeeAll:()=>{const e=n.seeDiscographyLinkFactory().hitUiNavigate({destination:l});o.logInteraction(e)},children:[(0,A.jsx)(We,{uri:t.uri,name:t.name,imageUri:t.imageUri,headliner:c,onClick:()=>{const e=n.artistCardFactory().hitUiNavigate({destination:t.uri});o.logInteraction(e)}},`ConcertArtistCard-${t.id}`),null,...a.map(((e,a)=>(0,A.jsx)(Ae.r,{index:a,artists:[{uri:t.uri,name:t.name}],images:[{url:e.imageUri,width:100,height:100}],name:e.name,uri:e.uri,sharingInfo:null},e.uri)))]})})},t.uri)})),Ze=(0,g.memo)((e=>{const{albums:t,artists:a,entitySpec:s}=e,r=(0,g.useMemo)((()=>s.lineupArtistsFactory()),[s]),n=(0,w.Wi)(r),i=(0,g.useMemo)((()=>{const e={};return t.forEach((t=>{const a=t.artistName;e[a]?e[a].push(t):e[a]=[t]})),e}),[t]);return(0,A.jsx)("div",{className:fe,ref:n,"data-testid":"concert-lineup",children:a.map(((e,t)=>(0,A.jsx)(Be,{artist:e,albums:i[e.name]||[],position:t,lineupArtistsSpec:r},e.uri)))})})),qe="y4xsX4QR_wfM40vOhsQ4",Ge="TPdGbM0PhSqxmhkxP9n2",Ye="y33j8HV43EGq3BPkZrLA",Je=(0,g.memo)((e=>(0,A.jsxs)(R.Link,{to:"spotify:concerts",className:qe,onClick:e.onClick,children:[(0,A.jsx)(Ee.Z,{children:(0,A.jsx)("div",{className:Ye,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,A.jsx)("div",{className:Ge,children:(0,A.jsx)(h.D,{as:"h2",variant:"canon",children:i.ag.get("concerts_browse_more")})})]})));var Xe=a(46913);const et=(0,g.memo)((e=>{const t=(0,g.useMemo)((()=>e.entitySpec.recommendedConcertsFactory()),[e.entitySpec]),a=(0,w.$P)(),s=(0,w.Wi)(t),r=e.upcomingConcerts;if(!r||r.length<1)return null;const n=r.map(((e,s)=>{const r=`spotify:concert:${e.concert.id}`;return(0,A.jsx)(Xe.Z,{concert:e.concert,onClick:()=>{const e=t.concertCardFactory({position:s,uri:r}).hitUiNavigate({destination:r});a.logInteraction(e)}},e.concert.id)}));return(0,A.jsx)("div",{className:ve,ref:s,"data-testid":"concert-recommendations",children:(0,A.jsx)(U.ZP,{value:"headered-grid",children:(0,A.jsxs)(Fe.P,{title:i.ag.get("concerts_more_events"),total:r.length+1,className:ye,showSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:i.ag.get("view.see-all"),children:[(0,A.jsx)(Je,{onClick:()=>{const e=t.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});a.logInteraction(e)}}),n]})})})}));var tt=a(46580);const at=(0,g.memo)((e=>{const{data:t,isAnonymous:a,isConcertSaved:s,followers:r}=e,{artists:n,albums:o,upcomingConcerts:c}=t,l=t.concert.concert,{spec:d}=(0,w.fU)(u.q,{data:{identifier:l.id,uri:`spotify:concert:${l.id}`}});return(0,y.Y)(t.color),(0,A.jsxs)("section",{className:ne,children:[(0,A.jsx)(f.$,{children:i.ag.get("concert.entity_metadata.title",l.title,l.location,l.venue)}),(0,A.jsxs)(x.gF,{backgroundImages:[{url:t.headerImageUri,width:100,height:100}],backgroundColor:t.color,children:[(0,A.jsxs)(x.sP,{children:[(0,A.jsx)(x.T0,{children:(0,A.jsx)("div",{className:ae,children:(0,A.jsx)(h.D,{as:"h3",variant:"canon",className:se,children:(0,Z.jx)((0,Z.CH)(l.date))})})}),(0,A.jsx)(x.xd,{className:ie,children:(0,tt.Yl)(l)})]}),(0,A.jsx)(v.W,{children:(0,A.jsx)("div",{className:xe,children:(0,A.jsx)(j.i,{text:(0,tt.Yl)(l)})})})]}),(0,A.jsxs)("div",{className:re,children:[(0,A.jsx)(p.I,{backgroundColor:t.color}),(0,A.jsxs)("div",{className:oe,children:[(0,A.jsx)(Me,{concert:l,ticketAvailabilityTranslated:t.ticketAvailabilityTranslated,entitySpec:d,isAnonymous:a,isConcertSaved:s,followers:r}),(0,A.jsx)(Ze,{artists:n,albums:o,entitySpec:d}),(0,A.jsx)(et,{upcomingConcerts:c,entitySpec:d})]})]})]})}));var st=a(71619);const rt=async e=>{const[t,a]=e.queryKey;return(await(0,l.gq)(c.b.getInstance(),a)).body},nt=()=>{const{concertId:e=""}=(0,n.UO)(),{data:t,isLoading:a}=(0,s.useQuery)(["concert",e],rt,{staleTime:6e5}),c=(e=>{const t=["concertInCollection",e];return(0,s.useQuery)(t,d,{keepPreviousData:!1,retry:!1})})({username:(0,r.v9)(m.n5),concertUri:`spotify:concert:${e}`}),l=c?.data||!1,{isAnonymous:g}=(0,r.v9)(m.Gg),h=t?.artists.map((e=>e.uri));var u;u={artists:h},(0,s.useQuery)(["family-duo-concert-followers-aa-test",u],st.g,{enabled:(0,_.W6)(H.hjm)});const{data:p,isLoading:f}=(e=>(0,s.useQuery)(["family-duo-concert-followers",e],st.g,{enabled:(0,_.W6)(H.YCf),retry:!1}))({artists:h});return a||f?(0,A.jsx)(o.h,{hasError:!1,errorMessage:""}):t?(0,A.jsx)(at,{data:t,isAnonymous:g,isConcertSaved:l,followers:p?.followers}):(0,A.jsx)(o.h,{hasError:!0,errorMessage:i.ag.get("concert.error.concert_not_found_title")})}},71619:(e,t,a)=>{a.d(t,{g:()=>i,P:()=>n});var s=a(48702),r=a(26011);const n=async e=>{const[t,{geonameId:a}]=e.queryKey,n=await((e,t)=>e.build().withMethod("GET").withHost(r.gH).withPath("/concerts/").withEndpointIdentifier("/cooper/concerts").withQueryParameters({...t&&{geonameId:t}}).withoutMarket().send())(s.b.getInstance(),a);return n.body},i=async e=>{const[t,{artists:a}]=e.queryKey,n=await((e,t)=>e.build().withMethod("POST").withHost(r.gH).withPath("/followers/").withEndpointIdentifier("/cooper/followers").withHeaders([{key:"content-type",value:"application/json"},{key:"accept",value:"application/json"}]).withBody(JSON.stringify({artists:t})).withoutMarket().send())(s.b.getInstance(),a);return n.body}},69303:(e,t,a)=>{a.d(t,{D:()=>d});var s=a(59496),r=a(30549);const n="g4AhdK8faqTe7v8VqC3x";var i=a(4637);const o=(0,s.memo)((({alt:e})=>(0,i.jsxs)("svg",{height:8,width:8,"aria-hidden":"true",viewBox:"-8 -8 32 32",className:n,children:[(0,i.jsx)("title",{children:e}),(0,i.jsx)("path",{d:"M6.233.371a4.388 4.388 0 0 1 5.002 1.052c.421.459.713.992.904 1.554.143.421.263 1.173.22 1.894-.078 1.322-.638 2.408-1.399 3.316l-.127.152a.75.75 0 0 0 .201 1.13l2.209 1.275a4.75 4.75 0 0 1 2.375 4.114V16H.382v-1.143a4.75 4.75 0 0 1 2.375-4.113l2.209-1.275a.75.75 0 0 0 .201-1.13l-.126-.152c-.761-.908-1.322-1.994-1.4-3.316-.043-.721.077-1.473.22-1.894a4.346 4.346 0 0 1 .904-1.554c.411-.448.91-.807 1.468-1.052zM8 1.5a2.888 2.888 0 0 0-2.13.937 2.85 2.85 0 0 0-.588 1.022c-.077.226-.175.783-.143 1.323.054.921.44 1.712 1.051 2.442l.002.001.127.153a2.25 2.25 0 0 1-.603 3.39l-2.209 1.275A3.25 3.25 0 0 0 1.902 14.5h12.196a3.25 3.25 0 0 0-1.605-2.457l-2.209-1.275a2.25 2.25 0 0 1-.603-3.39l.127-.153.002-.001c.612-.73.997-1.52 1.052-2.442.032-.54-.067-1.097-.144-1.323a2.85 2.85 0 0 0-.588-1.022A2.888 2.888 0 0 0 8 1.5z"})]}))),c="WCQhjx2ZwtN1mwka_4wj",l=e=>{const t=(0,r.$P)(),a=`spotify:user:${e.follower.username}`;return(0,s.useEffect)((()=>{t.logImpression(e.spec.planMemberFactory({identifier:e.follower.memberId,uri:a}).impression())})),e.follower.profileImageUrl?(0,i.jsx)("img",{src:e.follower.profileImageUrl,alt:e.follower.displayName??e.follower.username},`follower-${e.follower.displayName??e.follower.username}`):(0,i.jsx)(o,{alt:e.follower.displayName},`follower-${e.follower.displayName}`)},d=(0,s.memo)((e=>(0,i.jsx)("div",{className:c,children:e.followers.map(((t,a)=>(0,i.jsx)(l,{follower:t,spec:e.spec},`follower-${a}`)))})))},79198:(e,t,a)=>{a.d(t,{FV:()=>i,a4:()=>o,ij:()=>n});var s=a(13803),r=a(4637);const n=e=>{if((e=>!!e.title&&(e.festival||!e.artists.length))(e))return e.title;const t=(e=>e.artists.map((e=>e.name)))(e);return 1===t.length?s.ag.get("concert.header.upcoming_concert_title_1",...t):2===t.length?s.ag.get("concert.header.upcoming_concert_title_2",...t):3===t.length?s.ag.get("concert.header.upcoming_concert_title_3",...t):4===t.length?s.ag.get("concert.header.upcoming_concert_title_4",...t):t.length>4?s.ag.get("concert.header.upcoming_concert_title_more",...t):""},i=e=>1===e.length?s.ag.get("web-player.family-duo-concerts-shelf.X-follows",e[0].displayName??e[0].username):s.ag.get("web-player.family-duo-concerts-shelf.X-of-your-family-follow",e.length),o=(e,t)=>{const a=e.map(((e,a)=>{const s=`spotify:user:${e.username}`;return(0,r.jsx)("a",{onClick:()=>t(s,e.memberId),href:s,children:e.displayName??e.username},`follower-name-${a}`)}));return 1===e.length?s.ag.get("web-player.family-duo-concerts-shelf.X-follows",a[0]):2===e.length?s.ag.get("web-player.family-duo-concerts-shelf.2-follow",...a):3===e.length?s.ag.get("web-player.family-duo-concerts-shelf.3-follow",...a):4===e.length?s.ag.get("web-player.family-duo-concerts-shelf.4-follow",...a):s.ag.get("web-player.family-duo-concerts-shelf.5-follow",...a)}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map