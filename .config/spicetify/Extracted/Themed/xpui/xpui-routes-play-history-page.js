"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[708],{81952:(e,i,t)=>{t.d(i,{I:()=>P});var s=t(80552),r=t(50959),l=t(85648),a=(t(46758),t(53321),t(45205),t(27082),t(86277),t(2836),t(82187)),n=t.n(a),c=t(75802),d=t(69736),o=t(87025),u=t(80859),m=t(20580),x=t(49857),h=t(2800),j=t(76981);var p=t(6807),g=t(14892);const y="main-topBar-contentArea",f="queue-tabBar-headerIsCentered",v="queue-tabBar-headerItem",b="queue-tabBar-moreButton",k="queue-tabBar-moreButtonActive",I="yxf_6IsQEmHjijEBUMTP",w="queue-tabBar-active",E="queue-tabBar-headerItemLink",N="queue-tabBar-header",R="queue-tabBar-chevron";var C=t(11527);const A=({items:e,activeItemId:i})=>(0,C.jsx)(p.v,{children:e.map((e=>e.disabled?(0,C.jsx)(g.s,{disabled:!0,role:"menuitemradio",className:I,onClick:e.handleClick,children:e.title},e.uri):(0,C.jsx)(g.s,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===i,className:({isActive:e})=>n()(I,{[w]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var T=t(64634);const S=(0,r.memo)((function({isCentered:e,links:i,landmarkLabel:t,className:s}){const a=(0,r.useRef)(null),[p,g]=(0,r.useState)([]),[I,S]=(0,r.useState)(0),[U,O]=(0,r.useState)([]),_=function(){const[e,i]=(0,r.useState)(window.innerWidth),{scrollNodeChildRef:t}=(0,r.useContext)(h.VX),s=(0,x.y1)((e=>{e?.width&&i(e.width)}),250);return(0,j.y)({refOrElement:t,observeOnly:"width",onResize:s}),e}()??1/0,{pathname:B}=(0,c.TH)(),M=i.find((e=>e.to===B));return(0,r.useEffect)((()=>{a.current&&S(a.current.clientWidth)}),[_]),(0,r.useEffect)((()=>{if(!a.current)return;const e=Array.from(a.current.children).map((e=>e.clientWidth));g(e)}),[i]),(0,r.useEffect)((()=>{if(!a.current)return;if(p.slice(0,-1).reduce(((e,i)=>e+i),0)<=I)return void O([]);const e=p.reduce(((e,i)=>e>i?e:i),0),i=[];let t=e;p.forEach(((e,s)=>{I>=t+e?t+=e:i.push(s)})),O(i)}),[I,p]),(0,C.jsx)("nav",{className:n()(s,y),"aria-label":t,children:(0,C.jsxs)("ul",{className:e?f:N,ref:a,children:[i.filter(((e,i)=>!U.includes(i))).map((e=>{const i=e?.render??(e=>e);return(0,C.jsx)(r.Fragment,{children:i((0,C.jsx)("li",{className:v,children:e.disabled?(0,C.jsx)("div",{className:E,children:(0,C.jsx)(d.x,{variant:"bodySmallBold",children:e.title})}):(0,C.jsx)(T.O,{end:!0,className:({isActive:e})=>n()(E,{[w]:e}),to:e.to,onClick:e.handleClick,children:(0,C.jsx)(d.x,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),U.length||0===p.length?(0,C.jsx)("li",{className:v,children:(0,C.jsx)(m.xV,{renderInline:!0,menu:(0,C.jsx)(A,{items:i.filter(((e,i)=>U.includes(i))),activeItemId:M?.itemId}),children:(e,i,t)=>(0,C.jsxs)("button",{className:n()(b,{[k]:M}),type:"button",onClick:i,ref:t,children:[(0,C.jsx)(d.x,{variant:"bodySmallBold",children:M?M.title:l.ag.get("more")}),e?(0,C.jsx)(o.U,{size:"small",className:R,"aria-hidden":"true"}):(0,C.jsx)(u.i,{size:"small",className:R,"aria-hidden":"true"})]})})}):null]})})}));var U=t(8885),O=t(64847),_=t(98271);const B="queue-tabBar-nav",M=()=>{const e=(0,_.Y)(),i=(0,r.useCallback)((e=>(0,C.jsx)(O.v,{placement:"bottomEnd",arrow:"topStart",title:l.ag.get("pick-and-shuffle.upsell.title.queue"),children:e})),[]),t=(0,r.useMemo)((()=>[{title:l.ag.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:i,disabled:e},{title:l.ag.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]),[e,i]);return(0,C.jsx)(U.w,{children:(0,C.jsx)(S,{className:B,links:t})})},P=({children:e})=>{const i=(0,s.nF)();return(0,C.jsxs)("section",{className:"contentSpacing",children:[e,i&&(0,C.jsx)(M,{})]})}},99235:(e,i,t)=>{t.r(i),t.d(i,{default:()=>L});var s=t(80552),r=t(69736),l=t(85648),a=t(74185),n=t(50959),c=t(36199),d=t(17162),o=t(45438),u=t(98692),m=t(82857),x=t(70526),h=t(58912),j=t(11317),p=t(82579),g=t(64329),y=t(35014),f=t(86696),v=t(31360),b=t(13926),k=t(85357),I=t(27565),w=t(44724),E=t(52993),N=t(3319),R=t(22527),C=t(74234),A=t(91939),T=t(42783),S=t(19968),U=t(11527);const O=n.memo((function({uri:e,name:i,duration_ms:t,index:s,imgUrl:r,artists:a,album:n,isExplicit:c,isMOGEFRestricted:d,contextItem:u,type:x}){const{isActive:h,isPlaying:O,triggerPlay:_,togglePlay:B}=(0,R.n)({uri:e,pages:[{items:[{...u}]}]},{featureIdentifier:"history"}),M=x===m.p.TRACK,P=x===m.p.EPISODE,D=x===m.p.CHAPTER,G=(0,N._)(e),L=(0,T.k)(e),{badges:F,hasBadges:K}=(0,C.r)({downloadAvailability:G,isExplicit:c,isMOGEFRestricted:d}),Q=a?.map((e=>e.name)).join(l.ag.getSeparator())||"";let W;return P?W=(0,U.jsx)(g.k,{uri:e,contextUri:e,showUri:n.uri}):D?W=(0,U.jsx)(A.r,{uri:e}):M&&(0,j.dB)(e)?W=(0,U.jsx)(y.N,{uri:e,contextUri:e}):M&&(W=(0,U.jsx)(f.$,{uri:e,contextUri:e,albumUri:n.uri,artists:a})),(0,U.jsx)(o.JL,{value:"row",index:s,children:(0,U.jsx)(p._,{menu:W,children:(0,U.jsxs)(k.c,{uri:e,contextUri:e,index:s,ariaRowIndex:s,onTriggerPlay:()=>{_()},isActive:h,isPlayable:L,ageRestricted:d,dragMetadata:{name:i,createdBy:Q},children:[(0,U.jsxs)(v.vZ,{ariaColIndex:0,children:[(0,U.jsx)(v.VG,{uri:e,src:r,isPlaying:O,isActive:h,isLocked:!1,onClick:()=>{B()},isEpisode:(0,j.hn)(e),playAriaLabel:l.ag.get("tracklist.a11y.play",i,Q)}),(0,U.jsxs)(v.vm,{children:[(0,U.jsx)(v.Wh,{titleText:i,children:i}),K&&(0,U.jsxs)(v.g3,{children:[F.download&&(0,U.jsx)(I.G,{}),F.explicit&&(0,U.jsx)(w.N,{}),F.nineteen&&(0,U.jsx)(E.X,{className:b.Z.nineteen,size:16})]}),(0,U.jsx)(v.K9,{children:(0,j.wj)(e)?(0,U.jsx)(v.T6,{artists:a}):a[0]?.name??""})]})]}),(0,U.jsx)(v.UA,{ariaColIndex:2,children:(0,U.jsx)(v.BM,{nonInteractive:(0,j.dB)(e),uri:n.uri,name:n.name,creatorUri:a?.[0]?.uri,children:n.name})}),(0,U.jsxs)(v.mU,{ariaColIndex:1,children:[!D&&(0,U.jsx)(S.f,{uri:e,type:x}),(0,U.jsx)(v.A$,{duration:t}),(0,U.jsx)(v.Zv,{menu:W,label:l.ag.get("more.label.track",i,Q)})]})]})})})}),((e,i)=>e.uri===i.uri)),_=n.memo((function({items:e}){const i=(0,n.useCallback)(((e,i)=>{const t=(0,h.X)(e.images??[],{desiredSize:40});return(0,u.G_)(e)?(0,U.jsx)(O,{index:i,uri:e.isLocal?e.uri:(0,d.$)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:m.p.TRACK},i+e.uri):(0,u.iw)(e)?(0,U.jsx)(O,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:m.p.EPISODE},i+e.uri):(0,u.G7)(e)?(0,U.jsx)(O,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:m.p.CHAPTER},i+e.uri):((0,u.k6)(e)||(0,u.RB)(e)||(0,x._)(e),(0,U.jsx)(c.hU,{height:`${c.dN}px`}))}),[]),t=(0,n.useMemo)((()=>[c.QD.TITLE_AND_ARTIST,c.QD.ALBUM_OR_PODCAST,c.QD.DURATION]),[]),s=(0,n.useCallback)((e=>({uri:e.uri})),[]);return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(o.JL,{value:"play-history-tracklist",children:(0,U.jsx)(c.Pv,{ariaLabel:"play-history",hasHeaderRow:!0,columns:t,renderRow:i,resolveItem:s,tracks:e,nrTracks:e.length,rowPlaceholder:c.hU,limit:50,columnPersistenceKey:"play-history-tracklist"})})})})),B="dt3fysZYdQ6hhWfpmjAu",M="n6LsTkKvpO88xeRyRTdw",P=()=>{const{isLoading:e,data:i}=(0,s.U5)();return e?null:i?.items.length?(0,U.jsxs)("div",{className:B,children:[(0,U.jsx)(r.x,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:M,children:l.ag.get("view.recently-played")}),(0,U.jsx)(_,{items:i.items})]}):(0,U.jsx)(a.S,{})};var D=t(81952),G=t(96989);const L=()=>(0,s.nF)()?(0,U.jsx)(D.I,{children:(0,U.jsx)(P,{})}):(0,U.jsx)(G.InstrumentedRedirect,{to:"/"})}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map