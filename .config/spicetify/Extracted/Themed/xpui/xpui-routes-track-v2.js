"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[4179],{54390:(e,a,i)=>{i.d(a,{J:()=>Y,IB:()=>m});var t=i(40587),s=i(5311),n=i(58665),r=i(98246),l=i(42148);i(95101),i(42826);let c=function(e){return e.LFC="lfc",e.TRACK_INTERNAL_LINK_RECOMMENDER="track-ilr",e}({}),o=function(e){return e.CONTROL="0",e.VARIANT="1",e}({});var d=i(74818),u=i(51145);const m=(e,a)=>{const i=(0,s.TH)(),m=(0,n.W6)(d._ci),g=(0,r.vI)(l.k.LFC,i),k="track"===a?u.aj:u.M4,p=((e,a)=>(({treatment:e,entityId:a,experimentId:i,treatmentVariation:t})=>{if(e&&e[a]){const s=e[a].find((e=>e.experimentId===i));return s?.treatment===t}return!1})({treatment:e,entityId:a,experimentId:c.LFC,treatmentVariation:o.VARIANT}))((0,t.v9)(k)||{},e);return p||m===d.nm0.VARIANT||g};var g=i(50959),k=i(16373),p=i(46034),h=i(39253),y=i(3209);function x(e,a,i){try{(0,p.sQ)({metric_type:k.MetricTypes.COUNTER,what:"request-rate",value:1,tags:{endpoint:e,statusCode:a,isFatal:i}}).catch((()=>({})))}catch(e){}}class v extends y.c{build(){const e=super.build();return e.onAfterSend=a=>{let i="unknown",t=!1;if(null!==e.endpointIdentifier&&(t=!0,i=`${e.method} ${e.hostIdentifier||"unknown-host"}::${e.endpointIdentifier}`),a)throw t&&x(i,JSON.stringify(a.status||0),JSON.stringify(0===(e.endpointIdentifier||"").indexOf("/me"))),h.m.fromResponse(a,e.method);if(t){x(i,"200","false");const a=Date.now()-(e.startTimestamp||0);!function(e,a,i){try{(0,p.sQ)({metric_type:k.MetricTypes.TIMER,what:"request-duration",value:i,tags:{endpoint:e,statusCode:a}}).catch((()=>({})))}catch(e){}}(i,"200",k.Time.fromMillis(a).asNanos())}},e}}var N=i(86496);let j=null;class b{static setSession(e){if(!e)return;const{accessToken:a}=e,i=this.getInstance();i.accessToken=a,a||i.resetPendingRequests()}static setLocale(e){this.getInstance().locale=e}static setMarket(e){this.getInstance().market=e}static resetInstance(){j=null}static getInstance(){return j||(j=this.createNew()),j}static createNew(){return new v(N.e)}}var L=i(57983);const f=e=>(0,g.useCallback)((async()=>L.rd.getGeneratedContent(b.getInstance(),e).then((e=>e.body.content))),[e]);var C=i(29024),I=i(29482),S=i(98900);i(99692);const A="expandable-description-for-seo";var T=i(84875),R=i.n(T);const F="kJFJjpbeZmhT7WG2KjAM",P="gPrYeH86UvcjOx_NQYwp",w="Zf6ONkng2h6eGJg9d4l_",U="G2RRgu_U4ZPugC9x8Vuh",D="BmLmBhY6zS0mTzoMTvQA",E="dvKxmtfViMbQHGD2OUYz",O="LzDWAa70LpBOSMc_ATzA",M="Z5EIr8RoSgmXMt0y9VsS";var B=i(11527);const _=({open:e,content:a})=>{const i=a.slice(0,3),t=a.slice(3);return(0,B.jsxs)(I.D,{as:"ul",className:U,children:[i.map((e=>(0,B.jsxs)(I.D,{as:"li",className:D,variant:"ballad",children:[e,"‎"]},e))),t.map((a=>(0,B.jsxs)(I.D,{as:"li",variant:"ballad",className:R()(D,E,{[O]:e}),"aria-hidden":!e,children:[a,"‎"]},a)))]})},G=({open:e,handleClick:a})=>(0,B.jsx)("button",{className:w,onClick:a,"aria-controls":A,"aria-owns":A,children:(0,B.jsx)(I.D,{variant:"balladBold",className:M,children:e?S.ag.get("show_less"):`…${S.ag.get("show_more")}`})}),K=g.memo((function({content:e}){const[a,i]=(0,g.useState)(!1),t=JSON.parse(e);return t.length<=3?(0,B.jsx)("div",{className:F,children:(0,B.jsx)("ul",{className:P,children:t.map((e=>(0,B.jsx)("li",{children:(0,B.jsx)(I.D,{as:"p",semanticColor:"textSubdued",variant:"ballad",children:e})},e)))})}):(0,B.jsxs)("div",{className:F,"aria-expanded":a,id:A,children:[(0,B.jsx)(_,{open:a,content:t}),(0,B.jsx)(G,{open:a,handleClick:()=>{i(!a)}})]})})),z="tVC0kqa47RaVQswbGMlb",V="MuJCRvpejZ78QxtxndMr",$="zFSqh4BTsowiCKPrd1EN",Y=({title:e,uri:a})=>{const[i,t]=(0,g.useState)(""),s=f(a);return(0,g.useEffect)((()=>{!async function(){try{const e=await s();t(e)}catch(e){}}()}),[s]),i&&0!==i.length?(0,B.jsxs)("div",{className:z,children:[(0,B.jsxs)("div",{className:V,children:[(0,B.jsx)(C.W,{size:"small",semanticColor:"textSubdued",className:$}),(0,B.jsx)(I.D,{variant:"mesto",as:"p",children:S.ag.get("lfc.disclaimer")})]}),(0,B.jsx)(I.D,{variant:"canon",as:"h1",semanticColor:"textBase",children:e}),(0,B.jsx)(K,{content:i})]}):null}},27117:(e,a,i)=>{i.d(a,{k:()=>r});i(99692);var t=i(29482);const s="rTMkDBDp47Eo12ZEQv4U";var n=i(11527);const r=({copyrights:e,courtesyLine:a})=>{const i=(e||[]).map(((e,a)=>{const i=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let s;return s="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,n.jsx)(t.D,{as:"p",variant:"finale",dir:"auto",children:`${s} ${i}`},a)}));return a&&i.unshift((0,n.jsx)(t.D,{as:"p",variant:"finale",dir:"auto",children:a},i.length)),(0,n.jsx)("div",{className:s,children:i})}},30638:(e,a,i)=>{i.r(a),i.d(a,{default:()=>ui});i(99692);var t=i(50959),s=i(84875),n=i.n(s),r=i(5311),l=i(29482),c=i(45917),o=i(75652),d=i(38762),u=i(98900),m=i(56545),g=i(7146),k=i(55085),p=i(31926),h=i(77671),y=i(82565),x=i(97138),v=i(70509),N=i(27117),j=i(29338);const b="o2TlnuNKxRO5RnB9BpHB",L="q0Ke_aAvTcc4dO4wCHQt",f="UlKUfS_GcROZmofuafOW",C="I5LORTI1u3A6VoUvRCBf",I="TS85Qkpioa31wR0p4kzT",S="yL1DLXBc05CR_ACv_NhA",A="k5kRkUyoz9znqg_SGOVQ";var T=i(95040),R=i(50512),F=i(46556),P=i(16917),w=i(40897),U=i(11527);let D=function(e){return e.SMALL="small",e.LARGE="large",e}({});const E=({art:e,disabled:a=!1,LinkComponent:i,name:t,size:s=D.SMALL,type:c,uri:o})=>{const m=e?[e]:[],g=s===D.SMALL?(0,R.R)(c):function(e){switch(e){case T.albumType.SINGLE:return u.ag.get("track-page.from-the-single");case T.albumType.EP:return u.ag.get("track-page.from-the-ep");case T.albumType.COMPILATION:return u.ag.get("track-page.from-the-compilation");case T.albumType.ALBUM:default:return u.ag.get("track-page.from-the-album")}}(c),k=(0,r.s0)();return(0,U.jsxs)("div",{className:n()(b,{[f]:s===D.SMALL,[L]:a}),children:[(0,U.jsx)("div",{className:C,children:(0,U.jsx)(F.O,{images:m,size:w.m$.SIZE_80,title:t,type:P.p.ALBUM})}),(0,U.jsxs)("div",{className:I,children:[(0,U.jsx)(l.D,{variant:s===D.SMALL?"mestoBold":"finale",children:g}),(0,U.jsx)(i,{to:o,children:(0,U.jsx)(l.D,{as:"div",className:S,variant:"balladBold",dir:"auto",children:t})})]}),(0,U.jsx)("div",{onClick:()=>{k((0,d.EC)(o).toURLPath(!0))},className:A})]})};var O=i(97657),M=i(46227),B=i(50930),_=i(64461);let G=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const K=(0,_.Uy)(((e,a)=>{switch(a.type){case"LYRICS_LOADING":e[a.uri]={status:G.LOADING};break;case"LYRICS_LOADED":e[a.uri]={status:G.LOADED,data:a.response};break;case"LYRICS_ERROR":e[a.uri]={status:G.UNAVAILABLE};break;default:throw new Error(`Unhandled lyrics action with type: ${a.type}`)}}));var z=i(5750),V=i(57983),$=i(39253);const Y={status:G.LOADING},q={status:G.UNAVAILABLE},J=t.createContext(void 0),Z=({children:e,initialState:a={}})=>{const i=t.useReducer(K,a);return(0,U.jsx)(J.Provider,{value:i,children:e})},Q=({uri:e,isAnonymous:a,imageForLyricsRequest:i})=>{const s=t.useContext(J);if(void 0===s)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");const[n,r]=s,l=e?n[e]:null;return(0,t.useEffect)((()=>{!l&&e&&(r({type:"LYRICS_LOADING",uri:e}),(async({trackUri:e,api:a,imageForLyricsRequest:i})=>{const t=(0,d.EC)(e);try{const e=await V.Zz.getTrackEntityLyrics(a||z.b.getInstance(),t.id,i||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(e){if(e instanceof $.m&&404===e.status)return{hasLyrics:!1};throw e}})({trackUri:e,imageForLyricsRequest:i}).then((a=>{r({type:"LYRICS_LOADED",uri:e,response:a})})).catch((()=>{r({type:"LYRICS_ERROR",uri:e})})))}),[r,i,l,e]),e&&(0,d.wj)(e)&&!a?l||Y:q};var W=i(42189),H=i(97432),X=i(75661),ee=i(27718),ae=i(46351),ie=i(12919),te=i(11560),se=i(11508);const ne="oTRKhYD0MZlNPm66W3Tw",re="sc95MwPalcHwYGZ7j3xN",le="zrCZCfYv4zZiB1HYv9i8",ce="RnlxIDmWcYTbbwNSJNjA",oe="SHkxfN1vy0wpRMP1hK7I",de="COXBS6zLyyxKNYuEAzjZ",ue="sR5IpdOUvoUGYKlC9Dk1",me="FHMr3WxshoYjZ7jd3YwI",ge="Evcwc4KM2tf9xrLbfB8B",ke="x4_dsi31Cx2SO1L0uYIj",pe="euPDqfFEBILj9KHDNLC1",he="x6FPRUKK40oDCPP7g6Ls",ye="k3SPcfaKewjfdYumDcGw",xe="t9C7vRiN1OSC9uWfJEr0",ve="Onv6dO4lntCzKUqYa8PE",Ne="vHNIIDpwcSLuHumlKDbY",je=({richTrack:e})=>{const{search:a}=(0,r.TH)(),i=(0,t.useCallback)((()=>new URLSearchParams(a.slice(1)).get("highlight")||""),[a])(),{tracklistRef:s}=(0,se.W)(),n=e.albumOfTrack,l=(0,te.Y)(n?.uri||""),{usePlayContextItem:c}=(0,M.n)({uri:l},{featureIdentifier:"album"}),o=(0,t.useMemo)((()=>({items:[],totalCount:0})),[]);return n?(0,U.jsx)("div",{ref:s,className:ue,children:(0,U.jsx)(ie.L,{ariaLabel:n.name,nrTracks:n.tracks.totalCount,albumUri:n.uri,highlightUri:i,discs:o,usePlayContextItem:c,hasHeaderRow:!1})}):null};var be=i(33299),Le=i(30954),fe=i(45151),Ce=i(53972),Ie=i(36692),Se=i(14996),Ae=i(67301),Te=i(15871);const Re=t.memo((function({uri:e,togglePlay:a,isPlaying:i,isActive:s,spec:n,logger:r,backgroundColor:l,name:c,isPlayable:o,albumUri:d,artists:k}){const p=(0,Ae.o)(),h=(0,Te.k)(),[N,j]=(0,Ie.Z)(e),b=(0,t.useCallback)((async()=>{p({targetUri:e,intent:N?"unsave":"save",type:"click"});const a=n.saveButtonFactory();r.logInteraction(N?a.hitRemoveLike({itemNoLongerLiked:e}):a.hitLike({itemToBeLiked:e}));try{await j(!N)}catch{}}),[p,e,N,n,r,j]),L=(0,t.useCallback)((()=>{const t=(0,x.aK)({isPlaying:i,isActive:s,spec:n.playButtonFactory(),logger:r,uri:e});a({loggingParams:t})}),[s,i,r,n,a,e]),f=(0,t.useCallback)((()=>{r.logInteraction(n.contextButtonFactory().hitUiReveal())}),[r,n]),C=(0,Se.j)();return(0,U.jsx)(be.o,{backgroundColor:l,children:(0,U.jsxs)(be.F,{children:[(0,U.jsx)(g.rn,{children:(0,U.jsx)(y.$,{onClick:L,isPlaying:i,disabled:!o,size:C,uri:e})}),(0,U.jsx)(g.rn,{children:(0,U.jsx)(Le.H,{isAdded:!!N,onClick:b,disabled:!h,size:C})}),(0,U.jsx)(fe.o,{uri:e,isFollowing:!!N,onFollow:b,size:C}),(0,U.jsx)(v.yj,{menu:(0,U.jsx)(m.$,{uri:e,albumUri:d,artists:k}),onShow:f,children:(0,U.jsx)(Ce.z,{label:u.ag.get("more.label.context",c),size:C})})]})})})),Fe="OH5mnpJIVCJozYM3raMt",Pe="etw0slM6uVrCi5RR3iDi",we=({padded:e,providerDisplayName:a})=>a?(0,U.jsx)(l.D,{as:"p",dir:"auto",variant:"finale",className:`${Fe} ${e?Pe:""}`,children:u.ag.get("web-player.lyrics.providedBy",a)}):null,Ue=({uri:e,imageForLyricsRequest:a})=>{const{data:i}=Q({uri:e,imageForLyricsRequest:a});return i?.hasLyrics?(0,U.jsx)(we,{providerDisplayName:i.providerDisplayName}):null};var De=i(40587),Ee=i(30068);const Oe="QhDsXG1Gmo7XmQWLggAO",Me="bZgWQj7UxvK8GYKWDA7N",Be="AW61P3tnW5cKJCWtbhFh",_e=({buttonText:e,onSecondaryButtonClick:a,onPrimaryButtonClick:i,secondaryButtonText:t,text:s})=>(0,U.jsxs)("div",{className:Oe,"data-testid":"static-activation-trigger",children:[(0,U.jsx)(l.D,{className:Me,variant:"cello",children:s}),(0,U.jsxs)("div",{className:Be,children:[(0,U.jsx)(c.o,{onClick:a,semanticColor:"textBase",children:t}),(0,U.jsx)(Ee.D,{onClick:i,colorSet:"invertedLight",children:e})]})]});var Ge=i(94989);const Ke="T1nqQ4HEh3heHy4RCCKa",ze="L8zjshPVgUMXyZR4FtOk",Ve="YMn1FWcFmOz9osBrNvhF",$e="Inbyq3TnvKDOJtcKFTDQ",Ye="lWk5se4WETUOJwaEb8D6",qe="i8DyQbWCmDV_8N5XGJQT",Je="t5WPFlGTY6GCd9UOFfLu",Ze="AGQ3wRyMVK1odq860qnT",Qe="ZX_r7uZgPgssaUplfpxT",We="qrqctaPu2XBpxsw23nPX",He="XnWidTagai3nQwMPxIMF";var Xe=i(60818),ea=i(41426);let aa=function(e){return e.SMALL="small",e.LARGE="large",e}({});const ia=e=>{const{disabled:a,images:i,LinkComponent:t,name:s,size:c,uri:o,enableI18nRoutes:m,enableI18nAdditionalPages:g}=e,k=c===aa.SMALL,p=(0,r.s0)(),h=(0,d.EC)(o),y=h?.type,x=u.ag.getLocaleForURLPath(),v=(0,Xe.S9)({localeFeatureFlag:m,entityFeatureFlag:g,urlLocale:x,entity:y,type:"link"});return(0,U.jsxs)("div",{className:n()(ze,{[Ve]:a}),"data-testid":"track-artist-link-card",children:[(0,U.jsx)(F.O,{shape:F.K.CIRCLE,images:i,size:w.m$.SIZE_80,title:s,type:P.p.ARTIST}),(0,U.jsxs)("div",{className:n()(Ye,{[qe]:k}),children:[(0,U.jsx)(l.D,{variant:"mestoBold",className:$e,children:u.ag.get("card.tag.artist")}),(0,U.jsx)(t,{to:o,children:(0,U.jsx)(l.D,{as:"div",dir:"ltr",className:Je,variant:"balladBold",children:s})})]}),(0,U.jsx)("div",{onClick:()=>{const e=h?.toURL(`/${ea.F0}${x}/`);if(h){const a=v?e:h.toURLPath(!0);p(a)}},className:Ze})]})},ta=({size:e=aa.LARGE,disabled:a=!1,enableI18nRoutes:i,enableI18nAdditionalPages:s,...r})=>{const[o,d]=(0,t.useState)(!1),m=(0,t.useCallback)((()=>{d(!o)}),[o]),g=r.artists;return(0,U.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,U.jsx)("div",{className:Ke,children:g.map(((t,l)=>(0,U.jsx)("div",{className:n()({[We]:o&&l>5,[Qe]:l>5}),children:(0,U.jsx)(ia,{name:t.name,uri:t.uri,images:t.images,size:e,LinkComponent:r.LinkComponent,disabled:a,enableI18nRoutes:i,enableI18nAdditionalPages:s},t.id)},`${t.uri}-${l}`)))}),g.length>6&&(0,U.jsx)(c.o,{onClick:m,className:He,children:(0,U.jsx)(l.D,{as:"p",variant:"violaBold",children:o?u.ag.get("show_less"):u.ag.get("mwp.search.artists.all")})})]})};var sa=i(24172);const na="EaTxqhHk6J4ecKHwpY5m",ra="dUQl9yd5x_1oWk4L0Ntm",la="xt5C47eHPYNiriMJxGnC",ca=({words:e})=>(0,U.jsx)(l.D,{as:"p",dir:"auto",variant:"ballad",className:la,children:e});var oa=i(70885);const da=({data:e,eventSender:a,isPlaying:i,playbackId:s,uri:n})=>{const{lyrics:r=[],provider:c,providerLyricsId:o,syncType:d}=e,m=function(e){const{uri:a,provider:i,providerLyricsId:s,syncType:n,eventSender:r,isPlaying:l,playbackId:c}=e,[o,d]=(0,t.useState)(!1),u=(0,t.useMemo)((()=>(0,oa.N)({lyrics_format:"track-page",track_uri:a,provider:i,provider_lyrics_id:s,sync_type:n,playback_id:l?c:void 0})),[a,i,s,n,l,c]);return(0,t.useCallback)((()=>{o||(r?.send(u),d(!0))}),[u,r,o])}({uri:n,provider:c,providerLyricsId:o,syncType:d,eventSender:a,isPlaying:i,playbackId:s});return(0,t.useEffect)((()=>{m()}),[m]),(0,U.jsxs)("div",{className:na,children:[(0,U.jsx)(l.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:ra,children:u.ag.get("web-player.lyrics.title")}),r.map((({words:e},a)=>(0,U.jsx)(ca,{words:e},`lyrics-seo-line-${a}`)))]})};var ua=i(28106),ma=i(66355),ga=i(42370);const ka=({uri:e,imageForLyricsRequest:a})=>{const{data:i}=Q({uri:e,imageForLyricsRequest:a}),t=(0,ga.s4)(),{isPaused:s,currentTrackUri:n,playbackId:r}=(0,ua.Y)((e=>({isPaused:e?.isPaused,currentTrackUri:e?.item?.uri,playbackId:e?.playbackId})),ma.V),l=!s&&n===e;return i&&i?.hasLyrics?(0,U.jsx)(da,{data:i,uri:e,eventSender:t,isPlaying:l,playbackId:r}):null};var pa=i(90913),ha=i(12864);const ya=e=>{const{albumArtists:a,columnCount:i,imageForLyricsRequest:s,uri:r}=e,l=i-2,c={"--column-count":i,"--left-column-end":l-2,"--right-column-start":l},{isAnonymous:o}=(0,De.v9)(ha.Gg),d=(0,Te.k)(),{data:m,status:g}=Q({uri:r,isAnonymous:o,imageForLyricsRequest:s}),k=!!m&&m.hasLyrics&&g!==G.UNAVAILABLE||o,p=(0,De.v9)(pa.br),h=(0,De.v9)(pa.yE);return(0,U.jsxs)(t.Suspense,{fallback:null,children:[k&&(0,U.jsx)("div",{className:n()(le,{[ce]:i>5}),style:{...c},"data-testid":"lyrics-container",children:o?(0,U.jsx)(_e,{buttonText:u.ag.get("sign_up"),secondaryButtonText:u.ag.get("login"),text:u.ag.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:sa.L6,onSecondaryButtonClick:sa.h$}):(0,U.jsx)(ka,{uri:r,imageForLyricsRequest:s})}),(0,U.jsx)("div",{className:n()(ne,{[re]:i>5&&k}),style:{...c},children:(0,U.jsx)(ta,{artists:a,LinkComponent:Ge.default,disabled:!d,enableI18nRoutes:p,enableI18nAdditionalPages:h})})]})};var xa=i(27293),va=i(42982),Na=i(55272),ja=i(92197),ba=i(46304),La=i(98226),fa=i(15192),Ca=i(19451),Ia=i(80319),Sa=i(96613),Aa=i(61204),Ta=i(54930),Ra=i(34278),Fa=i(35292),Pa=i(18078),wa=i(88258);const Ua="Z9Dr8PkXFtlO8KnnDcxp",Da="Bm0LUMlhVIcF5qusgdUP",Ea="GIyB7JDkRwjtVL6PSBbg",Oa="whTIka0YYAkqhqrs26Wa",Ma=t.memo((function({uri:e,name:a,imgUrl:i,artists:t,isExplicit:s,index:n,albumUri:r,contextUri:l,isPlayable:c,usePlayContextItem:o,isMOGEFRestricted:d,totalMilliseconds:g,playcount:k}){const{isActive:p,isPlaying:h,triggerPlay:y,togglePlay:x}=o({uri:e,index:n}),v=(0,Ca._)(e),N=(0,Ta.k)(e,c),j=t.map((e=>e.name)).join(u.ag.getSeparator()),{badges:b,hasBadges:L}=(0,Ia.r)({isMOGEFRestricted:d,downloadAvailability:v,isExplicit:s}),f=t.map((e=>e.name)).join(u.ag.getSeparator()),C=(0,Aa.E)();return(0,U.jsx)(fa.JL,{value:"row",index:n,children:(0,U.jsx)(Na._,{menu:(0,U.jsx)(m.$,{uri:e,albumUri:r,artists:t,contextUri:l}),children:(0,U.jsxs)(wa.c,{uri:e,contextUri:l,isPlayable:N,onTriggerPlay:(e,a)=>{y({loggingParams:a})},isActive:p,index:n,ariaRowIndex:n,dragMetadata:{name:a,createdBy:j},children:[(0,U.jsxs)(Fa.vZ,{ariaColIndex:0,children:[(0,U.jsx)(Fa.VG,{uri:e,src:i,onClick:(e,a)=>{x({loggingParams:a})},isLocked:!1,isPlaying:h,isActive:p,playAriaLabel:u.ag.get("tracklist.a11y.play",a,j)}),(0,U.jsxs)(Fa.vm,{children:[(0,U.jsx)(Ra.G,{uri:e,enabled:C,className:Ea,children:(0,U.jsx)(Fa.Wh,{titleText:a,children:a})}),L&&(0,U.jsxs)(Fa.g3,{children:[b.download&&(0,U.jsx)(ja.G,{}),b.explicit&&(0,U.jsx)(ba.N,{}),b.nineteen&&(0,U.jsx)(La.X,{className:Oa,size:16})]}),(0,U.jsx)(Fa.K9,{children:(0,U.jsx)(Fa.T6,{artists:t})})]})]}),(0,U.jsx)(Fa.UA,{ariaColIndex:1,children:(0,U.jsx)(Pa.B,{playcount:k})}),(0,U.jsxs)(Fa.mU,{ariaColIndex:2,children:[(0,U.jsx)(Sa.f,{uri:e}),(0,U.jsx)(Fa.A$,{duration:g}),(0,U.jsx)(Fa.Zv,{menu:(0,U.jsx)(m.$,{uri:e,albumUri:r,contextUri:l,artists:t}),label:u.ag.get("more.label.track",a,f)})]})]})})})}),((e,a)=>e.uri===a.uri&&e.index===a.index));var Ba=i(45963);const _a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"internalLinkRecommenderTrack"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"strategy"}},type:{kind:"NamedType",name:{kind:"Name",value:"SEORankingStrategy"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"seoRecommended"},arguments:[{kind:"Argument",name:{kind:"Name",value:"seoRecommendedInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"strategy"},value:{kind:"Variable",name:{kind:"Name",value:"strategy"}}},{kind:"ObjectField",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ilrTrackData"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ilrTrackData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]};var Ga=i(56608);const Ka=e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Track"===e.__typename;var a},za=t.memo((function({strategy:e,uri:a}){const{data:i}=(s={uri:a,strategy:e},(0,Ba.a)(_a,s,n));var s,n;const r=i?.seoRecommended.items,c=(0,t.useMemo)((()=>r?.slice(0,Math.min(r.length,5))),[r]),o=(0,t.useCallback)((e=>"uri"in e.data?e.data.uri:""),[]),d=(0,t.useMemo)((()=>[Ga.QD.TITLE_AND_ARTIST,Ga.QD.ALBUM,Ga.QD.DURATION]),[]),m=(r||[])?.map((e=>Ka(e.data)?{...e.data,provider:null,type:P.p.TRACK,uid:null}:{type:P.p.TRACK,uri:"",uid:null,provider:null})),g=(0,te.Y)(a),{usePlayContextItem:k}=(0,M.n)({uri:g,pages:[{items:m}]},{featureIdentifier:"track"}),p=(0,t.useCallback)(((e,i)=>{if(!Ka(e.data))return(0,U.jsx)(t.Fragment,{});const s=e.data;return(0,U.jsx)(Ma,{index:i,contextUri:a,uri:s.uri,name:s.name,totalMilliseconds:s.duration.totalMilliseconds,imgUrl:s.albumOfTrack?.coverArt?.sources[0]?.url,isPlayable:s.playability.playable,artists:s.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:s?.albumOfTrack?.uri,isExplicit:s.contentRating?.label===X.KS.Explicit,isMOGEFRestricted:s.contentRating?.label===X.KS.NineteenPlus,usePlayContextItem:k,playcount:parseInt(s.playcount||"0",10)},`${i}-${s.uri}`)}),[a,k]);return r?.length?(0,U.jsxs)("div",{className:Ua,children:[(0,U.jsxs)("div",{className:Da,children:[(0,U.jsx)(l.D,{variant:"canon",semanticColor:"textBase",children:u.ag.get("playlist.extender.recommended.title")}),(0,U.jsx)(l.D,{variant:"mesto",paddingBottom:va.o7,children:u.ag.get("internal-link-recommender.based-on-this-song")})]}),(0,U.jsx)(Ga.Pv,{ariaLabel:u.ag.get("playlist.extender.recommended.title"),nrTracks:Math.min(r.length,5),rowPlaceholder:Ga.hU,tracks:c,renderRow:p,resolveUri:o,columns:d},"internal-link-recommender-track-list")]}):null}));var Va=i(32238),$a=i(99107);const Ya=({album:e,index:a,artistURI:i})=>(0,U.jsx)(fa.JL,{value:"card",index:a,children:(0,U.jsx)($a.i,{index:a,latest:!1,showType:!0,...(0,Va.B$)(e,i,e.name)})});var qa=i(92369);const Ja=({albums:e,artistName:a,artistId:i,artistUri:t,className:s})=>e?(0,U.jsx)(fa.JL,{value:"shelf/albums",children:(0,U.jsx)(qa.P,{total:e.totalCount,title:u.ag.get("rich-page.popular-albums-by-artist",{artist:a}),seeAllUri:`${(0,Va.GJ)(i)}:discography:${X.VZ.Album.toLowerCase()}`,seeAllLabel:u.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:s,children:(0,Va.Hr)(e.items).map(((e,a)=>(0,U.jsx)(Ya,{album:e,index:a,artistURI:t},e.uri)))})}):null;var Za=i(85802);const Qa=({artistId:e,className:a,fansAlsoLike:i,title:t})=>(0,U.jsx)(fa.JL,{value:"shelf/fans-also-like",children:(0,U.jsx)(qa.P,{total:i.length,title:t??u.ag.get("rich-page.fans-also-like"),seeAllUri:`${(0,Va.GJ)(e)}:related`,className:a,children:i.map(((e,a)=>(0,U.jsx)(fa.JL,{value:"card",index:a,children:(0,U.jsx)(Za.I,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]})},e.uri)))})});var Wa=i(48452);const Ha="ERm7dIKbVoqGwPb_lXPH",Xa=({artistName:e,artistUri:a,headerClassName:i,rowClassName:s,topTracks:n,topTracksTransformer:r,uri:c})=>{const o=(0,t.useMemo)((()=>n?.items.map((e=>r(e,c)))),[n?.items,r,c]),{usePlayContextItem:d}=(0,M.n)({uri:a},{featureIdentifier:"artist"});return o&&o.length>0?(0,U.jsxs)("div",{className:s,children:[(0,U.jsxs)("div",{children:[(0,U.jsx)(l.D,{variant:"mesto",className:Ha,children:u.ag.get("rich-page.popular-tracks")}),(0,U.jsx)(l.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:i,children:e})]}),(0,U.jsx)(Wa.k,{nrTracks:o.length,initialTracks:o,usePlayContextItem:d})]}):null},ei=({artistName:e,artistId:a,artistUri:i,className:t,releases:s,artistImages:n})=>s?(0,U.jsx)(fa.JL,{value:"shelf/releases",children:(0,U.jsx)(qa.P,{total:10,title:u.ag.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,Va.GJ)(a)}:discography:${X.VZ.Album.toLowerCase()}`,seeAllLabel:u.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,listRowHeaderProps:n?{title:e,pretitle:u.ag.get("artist-page.popular"),media:(0,H.o)(n,{desiredSize:48})||""}:null,children:s.items.map(((e,a)=>(0,U.jsx)(Ya,{album:e,index:a,artistURI:i},e.uri)))})}):null,ai=({artistId:e,artistName:a,artistUri:i,className:t,singles:s})=>s?(0,U.jsx)(fa.JL,{value:"shelf/singles-and-eps",children:(0,U.jsx)(qa.P,{total:s.totalCount,title:u.ag.get("rich-page.popular-singles-and-eps-by-artist",{artist:a}),seeAllUri:`${(0,Va.GJ)(e)}:discography:${X.VZ.Single.toLowerCase()}`,seeAllLabel:u.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,children:(0,Va.Hr)(s.items).map(((e,a)=>(0,U.jsx)(Ya,{album:e,index:a,artistURI:i},e.uri)))})}):null;var ii=i(27931),ti=i(39359),si=i(6401),ni=i(59781),ri=i(54390),li=i(61309);const ci=e=>(e.items||[]).map((e=>({name:e.profile.name,images:(e.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}))),oi=e=>(e||[]).map((e=>e.profile.name)),di=({uri:e,track:a})=>{const i=(0,Te.k)(),s=(0,si.g)(),d=(0,ti.k)({type:"locale",uri:e}),h=u.ag.getLocaleForTranslation(),b=parseInt(a.playcount||"0",10),{firstArtist:L,otherArtists:f,albumOfTrack:C,duration:I,name:S}=a,A=C?.coverArt,T=C?.copyright.items,R=C?.courtesyLine,{date:F,precision:P}=C?.date?(0,ee.dR)(C.date):{date:void 0,precision:void 0},w=A?.extractedColors?.colorRaw.hex,O=(A?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),_={uri:C?.uri||"",name:C?.name||""},{trackId:G=""}=(0,r.UO)(),K=(0,ri.IB)(G,"track");(0,ii.W)(e);const z=oi(L.items),V=oi(f.items),$=ci(L),Y=ci(f),q=[...$,...Y],J=L.items[0],Q=a.albumOfTrack,ie=Q?.playability?.playable,se={artistId:J?.id,artistName:J?.profile?.name,artistUri:J?.uri},ne=a.albumOfTrack?.coverArt?.sources,re=(0,H.o)(ne||void 0,{desiredLabel:"large",desiredSize:600})??ne?.[0]?.url??"",[le,ce]=(0,t.useState)(!1),ue=(0,t.useCallback)((()=>{ce(!le)}),[le]),be=f&&f.items.length>5,{spec:Le,logger:fe}=(0,W.fU)(o.createDesktopTrackEventFactory,{data:{uri:e}}),Ce=a.playability.playable,Ie=(0,te.Y)(e),{togglePlay:Se,isPlaying:Ae,isActive:Fe}=(0,M.n)({uri:Ie},{featureIdentifier:"track"}),Pe=(0,t.useCallback)((()=>(0,B.Zs)({i18n:u.ag,trackArtistsList:[...z,...V].join(u.ag.getSeparator()),trackName:a.name,shouldLocalize:d})),[z,V,d,a.name]),we=(0,t.useCallback)(((e,a)=>{fe.logInteraction(Le.headerFactory().artistLinkFactory({position:a.position,uri:a.creator.uri}).hitUiNavigate({destination:a.creator.uri}))}),[fe,Le]),De=(0,t.useCallback)((()=>{const a=(0,x.aK)({isPlaying:Ae,isActive:Fe,spec:Le.actionBarFactory().playButtonFactory(),logger:fe,uri:e});Se({loggingParams:a})}),[Fe,Ae,fe,Le,Se,e]),Ee=Q?.uri,Oe=(0,t.useMemo)((()=>[...L.items,...f.items].map((e=>({uri:e.uri,name:e.profile.name})))),[L.items,f.items]),Me=(0,U.jsx)(m.$,{uri:e,albumUri:Ee,artists:Oe});return(0,U.jsxs)("section",{"data-testid":"track-page",children:[(0,U.jsx)(xa.$,{children:Pe()}),(0,U.jsxs)(g.gF,{backgroundColor:w,children:[(0,U.jsxs)(k.W,{children:[(0,U.jsx)(y.$,{size:"medium",onClick:De,disabled:!Ce,isPlaying:Ae,uri:e}),(0,U.jsx)(p.i,{text:S,dragUri:e,dragLabel:S})]}),(0,U.jsx)(v._P,{menu:Me,children:(0,U.jsx)(g.Oz,{dragUri:e,images:O,name:S,placeholderType:"album"})}),(0,U.jsxs)(g.sP,{children:[(0,U.jsx)(l.D,{variant:"mestoBold",children:u.ag.get("song")}),(0,U.jsx)(v._P,{menu:Me,children:(0,U.jsx)(g.xd,{dragUri:e,dragLabel:S,children:S})}),(0,U.jsx)(g.QS,{creators:$,releaseDate:F,releaseDatePrecision:P,durationMilliseconds:I.totalMilliseconds,onCreatorClick:we,isTrack:!0,album:_,playcount:b})]})]}),(0,U.jsx)(Re,{uri:e,togglePlay:Se,isPlaying:Ae,isActive:Fe,spec:(0,t.useMemo)((()=>Le.actionBarFactory()),[Le]),logger:fe,backgroundColor:w,name:S,isPlayable:Ce,albumUri:Ee,artists:Oe}),(0,U.jsxs)(Z,{children:[(0,U.jsxs)("div",{className:"contentSpacing",children:[(0,U.jsx)("div",{className:oe,children:(0,U.jsx)(j.T,{render:({columnCount:a})=>(0,U.jsx)(ya,{imageForLyricsRequest:re,albumArtists:q,columnCount:a,uri:e})})}),(0,U.jsx)(za,{strategy:X.JI.ContentOnly,uri:a.uri}),(0,U.jsx)(Xa,{artistName:J.profile.name,artistUri:J.uri,headerClassName:ge,rowClassName:oe,topTracks:J.discography.topTracks,topTracksTransformer:ni.X7,uri:a.uri}),(0,U.jsx)(ei,{className:me,releases:J?.discography?.popularReleasesAlbums,...se}),(0,U.jsx)(Ja,{albums:J?.discography?.albums,className:me,...se}),(0,U.jsx)(ai,{className:me,singles:J?.discography?.singles,...se}),f&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:pe,children:f.items.map(((e,a)=>(0,U.jsx)(ei,{className:n()(ke,{[ye]:a>4,[xe]:le&&a>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:e.visuals.avatarImage?.sources},e.id)))}),be&&(0,U.jsx)(c.o,{onClick:ue,className:ve,children:(0,U.jsx)(l.D,{as:"h2",variant:"violaBold",children:le?u.ag.get("show_less"):u.ag.get("mwp.search.artists.all")})}),(0,U.jsx)(Qa,{artistId:J.id,className:n()(me,{[he]:f.items.length>0}),fansAlsoLike:J.relatedContent.relatedArtists.items,title:u.ag.get("artist-page.fansalsolike")})]}),Q&&(0,U.jsx)(E,{art:Q.coverArt?.sources[0],disabled:!ie||!i,LinkComponent:Ge.default,name:Q.name,type:Q.type,size:D.LARGE,uri:Q.uri}),(0,U.jsx)(je,{richTrack:a})]}),(0,U.jsxs)("div",{className:"contentSpacing",children:[(0,U.jsxs)("div",{className:de,children:[F&&(0,U.jsx)(l.D,{as:"p",variant:"mesto",className:Ne,children:(0,ae.BI)((0,ae.RX)(F),h,{year:"numeric",month:"long",day:"numeric"},P)}),(0,U.jsx)(N.k,{copyrights:T||[],courtesyLine:R}),!s&&(0,U.jsx)(Ue,{uri:e,imageForLyricsRequest:re})]}),K&&(0,U.jsx)(ri.J,{uri:e,title:u.ag.get("lfc.track.title")})]})]})]})},ui=(0,t.memo)((function(){const{trackId:e=""}=(0,r.UO)(),a=(0,d.tn)(e).toURI(),i=(0,li.QN)({uri:a});return i.loading||i.error||"Track"!==i.data?.trackUnion?.__typename?(0,U.jsx)(h.h,{hasError:!i.loading,errorMessage:u.ag.get("track-page.error")}):(0,U.jsx)(O.fd,{surface:O.Tg.TRACK,uris:[a,i.data.trackUnion.albumOfTrack?.uri??null],children:(0,U.jsx)(di,{uri:a,track:i.data.trackUnion})})}))},27931:(e,a,i)=>{i.d(a,{W:()=>c});var t=i(50959),s=i(40587),n=i(61204),r=i(72319),l=i(51145);const c=e=>{const a=(0,s.I0)(),i=(0,n.E)(),c=(0,s.v9)(l.KQ);(0,t.useEffect)((()=>{i&&e!==c&&a((0,r.jZ)(e))}),[e,c,a,i])}},51145:(e,a,i)=>{i.d(a,{KQ:()=>r,M4:()=>c,aj:()=>l});var t=i(23055),s=i(16917);const n=e=>e.seoExperiment,r=(0,t.P1)(n,(e=>e?.uri)),l=(0,t.P1)(n,(e=>e?.[s.p.TRACK])),c=(0,t.P1)(n,(e=>e?.[s.p.ALBUM]))},98246:(e,a,i)=>{i.d(a,{vI:()=>t});i(99692);const t=(e,a)=>{const i=a?new URLSearchParams(a.search):void 0;return"1"===i?.get(e)}},42148:(e,a,i)=>{i.d(a,{k:()=>t});let t=function(e){return e.I18nSEO="i18nSEO",e.RTPTrackCredits="rtpv2p2",e.I18nAdditionalPages="i18nap",e.RichPlaylistPages="rpp",e.LFC="lfc",e}({})}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map